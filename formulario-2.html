<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Mantenimiento Veh√≠culos | Municipalidad de Arica</title>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="dir_formularioapps.js"></script>

</head>
<style>
  /* Reset and base styles */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
  }

  body {
    background-color: #f5f5f7;
    color: #1d1d1f;
    overflow-x: hidden;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Header styles */
  header {
    background-color: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    transition: all 0.4s ease;
  }

  .top-header {
    display: flex;
    justify-content: center;
    /* Centramos horizontalmente */
    align-items: center;
    padding: 15px 5%;
    max-width: 1400px;
    margin: 0 auto;
    text-align: center;
  }

  .logo {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
  }

  .logo img {
    height: 40px;
    transition: transform 0.3s ease;
  }

  .logo:hover img {
    transform: scale(1.05);
  }

  .logo-text {
    display: flex;
    flex-direction: column;
    align-items: center;
    /* Centra el texto debajo del logo */
    margin-left: 0;
  }

  .logo-text h1 {
    font-size: 24px;
    font-weight: 600;
    letter-spacing: -0.5px;
  }

  .logo-text span {
    font-size: 12px;
    font-weight: 400;
    color: #86868b;
  }

  /* Transparency links */
  .transparency-container {
    position: relative;
    background-color: rgba(0, 0, 0, 0.03);
    text-align: center;
  }

  .transparency-toggle {
    display: none;
    background-color: rgba(0, 0, 0, 0.03);
    border: none;
    color: #06c;
    padding: 12px 20px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    width: 100%;
    text-align: center;
    transition: background-color 0.3s ease;
  }

  .transparency-toggle:hover {
    background-color: rgba(0, 0, 0, 0.05);
  }

  .toggle-icon {
    display: inline-block;
    margin-left: 8px;
    transition: transform 0.3s ease;
  }

  .transparency-links {
    background-color: rgba(0, 0, 0, 0.03);
    display: flex;
    justify-content: center;
    padding: 10px 0;
    overflow-x: auto;
    white-space: nowrap;
    transition: max-height 0.4s ease;
  }

  .transparency-links a {
    color: #06c;
    text-decoration: none;
    margin: 0 15px;
    font-size: 14px;
    font-weight: 400;
    transition: opacity 0.3s ease, transform 0.3s ease;
  }

  .transparency-links a:hover {
    opacity: 0.7;
    transform: translateY(-1px);
  }

  /* Navigation menu */
  nav {
    background-color: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05);
  }

  .main-menu {
    display: flex;
    list-style: none;
    justify-content: center;
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 5%;
    overflow-x: auto;
  }

  .main-menu li {
    position: relative;
  }

  .main-menu a {
    display: block;
    padding: 15px 20px;
    color: #1d1d1f;
    text-decoration: none;
    font-weight: 400;
    font-size: 14px;
    transition: color 0.3s ease;
    position: relative;
  }

  .main-menu a::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%) scaleX(0);
    width: 20px;
    height: 2px;
    background-color: #06c;
    transition: transform 0.3s ease;
  }

  .main-menu a:hover {
    color: #06c;
  }

  .main-menu a:hover::after {
    transform: translateX(-50%) scaleX(1);
  }

  /* Dashboard container */
  .dashboard-container {
    padding: 40px 5%;
    max-width: 1400px;
    margin: 0 auto;
  }

  .dashboard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 40px;
    padding-bottom: 20px;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  }

  .dashboard-title {
    font-size: 32px;
    font-weight: 700;
    letter-spacing: -0.5px;
    color: #1d2939;
    position: relative;
  }

  .dashboard-title:after {
    content: '';
    position: absolute;
    bottom: -12px;
    left: 0;
    width: 60px;
    height: 4px;
    background: linear-gradient(90deg, #0066cc, #1a8cff);
    border-radius: 2px;
  }

  .back-button {
    display: flex;
    align-items: center;
    background-color: #ffffff;
    border: 1px solid rgba(0, 0, 0, 0.1);
    border-radius: 100px;
    padding: 12px 24px;
    font-size: 16px;
    font-weight: 500;
    color: #0066cc;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .back-button:hover {
    background-color: #f5f9ff;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 102, 204, 0.15);
  }

  .back-icon {
    margin-right: 8px;
  }

  /* Card Grid System */
  .cards-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 30px;
    margin: 40px 0;
  }

  .card {
    background: white;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.06);
    transition: all 0.4s ease;
    position: relative;
    z-index: 1;
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  .card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
  }

  .card:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 5px;
    background: linear-gradient(90deg, #0066cc, #1a8cff);
    z-index: 2;
  }

  .card-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, #f0f7ff, #e6f2ff);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 25px auto 15px;
    color: #0066cc;
    font-size: 24px;
    transition: all 0.3s ease;
  }

  .card:hover .card-icon {
    transform: scale(1.1) rotate(5deg);
    box-shadow: 0 5px 15px rgba(0, 102, 204, 0.15);
  }

  .card-title {
    font-size: 22px;
    font-weight: 600;
    text-align: center;
    margin: 10px 0;
    color: #1d2939;
    padding: 0 20px;
  }

  .card-description {
    text-align: center;
    padding: 0 25px;
    color: #64748b;
    font-size: 15px;
    line-height: 1.6;
    margin-bottom: 25px;
    flex-grow: 1;
  }

  .card-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 14px 28px;
    font-size: 16px;
    font-weight: 600;
    color: #fff;
    background: linear-gradient(135deg, #0066cc, #1a8cff);
    border: none;
    border-radius: 100px;
    text-decoration: none;
    transition: all 0.3s ease;
    margin: 0 auto 25px;
    box-shadow: 0 5px 15px rgba(0, 102, 204, 0.2);
  }

  .card-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0, 102, 204, 0.3);
    background: linear-gradient(135deg, #005cb8, #0080ff);
  }

  .card-button .arrow {
    margin-left: 8px;
    transition: transform 0.3s ease;
  }

  .card-button:hover .arrow {
    transform: translateX(4px);
  }

  /* Stats counter section */
  .stats-section {
    background: linear-gradient(135deg, #ffffff, #f5f9ff);
    border-radius: 16px;
    padding: 40px;
    margin: 50px 0 40px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.04);
  }

  .stats-title {
    text-align: center;
    font-size: 24px;
    font-weight: 600;
    margin-bottom: 30px;
    color: #1d2939;
  }

  .stats-container {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 20px;
  }

  .stat-item {
    text-align: center;
    padding: 0 20px;
    min-width: 220px;
  }

  .stat-number {
    font-size: 36px;
    font-weight: 700;
    margin-bottom: 10px;
    background: linear-gradient(135deg, #0066cc, #1a8cff);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .stat-label {
    color: #64748b;
    font-size: 16px;
  }

  /* Footer */
  footer {
    background-color: #f5f5f7;
    color: #1d1d1f;
    padding: 60px 5%;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    margin-top: 60px;
  }

  .footer-container {
    display: flex;
    justify-content: space-between;
    max-width: 1400px;
    margin: 0 auto;
  }

  .footer-column {
    flex: 1;
    padding: 0 20px;
  }

  .footer-column h3 {
    margin-bottom: 20px;
    font-size: 18px;
    font-weight: 600;
  }

  .footer-column p {
    margin-bottom: 10px;
    color: #86868b;
    font-size: 14px;
  }

  .footer-column ul {
    list-style: none;
  }

  .footer-column ul li {
    margin-bottom: 12px;
  }

  .footer-column a {
    color: #06c;
    text-decoration: none;
    font-size: 14px;
    transition: opacity 0.3s ease;
  }

  .footer-column a:hover {
    opacity: 0.7;
  }

  .social-icons {
    display: flex;
    gap: 15px;
    margin-top: 20px;
  }

  .social-icons a {
    background-color: rgba(0, 0, 0, 0.05);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    transition: transform 0.3s ease, background-color 0.3s ease;
  }

  .social-icons a:hover {
    transform: translateY(-3px);
    background-color: rgba(0, 0, 0, 0.1);
  }

  .footer-bottom {
    max-width: 1400px;
    margin: 40px auto 0;
    padding-top: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    text-align: center;
    font-size: 12px;
    color: #86868b;
  }

  /* Assistant chat button */
  .assistant-button {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background-color: rgba(6, 12, 204, 0.9);
    color: white;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    cursor: pointer;
    z-index: 100;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .assistant-button:hover {
    transform: scale(1.1);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
  }

  /* Responsive design */
  @media (max-width: 992px) {
    .footer-container {
      flex-direction: column;
    }

    .footer-column {
      margin-bottom: 40px;
    }

    .dashboard-iframe {
      height: 65vh;
    }
  }

  @media (max-width: 768px) {
    .dashboard-title {
      font-size: 24px;
    }

    .dashboard-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 15px;
    }

    .dashboard-iframe {
      height: 50vh;
    }

    .transparency-toggle {
      display: block;
    }

    .transparency-toggle.active .toggle-icon {
      transform: rotate(180deg);
    }

    .transparency-links {
      max-height: 0;
      padding: 0;
      overflow: hidden;
      flex-direction: column;
    }

    .transparency-links.active {
      max-height: 200px;
      padding: 10px 0;
    }

    .transparency-links a {
      margin: 8px 0;
      padding: 5px 0;
    }
  }

  .custom-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 12px 28px;
    font-size: 16px;
    font-weight: 600;
    color: #fff;
    background: linear-gradient(135deg, #ff6a00, #ee0979);
    border: none;
    border-radius: 999px;
    box-shadow: 0 8px 20px rgba(255, 105, 135, 0.3);
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .custom-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(255, 105, 135, 0.5);
    background: linear-gradient(135deg, #ee0979, #ff6a00);
  }

  .arrow {
    margin-left: 10px;
    font-size: 18px;
    transition: transform 0.3s ease;
  }

  .custom-btn:hover .arrow {
    transform: translateX(4px);
  }

  /* Estilo para el contenedor de imagen circular */
  .card-icon-circle {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background-color: #f5f5f5;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 auto 15px;
    /* A√±ade margen autom√°tico a los lados */
    overflow: hidden;
    /* Asegura que la imagen no sobresalga del c√≠rculo */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  /* Estilo para la imagen dentro del c√≠rculo */
  .card-icon-circle img {
    width: 80%;
    /* Un poco menor que el contenedor para dejar margen */
    height: 80%;
    object-fit: cover;
    /* Cubre el √°rea del c√≠rculo */
    border-radius: 50%;
    /* Hace que la imagen tambi√©n sea circular */
  }

  .card-title {
    font-size: 1.5rem;
    color: #333;
    margin-bottom: 10px;
    text-align: center;
  }

  .card-description {
    color: #666;
    font-size: 0.9rem;
    margin-bottom: 20px;
    text-align: center;
    flex-grow: 1;
  }

  .card-button:hover {
    background-color: #0b7dda;
  }

  .arrow {
    margin-left: 8px;
    transition: transform 0.3s;
  }

  .card-button:hover .arrow {
    transform: translateX(5px);
  }

  /* Estilos responsive */
  @media (max-width: 768px) {
    .card {
      max-width: 100%;
    }
  }

  /* Variaci√≥n 1: C√≠rculo con borde de color */
  .card-icon-circle-border {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background-color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 15px;
    overflow: hidden;
    border: 3px solid #2196F3;
    /* Borde azul que coincide con el bot√≥n */
  }

  /* Variaci√≥n 2: C√≠rculo con fondo de color */
  .card-icon-circle-colored {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background-color: #2196F3;
    /* Fondo azul que coincide con el bot√≥n */
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 15px;
    overflow: hidden;
  }

  .card-icon-circle-colored img {
    width: 60%;
    height: 60%;
    object-fit: contain;
    filter: brightness(0) invert(1);
    /* Hace la imagen blanca */
  }

  /* Variaci√≥n 3: C√≠rculo con efecto de sombra interna */
  .card-icon-circle-shadow {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background-color: #f5f5f5;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 15px;
    overflow: hidden;
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
  }

  /* Variaci√≥n 4: C√≠rculo con efecto de resplandor */
  .card-icon-circle-glow {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background-color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 15px;
    overflow: hidden;
    box-shadow: 0 0 15px rgba(33, 150, 243, 0.5);
    /* Resplandor azul */
  }

  /* Estilos para la secci√≥n de estad√≠sticas */
  .stats-section {
    margin-top: 30px;
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
  }

  .stats-title {
    color: #333;
    margin-bottom: 20px;
    text-align: center;
    font-size: 1.4em;
    border-bottom: 2px solid #4CAF50;
    padding-bottom: 10px;
  }

  .stats-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    gap: 20px;
    margin-bottom: 25px;
  }

  .stat-item {
    text-align: center;
    flex: 1;
    min-width: 150px;
    background-color: #f9f9f9;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s;
  }

  .stat-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
  }

  .stat-number {
    font-size: 2em;
    font-weight: bold;
    color: #2196F3;
    margin-bottom: 5px;
  }

  .stat-label {
    color: #555;
    font-size: 0.9em;
  }

  /* Estilos para las alertas */
  .alerts-container {
    margin-top: 20px;
  }

  .alert {
    padding: 12px 15px;
    margin-bottom: 15px;
    border-left: 5px solid;
    border-radius: 5px;
    font-size: 14px;
    display: flex;
    align-items: center;
  }

  .alert-icon {
    margin-right: 15px;
    width: 24px;
    height: 24px;
    flex-shrink: 0;
  }

  .alert-danger {
    background-color: #ffebee;
    border-color: #f44336;
    color: #d32f2f;
  }

  .alert-warning {
    background-color: #fff8e1;
    border-color: #ffc107;
    color: #ff8f00;
  }

  .alert-info {
    background-color: #e3f2fd;
    border-color: #2196F3;
    color: #0d47a1;
  }

  .alert-success {
    background-color: #e8f5e9;
    border-color: #4CAF50;
    color: #2e7d32;
  }

  /* Mejora responsividad de los gr√°ficos */
  .charts-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin-top: 30px;
    width: 100%;
  }

  .chart-container {
    flex: 1;
    min-width: 300px;
    height: 300px;
    background-color: #f9f9f9;
    border-radius: 8px;
    padding: 15px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    position: relative;
    overflow: hidden;
    text-align: center; /* centra el canvas horizontalmente */
    /* Importante: evita desbordamiento */
  }

  @media (max-width: 768px) {
    .charts-container {
      flex-direction: column;
    }

    .chart-container {
      width: 100%;
      min-width: 0;
      /* Elimina el min-width en m√≥vil */
      height: 250px;
      /* Altura reducida para m√≥vil */
      margin-bottom: 20px;
      text-align: center; /* centra el canvas horizontalmente */
    }
  }

  /* Estilos para la tabla de resumen */
  .summary-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    font-size: 14px;
  }

  .summary-table th,
  .summary-table td {
    border: 1px solid #ddd;
    padding: 8px 12px;
    text-align: left;
  }

  .summary-table th {
    background-color: #f2f2f2;
    color: #333;
  }

  .summary-table tr:nth-child(even) {
    background-color: #f9f9f9;
  }

  .progress-container {
    width: 100%;
    background-color: #e0e0e0;
    border-radius: 4px;
    height: 8px;
    margin-top: 5px;
  }

  .progress-bar {
    height: 100%;
    border-radius: 4px;
    background-color: #4CAF50;
  }

  .progress-bar-warning {
    background-color: #FFC107;
  }

  .progress-bar-danger {
    background-color: #F44336;
  }

  /* Responsive */
  @media screen and (max-width: 768px) {
    .stats-container {
      flex-direction: column;
    }

    .chart-container {
      min-width: 100%;
      text-align: center; /* centra el canvas horizontalmente */
    }
  }
  /* A√±ade estos nuevos estilos para el modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
    }

    .modal-content {
      background-color: #fff;
      margin: 10% auto;
      padding: 20px;
      border-radius: 8px;
      width: 80%;
      max-width: 500px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .close {
      float: right;
      font-size: 24px;
      font-weight: bold;
      cursor: pointer;
    }

    .close:hover {
      color: #000;
    }

    /* Estilo para las patentes clickeables */
    .patente-link {
      color: #0066cc;
      text-decoration: none;
      cursor: pointer;
      font-weight: 500;
    }

    .patente-link:hover {
      text-decoration: underline;
    }
</style>

<body>
  <!-- Header with logo and search -->
  <div class="top-header">
    <div class="logo">
      <img src="logo_MUNI.png" alt="Logo Municipalidad de Arica">
      <div class="logo-text">
        <h1>ARICA</h1>
        <span>MUNICIPALIDAD | mejor ciudad</span>
      </div>
    </div>
  </div>

  </section>
  <!-- Dashboard section -->
  <section class="dashboard-container">
    <div class="dashboard-header">
      <h2 class="dashboard-title">Sistema de Gesti√≥n de Mantenimiento de Veh√≠culos y Maquinaria</h2>
      <button class="back-button" onclick="window.location.href='index.html'">
        <span class="back-icon">‚Üê<i class="fas fa-arrow-left"></i></span> Volver al Inicio
      </button>
    </div>

    <!-- Cards for forms selection -->
    <div class="cards-container">
      <!-- Card 1 -->
      <div class="card">
        <div class="card-icon-circle">
          <img src="registro de mantenimiento.jpeg" alt="Icono de Mantenimiento">
        </div>
        <h3 class="card-title">Ingreso y Salida de Veh√≠culos</h3>
        <p class="card-description">
          Complete el formulario para registrar un nuevo mantenimiento o reparaci√≥n de veh√≠culos municipales.
        </p>
        <a href="formulario_ingreso_reparacion.html" class="card-button">
          Acceder <span class="arrow"><i class="fas fa-arrow-right"></i></span>
        </a>
      </div>

      <!-- Card 2 -->
      <div class="card">
        <div class="card-icon-circle">
          <img src="exceeel" alt="Icono de Excel">
        </div>
        <h3 class="card-title">Explorador de Registros Veh√≠culos</h3>
        <p class="card-description">
          Consulte y analice los mantenimientos registrados, con opciones para filtrar por patente, a√±o y estado.
        </p>
        <a href="registros_vehiÃÅculos_excel.html" class="card-button">
          Acceder <span class="arrow"><i class="fas fa-arrow-right"></i></span>
        </a>
      </div>

      <!-- Card 3 -->
      <div class="card">
        <div class="card-icon-circle">
          <img src="editar.jpeg" alt="Icono de Calendario">
        </div>
        <h3 class="card-title">Modificar Registros de Veh√≠culos </h3>
        <p class="card-description">
          Corrija registros con informaci√≥n err√≥nea o incompleta relacionada con mantenimientos programados, servicios
          realizados o revisiones t√©cnicas.
        </p>
        <a href="modificar_reparacion.html" class="card-button">
          Acceder <span class="arrow"><i class="fas fa-arrow-right"></i></span>
        </a>
      </div>
      <!-- Card 4 -->
      <div class="card">
        <div class="card-icon-circle">
          <img src="camion.png" alt="Icono de Reportes">
        </div>
        <h3 class="card-title">Check Ingreso y Salida de Camiones Recolectores</h3>
        <p class="card-description">
          Complete el formulario para registrar el ingreso y salida de camiones recolectores municipales.
        </p>
        <a href="reportes_flota.html" class="card-button">
          Acceder <span class="arrow"><i class="fas fa-arrow-right"></i></span>
        </a>
      </div>
      <div class="card">
        <div class="card-icon-circle">
          <img src="exceeel" alt="Icono de Reportes">
        </div>
        <h3 class="card-title">Modificar Registros de Camiones Recolectores</h3>
        <p class="card-description">
          Corrija registros con informaci√≥n err√≥nea o incompleta relacionada con camiones recolectores municipales.
        </p>
        <a href="reportes_flota.html" class="card-button">
          Acceder <span class="arrow"><i class="fas fa-arrow-right"></i></span>
        </a>
      </div>
    </div>

    <!-- Stats section -->
    <div class="stats-section">
      <h3 class="stats-title">Estad√≠sticas del Sistema</h3>

      <!-- Indicadores principales -->
      <div class="stats-container">
        <div class="stat-item">
          <div class="stat-number" id="vehiculos-count">0</div>
          <div class="stat-label">Veh√≠culos Activo</div> <!-- filtarta-->
        </div>
        <div class="stat-item">
          <div class="stat-number" id="aceiteProximo-count">0</div>
          <div class="stat-label">Cambio de Aceite proximo<br>(500 km o menos)</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="aceiteVencido-count">0</div>
          <div class="stat-label">Cambio de Aceite vencido</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="revisionProximo-count">0</div>
          <div class="stat-label">Revisi√≥n T√©cnica proxima<br>(Proximos 7 d√≠as)</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="revisionVencido-count">0</div>
          <div class="stat-label">Revisi√≥n T√©cnica vencido</div>
        </div>
      </div>

      <!-- Alertas del sistema -->
      <div class="alerts-container" id="alerts-container">
        <!-- Las alertas se generar√°n din√°micamente -->
      </div>

      <!-- Gr√°ficos de estad√≠sticas -->
      <div class="charts-container">
        <div class="chart-container">
          <h4 class="chart-title">Kilometrajes segun patente</h4>
          <canvas id="fallaChart"></canvas>
        </div>
        <div class="chart-container">
          <h4 class="chart-title">Kilometros de uso de cada veh√≠culo</h4>
          <canvas id="monthlyChart"></canvas>
        </div>
      </div>

      <br>

      <!-- Tabla de resumen por veh√≠culo -->
      <div class="stats-section"></div>
      <h4 class="stats-title">Resumen de Veh√≠culos Activos</h4>
      <div style="overflow-x: auto;">
        <table class="summary-table" id="vehicle-summary-table">
          <thead>
            <tr>
              <th>N¬∞</th>
              <th>Patente</th>
              <th>Tipo</th>
              <th>Direcci√≥n</th>
              <th>Kil√≥metros</th>
              <th>Pr√≥x. Revisi√≥n</th>
              <th>Pr√≥x. Cambio Aceite</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody id="vehicle-summary-body">
            <!-- Se llenar√° din√°micamente -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- Tabla de resumen de bienes dados de baja -->
    <div class="stats-section">
      <h4 class="stats-title">Resumen de Bienes y Maquinarias de Baja </h4>
      <div style="overflow-x: auto;">
        <table class="summary-table" id="baja-summary-table">
          <thead>
            <tr>
              <th>N¬∞</th>
              <th>Patente</th>
              <th>Tipo</th>
              <th>Direcci√≥n</th>
              <th>Kil√≥metros Final</th>
            </tr>
          </thead>
          <tbody id="baja-summary-body">
            <!-- Se llenar√° din√°micamente -->
          </tbody>
        </table>
      </div>
    </div>

  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-container">
      <div class="footer-column">
        <h3>Municipalidad de Arica</h3>
        <p>Renato Rocca , Arica</p>
        <p>Anexo:6959 </p>
        <p>Email:roberto.mamani@municipalidadarica.cl </p>
        <div class="social-icons">
          <a href="#">üìò</a>
          <a href="#">üì±</a>
          <a href="#">üê¶</a>
          <a href="#">üì∏</a>
        </div>
      </div>
      <div class="footer-column">
        <h3>Colaboraci√≥n Interdepartamental</h3>
        <p style="line-height: 1.6;">
          Este proyecto surge con el prop√≥sito de fortalecer la colaboraci√≥n entre diversas √°reas municipales, como
          <strong>iluminaci√≥n p√∫blica</strong>, <strong>Of. Mantenimiento de Veh√≠culos y Maquinaria</strong>,
          <strong>Aseo y Ornato</strong>, <strong>Asesor√≠a Tecnica </strong> y m√°s, en un solo sistema integral.
          Buscando consolidar la informaci√≥n y los procesos en un solo sistema, permitiendo un <strong>mayor control
            operativo</strong>, <strong>gesti√≥n por √°reas</strong> y una visi√≥n integral para la <strong>mejora continua
            de los servicios municipales</strong>.
        </p>
      </div>
      <div class="footer-column licitaciones">
        <h3>Licitaciones</h3>
        <ul class="licitaciones-list">
          <li><a href="licitacion_agil.html">Licitaci√≥n √Ågil</a></li>
          <li><a href="licitacion_gran_compra.html">Gran Compra</a></li>
          <li><a href="licitacion_trato_directo.html">Trato Directo</a></li>
          <li><a href="licitacion_publica.html">Licitaci√≥n P√∫blica</a></li>
          <li><a href="licitacion_convenio_marco.html">Convenio Marco</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>¬© 2025 Municipalidad de Arica. Todos los derechos reservados.</p>
      <p>Desarrollado por Junior Barrera</p>
    </div>
  </footer>


  <!-- Modal para dar de baja veh√≠culo -->
  <div id="modalBaja" class="modal">
    <div class="modal-content">
      <span class="close" onclick="cerrarModalBaja()">&times;</span>
      <h3>Dar de baja veh√≠culo</h3>
      <p>Est√°s a punto de dar de baja el veh√≠culo con patente: <strong id="patenteBaja"></strong></p>
      
      <div style="margin: 20px 0;">
        <label for="passwordBaja">Contrase√±a:</label>
        <input type="password" id="passwordBaja" style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px;">
      </div>
      
      <div id="errorBaja" style="color: red; margin-bottom: 15px; display: none;"></div>
      
      <button onclick="confirmarBaja()" style="background-color: #d9534f; color: white; border: none; padding: 10px 15px; border-radius: 4px; cursor: pointer;">Confirmar baja</button>
      <button onclick="cerrarModalBaja()" style="background-color: #6c757d; color: white; border: none; padding: 10px 15px; border-radius: 4px; cursor: pointer; margin-left: 10px;">Cancelar</button>
    </div>
  </div>
  <!-- Assistance button -->
  <div class="assistant-button" onclick="openAssistance()">üí¨</div>

  <script>
function _0x1739(_0x32dbe2,_0x41cee9){const _0x64f2b1=_0x64f2();return _0x1739=function(_0x17393c,_0x22c80a){_0x17393c=_0x17393c-0x158;let _0x361467=_0x64f2b1[_0x17393c];return _0x361467;},_0x1739(_0x32dbe2,_0x41cee9);}const _0x4852a7=_0x1739;(function(_0x33ee3c,_0x32d68d){const _0x44cd0f=_0x1739,_0x560f69=_0x33ee3c();while(!![]){try{const _0x1f6e13=-parseInt(_0x44cd0f(0x1ff))/0x1*(-parseInt(_0x44cd0f(0x20a))/0x2)+-parseInt(_0x44cd0f(0x1a3))/0x3+parseInt(_0x44cd0f(0x17d))/0x4+parseInt(_0x44cd0f(0x1b3))/0x5*(parseInt(_0x44cd0f(0x1b4))/0x6)+-parseInt(_0x44cd0f(0x172))/0x7+parseInt(_0x44cd0f(0x1fc))/0x8*(-parseInt(_0x44cd0f(0x1b7))/0x9)+-parseInt(_0x44cd0f(0x22b))/0xa*(-parseInt(_0x44cd0f(0x1a9))/0xb);if(_0x1f6e13===_0x32d68d)break;else _0x560f69['push'](_0x560f69['shift']());}catch(_0x56b14a){_0x560f69['push'](_0x560f69['shift']());}}}(_0x64f2,0x51a82));var cont_aceit_prox=0x0,cont_aceit_venc=0x0,cont_revis_prox=0x0,cont_revis_venc=0x0;function hideLoading(){const _0x43d7d4=_0x1739;document[_0x43d7d4(0x20b)](_0x43d7d4(0x1a8))['style']['display']=_0x43d7d4(0x17c);}function handleIframeError(){const _0x965220=_0x1739,_0x3b9a5e=document[_0x965220(0x20b)](_0x965220(0x1ac));setTimeout(function(){try{const _0xff2d4f=_0x3b9a5e['contentWindow']||_0x3b9a5e['contentDocument'];!_0xff2d4f&&showFallbackMessage();}catch(_0x32390f){showFallbackMessage();}},0x2710);}function showFallbackMessage(){const _0x5a73cf=_0x1739,_0x4e98dd=document[_0x5a73cf(0x20b)](_0x5a73cf(0x1a8));_0x4e98dd[_0x5a73cf(0x15d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22text-align:\x20center;\x20padding:\x2020px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin-bottom:\x2015px;\x22>No\x20se\x20pudo\x20cargar\x20el\x20dashboard</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22margin-bottom:\x2020px;\x22>Parece\x20que\x20hay\x20un\x20problema\x20al\x20cargar\x20el\x20dashboard.\x20Por\x20favor,\x20intenta:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22https://lookerstudio.google.com/reporting/da465897-8e1a-4d06-9f8e-27d84a749431\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target=\x22_blank\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22display:\x20inline-block;\x20background-color:\x20#06c;\x20color:\x20white;\x20padding:\x2010px\x2020px;\x20border-radius:\x205px;\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Ver\x20dashboard\x20en\x20Looker\x20Studio\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4e98dd[_0x5a73cf(0x178)]['display']=_0x5a73cf(0x1f4);}function openAssistance(){const _0x2e503f=_0x1739,_0x47db3d=_0x2e503f(0x215);window[_0x2e503f(0x18f)](_0x2e503f(0x19b)+_0x47db3d,_0x2e503f(0x23c));}document[_0x4852a7(0x1d7)](_0x4852a7(0x1c7),function(){const _0x1ffd57=_0x4852a7,_0x490568=document['querySelector'](_0x1ffd57(0x232)),_0x3c9497=document[_0x1ffd57(0x1d6)]('.transparency-links');if(_0x490568&&_0x3c9497){_0x490568['addEventListener'](_0x1ffd57(0x15b),function(){const _0x20c105=_0x1ffd57;_0x490568['classList'][_0x20c105(0x163)]('active'),_0x3c9497[_0x20c105(0x194)][_0x20c105(0x163)]('active');});function _0x3fc65e(){const _0x23365e=_0x1ffd57;window[_0x23365e(0x1ef)]<=0x300?_0x3c9497['classList'][_0x23365e(0x207)](_0x23365e(0x1a2)):_0x3c9497[_0x23365e(0x194)][_0x23365e(0x1b1)](_0x23365e(0x1a2));}_0x3fc65e(),window[_0x1ffd57(0x1d7)](_0x1ffd57(0x1a7),_0x3fc65e);}const _0x4e9933=document[_0x1ffd57(0x1d6)](_0x1ffd57(0x206));window[_0x1ffd57(0x1d7)](_0x1ffd57(0x1f3),()=>{const _0x1c6376=_0x1ffd57,_0x367352=window[_0x1c6376(0x199)]||document[_0x1c6376(0x228)]['scrollTop'];if(_0x367352>0x64){}else{}}),handleIframeError();});const WEB_APP_URL=_0x4852a7(0x231);let datosVehiculos=[],chartInstancesFalla=null,chartInstancesMonthly=null;function formatearNumero(_0x19fb0a){const _0x2cff4b=_0x4852a7;if(_0x19fb0a===null||_0x19fb0a===undefined)return'0';let _0x416e02=_0x19fb0a['toString']()['replace'](/\./g,'')[_0x2cff4b(0x22d)](/\D/g,''),_0x59d3c3=_0x416e02[_0x2cff4b(0x22d)](/\B(?=(\d{3})+(?!\d))/g,'.');return _0x59d3c3;}function mostrarErrorEnContadores(_0x130416){const _0x171f4e=_0x4852a7;document[_0x171f4e(0x20b)](_0x171f4e(0x1dc))[_0x171f4e(0x21f)]=_0x171f4e(0x179),document['getElementById'](_0x171f4e(0x171))['textContent']=_0x171f4e(0x179),document['getElementById'](_0x171f4e(0x1f1))[_0x171f4e(0x21f)]=_0x171f4e(0x179),document['getElementById'](_0x171f4e(0x234))[_0x171f4e(0x21f)]=_0x171f4e(0x179),document['getElementById'](_0x171f4e(0x186))[_0x171f4e(0x21f)]=_0x171f4e(0x179),console[_0x171f4e(0x1d4)](_0x130416||_0x171f4e(0x20d));}function cargarDatosEstadisticas(){const _0x451e0c=_0x4852a7;document[_0x451e0c(0x20b)](_0x451e0c(0x1dc))[_0x451e0c(0x15d)]='<div\x20class=\x22loading-spinner\x22></div>',document[_0x451e0c(0x20b)](_0x451e0c(0x171))[_0x451e0c(0x15d)]=_0x451e0c(0x1cf),document[_0x451e0c(0x20b)]('aceiteVencido-count')[_0x451e0c(0x15d)]=_0x451e0c(0x1cf),document[_0x451e0c(0x20b)]('revisionProximo-count')['innerHTML']=_0x451e0c(0x1cf),document[_0x451e0c(0x20b)](_0x451e0c(0x186))[_0x451e0c(0x15d)]=_0x451e0c(0x1cf),fetch(WEB_APP_URL+_0x451e0c(0x205))[_0x451e0c(0x204)](_0x10304a=>{const _0x17236b=_0x451e0c;if(!_0x10304a['ok'])throw new Error(_0x17236b(0x1a0)+_0x10304a[_0x17236b(0x1a5)]+'\x20'+_0x10304a['statusText']);return _0x10304a['json']();})[_0x451e0c(0x204)](_0x34389=>{const _0x1c4b23=_0x451e0c;console[_0x1c4b23(0x18c)]('Datos\x20recibidos:',_0x34389);if(!_0x34389||typeof _0x34389!==_0x1c4b23(0x1f7))throw new Error(_0x1c4b23(0x175));datosVehiculos=Array[_0x1c4b23(0x161)](_0x34389[_0x1c4b23(0x18d)])?_0x34389[_0x1c4b23(0x18d)]:[];if(datosVehiculos[_0x1c4b23(0x187)]===0x0)throw new Error('No\x20se\x20recibieron\x20datos\x20de\x20mantenimientos');actualizarEstadisticas(),generarAlertas(),actualizarTablaVehiculos(),typeof Chart!==_0x1c4b23(0x21b)?crearGraficos():console[_0x1c4b23(0x1e9)](_0x1c4b23(0x177));})[_0x451e0c(0x22a)](_0x1a0ba9=>{const _0x352b64=_0x451e0c;console['error'](_0x352b64(0x1c8),_0x1a0ba9),mostrarErrorEnContadores(_0x1a0ba9[_0x352b64(0x19e)]);});}function actualizarEstadisticas(){const _0x2ee100=_0x4852a7;try{var _0x9501d1=new Set();datosVehiculos[_0x2ee100(0x1c4)](_0x585fc4=>{const _0xbde08e=_0x2ee100;if(_0x585fc4&&_0x585fc4[0x0])_0x9501d1['add'](_0x585fc4[0x0][_0xbde08e(0x1ce)]()[_0xbde08e(0x1d8)]()[_0xbde08e(0x1b0)]());});var _0x9501d1=Array[_0x2ee100(0x1f2)](_0x9501d1)['sort']();const _0x223340=datosVehiculos['filter'](_0x4e2f1f=>_0x4e2f1f&&_0x4e2f1f[0xd]&&_0x4e2f1f[0xd][_0x2ee100(0x1ce)]()[_0x2ee100(0x189)]()[_0x2ee100(0x1ed)]('mantenimiento'))['length'],_0x3c8d5f=datosVehiculos['filter'](_0x20673b=>_0x20673b&&_0x20673b[0xd]&&_0x20673b[0xd][_0x2ee100(0x1ce)]()[_0x2ee100(0x189)]()[_0x2ee100(0x1ed)](_0x2ee100(0x1cd)))[_0x2ee100(0x187)],_0x4e8ce7=new Date(),_0x1a42bb=datosVehiculos[_0x2ee100(0x23d)](_0x27ce2d=>{const _0x46d21d=_0x2ee100;if(_0x27ce2d&&_0x27ce2d[0x10])try{const _0x3b2c99=_0x27ce2d[0x10][_0x46d21d(0x1ce)]()[_0x46d21d(0x1f5)]('/');if(_0x3b2c99[_0x46d21d(0x187)]===0x3){const _0x858347=new Date(parseInt(_0x3b2c99[0x2]),parseInt(_0x3b2c99[0x1])-0x1,parseInt(_0x3b2c99[0x0])),_0x58f347=_0x858347-_0x4e8ce7,_0x1378a1=Math['ceil'](_0x58f347/(0x3e8*0x3c*0x3c*0x18));return _0x1378a1<=0x1e&&_0x1378a1>=-0xf;}}catch(_0x165fe3){console[_0x46d21d(0x1d4)](_0x46d21d(0x1a4),_0x27ce2d[0x10],_0x165fe3);}return![];})[_0x2ee100(0x187)];document[_0x2ee100(0x20b)]('vehiculos-count')['textContent']=_0x9501d1['length'],document[_0x2ee100(0x20b)](_0x2ee100(0x171))[_0x2ee100(0x21f)]=_0x223340,document[_0x2ee100(0x20b)](_0x2ee100(0x1f1))['textContent']=_0x3c8d5f,document[_0x2ee100(0x20b)](_0x2ee100(0x234))[_0x2ee100(0x21f)]=_0x1a42bb,document[_0x2ee100(0x20b)](_0x2ee100(0x186))['textContent']=_0x1a42bb;}catch(_0x58464f){console[_0x2ee100(0x1d4)](_0x2ee100(0x217),_0x58464f),mostrarErrorEnContadores(_0x2ee100(0x211));}}function generarAlertas(){const _0x329a47=_0x4852a7;try{const _0x14a499=new Date(),_0x5aad44=[],_0x33505f=new Set(),_0x19a689=new Set();datosVehiculos['forEach'](_0x3fa3fb=>{const _0x27e6e2=_0x1739;if(_0x3fa3fb&&_0x3fa3fb[0x0]&&_0x3fa3fb[0x10])try{const _0x2f011a=_0x3fa3fb[0x0][_0x27e6e2(0x1ce)]()[_0x27e6e2(0x1d8)]()[_0x27e6e2(0x1b0)](),_0x594864=_0x3fa3fb[0x10][_0x27e6e2(0x1ce)]()[_0x27e6e2(0x1f5)]('/');if(_0x594864[_0x27e6e2(0x187)]===0x3){const _0x3431b2=new Date(parseInt(_0x594864[0x2]),parseInt(_0x594864[0x1])-0x1,parseInt(_0x594864[0x0])),_0x17ba67=_0x3431b2-_0x14a499,_0x30c365=Math[_0x27e6e2(0x229)](_0x17ba67/(0x3e8*0x3c*0x3c*0x18));if(_0x30c365<0x0)_0x33505f[_0x27e6e2(0x1b1)](_0x2f011a);else _0x30c365<=0xf&&_0x19a689[_0x27e6e2(0x1b1)](_0x2f011a);}}catch(_0x5c15d6){console[_0x27e6e2(0x1d4)](_0x27e6e2(0x159),_0x3fa3fb[0x10],_0x5c15d6);}});const _0x53b98d=new Set(),_0x2836c=new Set();datosVehiculos['forEach'](_0x383870=>{const _0x3c7aff=_0x1739;if(_0x383870&&_0x383870[0x0]&&_0x383870[0x12])try{const _0x43d884=_0x383870[0x0]['toString']()['trim']()[_0x3c7aff(0x1b0)](),_0x396b6c=_0x383870[0x12][_0x3c7aff(0x1ce)]()[_0x3c7aff(0x1f5)]('/');if(_0x396b6c[_0x3c7aff(0x187)]===0x3){const _0x1faa9e=new Date(parseInt(_0x396b6c[0x2]),parseInt(_0x396b6c[0x1])-0x1,parseInt(_0x396b6c[0x0])),_0xd0681c=_0x1faa9e-_0x14a499,_0x103e80=Math[_0x3c7aff(0x229)](_0xd0681c/(0x3e8*0x3c*0x3c*0x18));if(_0x103e80<0x0)_0x53b98d['add'](_0x43d884);else _0x103e80<=0x7&&_0x2836c['add'](_0x43d884);}}catch(_0x217bb0){console['error'](_0x3c7aff(0x1cb),_0x383870[0x12],_0x217bb0);}});const _0x308ccf=new Set();datosVehiculos['forEach'](_0x581909=>{const _0x818894=_0x1739;if(_0x581909&&_0x581909[0x3]&&_0x581909[0xa]&&_0x581909[0xa]['toString']()[_0x818894(0x189)]()[_0x818894(0x1ed)](_0x818894(0x226))){const _0x10e8f0=_0x581909[0x0][_0x818894(0x1ce)]()[_0x818894(0x1d8)]()[_0x818894(0x1b0)]();_0x308ccf['add'](_0x10e8f0);}});_0x33505f[_0x329a47(0x1fa)]>0x0&&_0x5aad44['push']({'tipo':_0x329a47(0x21a),'mensaje':_0x33505f[_0x329a47(0x1fa)]+_0x329a47(0x227),'detalle':_0x329a47(0x1ba)});_0x19a689[_0x329a47(0x1fa)]>0x0&&_0x5aad44[_0x329a47(0x197)]({'tipo':_0x329a47(0x1cc),'mensaje':_0x19a689[_0x329a47(0x1fa)]+_0x329a47(0x164),'detalle':_0x329a47(0x238)});_0x53b98d[_0x329a47(0x1fa)]>0x0&&_0x5aad44[_0x329a47(0x197)]({'tipo':_0x329a47(0x21a),'mensaje':_0x53b98d[_0x329a47(0x1fa)]+_0x329a47(0x230),'detalle':_0x329a47(0x1da)});_0x2836c[_0x329a47(0x1fa)]>0x0&&_0x5aad44['push']({'tipo':_0x329a47(0x1cc),'mensaje':_0x2836c[_0x329a47(0x1fa)]+'\x20veh√≠culo(s)\x20con\x20cambio\x20de\x20aceite\x20en\x20los\x20pr√≥ximos\x207\x20d√≠as.','detalle':_0x329a47(0x173)});_0x308ccf[_0x329a47(0x1fa)]>0x0&&_0x5aad44[_0x329a47(0x197)]({'tipo':_0x329a47(0x21a),'mensaje':_0x308ccf['size']+_0x329a47(0x19a),'detalle':_0x329a47(0x165)});if(_0x5aad44[_0x329a47(0x187)]>0x0){}else{}}catch(_0x5714dc){console['error']('Error\x20al\x20generar\x20alertas:',_0x5714dc);}}function mostrarDetalleAlerta(_0x4cb1de){const _0x4dbcd7=_0x4852a7;alert(_0x4dbcd7(0x17f)+_0x4cb1de);}function actualizarTablaVehiculos(){const _0x5ec5bd=_0x4852a7;try{const _0x5bde7b=document[_0x5ec5bd(0x20b)]('vehicle-summary-body');_0x5bde7b[_0x5ec5bd(0x15d)]='';const _0x5d336e=document['getElementById'](_0x5ec5bd(0x19c));_0x5d336e[_0x5ec5bd(0x15d)]='';var _0x4c7b54={};datosVehiculos[_0x5ec5bd(0x1c4)]((_0x1e6417,_0x1733bd)=>{const _0x47c0af=_0x5ec5bd;try{if(_0x1e6417&&_0x1e6417[0x0]){var _0x558545=_0x1e6417[0x0][_0x47c0af(0x1ce)]()[_0x47c0af(0x1d8)]()[_0x47c0af(0x1b0)](),_0x239be9=_0x1e6417[0x5]?new Date(_0x1e6417[0x5]):new Date(0x0);(!_0x4c7b54[_0x558545]||_0x4c7b54[_0x558545][_0x47c0af(0x1c0)]<_0x239be9)&&(_0x4c7b54[_0x558545]={'patente':_0x558545,'fecha':_0x239be9,'frecuencia':_0x1e6417[0x2]||'N','tipo':_0x1e6417[0x1]||_0x47c0af(0x1b6),'direccion':_0x1e6417[0x3]||_0x47c0af(0x1b6),'kilometros':_0x1e6417[0x6]||'0','proxRevision':_0x1e6417[0x5]||_0x47c0af(0x1c6),'proxCambioAceite':_0x1e6417[0x8]||'No\x20registrado','estado':_0x1e6417[0x7]||'Sin\x20estado'},baul=0x0);}}catch(_0x55966e){console[_0x47c0af(0x1d4)](_0x47c0af(0x16a)+_0x1733bd+':',_0x55966e,_0x1e6417);}});const _0x1d0f4e=Object[_0x5ec5bd(0x20e)](_0x4c7b54);_0x1d0f4e[_0x5ec5bd(0x208)]((_0x53fca2,_0x5774f9)=>{const _0x504766=_0x5ec5bd,_0x41d9db=_0x53fca2['estado']['toLowerCase']()[_0x504766(0x1ed)](_0x504766(0x1aa))?0x1:_0x53fca2[_0x504766(0x1b8)]['toLowerCase']()[_0x504766(0x1ed)](_0x504766(0x1cd))?0x2:0x3,_0x2b6324=_0x5774f9[_0x504766(0x1b8)][_0x504766(0x189)]()[_0x504766(0x1ed)](_0x504766(0x1aa))?0x1:_0x5774f9[_0x504766(0x1b8)][_0x504766(0x189)]()[_0x504766(0x1ed)](_0x504766(0x1cd))?0x2:0x3;return _0x41d9db-_0x2b6324;}),contador1=0x0,contador2=0x0,contador3=0x0,_0x1d0f4e['forEach'](_0x3581ea=>{const _0x318e70=_0x5ec5bd;if(_0x3581ea[_0x318e70(0x1ad)]!=='N'&&_0x3581ea[_0x318e70(0x1ad)]!=='n'&&_0x3581ea[_0x318e70(0x1ad)]!==''){if(contador1>0x0){const _0x21b924=document['createElement']('tr');contador2++,claseRevTec='',claseAceite='';let _0x364df6='';if(_0x3581ea[_0x318e70(0x210)]&&_0x3581ea[_0x318e70(0x210)]!==_0x318e70(0x1c6))try{const _0x349a5a=new Date(),_0x4e4bc6=_0x3581ea[_0x318e70(0x210)]['toString']()['split']('/');if(_0x4e4bc6['length']===0x3){const _0x3b7561=new Date(parseInt(_0x4e4bc6[0x2]),parseInt(_0x4e4bc6[0x1])-0x1,parseInt(_0x4e4bc6[0x0])),_0x288fe0=_0x3b7561-_0x349a5a,_0x4cb2de=Math['ceil'](_0x288fe0/(0x3e8*0x3c*0x3c*0x18));claseRevTec='',simboRevTec=_0x318e70(0x1ee);if(_0x4cb2de<0x0)claseRevTec=_0x318e70(0x16d),cont_revis_venc++;else _0x4cb2de<=0x7&&(claseRevTec=_0x318e70(0x190),cont_revis_prox++);}}catch(_0x1b9cff){console[_0x318e70(0x1d4)](_0x318e70(0x1fe),_0x3581ea[_0x318e70(0x210)],_0x1b9cff);}claseAceite='',baul1=parseInt(_0x3581ea[_0x318e70(0x1ab)][_0x318e70(0x22d)](/\D/g,''),0xa),baul2=parseInt(_0x3581ea['proxCambioAceite'][_0x318e70(0x22d)](/\D/g,''),0xa);if(baul1>=baul2)claseAceite='aceite-vencida',cont_aceit_venc++;else baul1>=baul2-0x1f4&&(claseAceite=_0x318e70(0x1fd),cont_aceit_prox++);let _0x1aef0a='';if(_0x3581ea[_0x318e70(0x1b8)][_0x318e70(0x189)]()['includes'](_0x318e70(0x1cd)))_0x1aef0a='estado-reparacion';else{if(_0x3581ea[_0x318e70(0x1b8)][_0x318e70(0x189)]()[_0x318e70(0x1ed)](_0x318e70(0x1aa)))_0x1aef0a=_0x318e70(0x180);else _0x3581ea[_0x318e70(0x1b8)][_0x318e70(0x189)]()[_0x318e70(0x1ed)]('disponible')&&(_0x1aef0a='estado-disponible');}baul_rev='';if(claseRevTec!==''&&claseAceite!=='')baul_rev=claseRevTec+_0x318e70(0x15c)+claseAceite;else(claseAceite!==''||claseRevTec!=='')&&(baul_rev=claseRevTec+claseAceite);baul_rev==''?baul_rev='<div\x20style=\x22font-size:15px;\x20color:green;\x22>&#10004;</div>':baul_rev=_0x318e70(0x1d9)+baul_rev+'</div>',baul_tab='',baul_tab+=_0x318e70(0x209)+contador1+_0x318e70(0x23a),baul_tab+=_0x318e70(0x209)+_0x3581ea[_0x318e70(0x21c)]+_0x318e70(0x23a),baul_tab+=_0x318e70(0x209)+_0x3581ea[_0x318e70(0x219)]+_0x318e70(0x23a),baul_tab+='<td>'+_0x3581ea[_0x318e70(0x195)]+'</td>',baul_tab+=_0x318e70(0x209)+formatearNumero(_0x3581ea['kilometros'])+_0x318e70(0x203),baul_tab+=_0x318e70(0x209)+_0x3581ea[_0x318e70(0x210)]+_0x318e70(0x23a),baul_tab+='<td>'+formatearNumero(_0x3581ea[_0x318e70(0x15a)])+'\x20km</td>',baul_tab+=_0x318e70(0x209)+baul_rev+_0x318e70(0x23a),_0x21b924['innerHTML']=baul_tab,_0x5bde7b[_0x318e70(0x1ae)](_0x21b924);}contador1++;}if(_0x3581ea[_0x318e70(0x1ad)]==='N'||_0x3581ea[_0x318e70(0x1ad)]==='n'||_0x3581ea['frecuencia']===''){const _0x30aa90=document[_0x318e70(0x196)]('tr');baul_tab='',baul_tab+=_0x318e70(0x209)+(contador3+0x1)+_0x318e70(0x23a),baul_tab+=_0x318e70(0x209)+_0x3581ea[_0x318e70(0x21c)]+_0x318e70(0x23a),baul_tab+='<td>'+_0x3581ea[_0x318e70(0x219)]+_0x318e70(0x23a),baul_tab+=_0x318e70(0x209)+_0x3581ea[_0x318e70(0x195)]+'</td>',baul_tab+=_0x318e70(0x209)+formatearNumero(_0x3581ea['kilometros'])+_0x318e70(0x203),_0x30aa90['innerHTML']=baul_tab,_0x5d336e[_0x318e70(0x1ae)](_0x30aa90),contador3++;}}),document['getElementById'](_0x5ec5bd(0x1dc))[_0x5ec5bd(0x21f)]=contador2,document[_0x5ec5bd(0x20b)]('aceiteProximo-count')[_0x5ec5bd(0x21f)]=cont_aceit_prox,document[_0x5ec5bd(0x20b)]('aceiteVencido-count')[_0x5ec5bd(0x21f)]=cont_aceit_venc,document[_0x5ec5bd(0x20b)]('revisionProximo-count')[_0x5ec5bd(0x21f)]=cont_revis_prox,document[_0x5ec5bd(0x20b)](_0x5ec5bd(0x186))['textContent']=cont_revis_venc,document[_0x5ec5bd(0x20b)](_0x5ec5bd(0x1dc))['textContent']=contador2,document[_0x5ec5bd(0x20b)](_0x5ec5bd(0x171))[_0x5ec5bd(0x21f)]=cont_aceit_prox,document[_0x5ec5bd(0x20b)]('aceiteVencido-count')[_0x5ec5bd(0x21f)]=cont_aceit_venc,document[_0x5ec5bd(0x20b)]('revisionProximo-count')[_0x5ec5bd(0x21f)]=cont_revis_prox,document[_0x5ec5bd(0x20b)](_0x5ec5bd(0x186))[_0x5ec5bd(0x21f)]=cont_revis_venc;if(_0x1d0f4e[_0x5ec5bd(0x187)]===0x0&&contador1>0x1){const _0x54efd9=document[_0x5ec5bd(0x196)]('tr');_0x54efd9[_0x5ec5bd(0x15d)]='<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20center;\x22>No\x20hay\x20veh√≠culos\x20registrados</td>',_0x5bde7b['appendChild'](_0x54efd9);}}catch(_0x1a1754){console['error']('Error\x20al\x20actualizar\x20tabla\x20de\x20veh√≠culos:',_0x1a1754);const _0x28b527=document[_0x5ec5bd(0x20b)]('vehicle-summary-body');contador1>0x1&&(_0x28b527[_0x5ec5bd(0x15d)]=_0x5ec5bd(0x1f6));}}function crearGraficos(){const _0x3410b3=_0x4852a7;try{const _0x352788=document[_0x3410b3(0x20b)](_0x3410b3(0x19d))[_0x3410b3(0x182)]('2d'),_0x38c73d={};let _0x2dd116={};var _0x3dd724=0x0;datosVehiculos[_0x3410b3(0x1c4)](_0x361af4=>{const _0x54c222=_0x3410b3;if(_0x3dd724>0x0&&_0x361af4&&_0x361af4[0x0]){baulkm=parseInt(_0x361af4[0x6][_0x54c222(0x22d)](/[.,]/g,''));if(baulkm>-0x1){const _0x21823e=_0x361af4[0x0][_0x54c222(0x1ce)]()[_0x54c222(0x1d8)]();_0x38c73d[_0x21823e]=(_0x38c73d[_0x21823e]||0x0)+baulkm;}}_0x3dd724++;});let _0x4e220d=Object[_0x3410b3(0x1bc)](_0x38c73d)[_0x3410b3(0x208)]((_0x5dae98,_0x3a6b3f)=>_0x3a6b3f[0x1]-_0x5dae98[0x1])[_0x3410b3(0x1c1)](0x0,0x9);_0x2dd116=Object[_0x3410b3(0x181)](_0x4e220d);const _0x24d921=Object[_0x3410b3(0x1df)](_0x2dd116),_0xd2e324=Object[_0x3410b3(0x20e)](_0x2dd116),_0x13736f=[_0x3410b3(0x192),_0x3410b3(0x1e0),_0x3410b3(0x20f),_0x3410b3(0x1af),_0x3410b3(0x1d1),_0x3410b3(0x213),_0x3410b3(0x1bf),_0x3410b3(0x212),_0x3410b3(0x19f),_0x3410b3(0x237)];chartInstancesFalla&&chartInstancesFalla[_0x3410b3(0x1e2)]();chartInstancesFalla=new Chart(_0x352788,{'type':_0x3410b3(0x21e),'data':{'labels':_0x24d921,'datasets':[{'data':_0xd2e324,'backgroundColor':_0x13736f[_0x3410b3(0x1c1)](0x0,_0x24d921[_0x3410b3(0x187)]),'borderWidth':0x1}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x3410b3(0x1e8),'labels':{'boxWidth':0xc,'padding':0xf}},'tooltip':{'callbacks':{'label':function(_0x1a3488){const _0x25405b=_0x3410b3,_0x549a21=_0x1a3488[_0x25405b(0x20c)]||'',_0x532288=_0x1a3488['raw']||0x0,_0x1f3426=_0x1a3488[_0x25405b(0x1c2)][_0x25405b(0x214)][_0x25405b(0x23b)]((_0x316af7,_0x5569a9)=>_0x316af7+_0x5569a9,0x0),_0x38b3e1=Math['round'](_0x532288/_0x1f3426*0x64);return _0x549a21+':\x20'+_0x532288+'\x20('+_0x38b3e1+'%)';}}}}}});const _0x13a760=document['getElementById'](_0x3410b3(0x1ea))[_0x3410b3(0x182)]('2d'),_0xfa3c00={'Enero':0x0,'Febrero':0x0,'Marzo':0x0,'Abril':0x0,'Mayo':0x0,'Junio':0x0,'Julio':0x0,'Agosto':0x0,'Septiembre':0x0,'Octubre':0x0,'Noviembre':0x0,'Diciembre':0x0},_0x1870ff=['Enero',_0x3410b3(0x1dd),_0x3410b3(0x1ca),_0x3410b3(0x1d2),_0x3410b3(0x17b),_0x3410b3(0x222),'Julio',_0x3410b3(0x174),_0x3410b3(0x15f),_0x3410b3(0x16c),_0x3410b3(0x1de),'Diciembre'];datosVehiculos[_0x3410b3(0x1c4)](_0x1b2978=>{const _0x3bf436=_0x3410b3;if(_0x1b2978&&_0x1b2978[0x1])try{const _0x4bd86c=_0x1b2978[0x1]['toString']()[_0x3bf436(0x1f5)]('/');if(_0x4bd86c['length']===0x3){const _0x16f6ac=parseInt(_0x4bd86c[0x1])-0x1;_0x16f6ac>=0x0&&_0x16f6ac<0xc&&_0xfa3c00[_0x1870ff[_0x16f6ac]]++;}}catch(_0x4cc8eb){console[_0x3bf436(0x1d4)](_0x3bf436(0x22e),_0x1b2978[0x1],_0x4cc8eb);}});const _0x12c38a=Object[_0x3410b3(0x20e)](_0xfa3c00);chartInstancesMonthly&&chartInstancesMonthly[_0x3410b3(0x1e2)](),chartInstancesFallas=new Chart(_0x13a760,{'type':'bar','data':{'labels':_0x24d921,'datasets':[{'label':_0x3410b3(0x1d3),'data':_0xd2e324,'backgroundColor':_0x13736f,'borderColor':_0x13736f,'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'precision':0x0}}},'plugins':{'legend':{'display':![]}}}});}catch(_0x2aaeaa){console[_0x3410b3(0x1d4)](_0x3410b3(0x162),_0x2aaeaa);const _0x176414=document[_0x3410b3(0x220)](_0x3410b3(0x1f9));_0x176414[_0x3410b3(0x1c4)](_0x5236e9=>{const _0x3287fb=_0x3410b3,_0x31579f=_0x5236e9[_0x3287fb(0x1d6)](_0x3287fb(0x1c9));if(_0x31579f){const _0x1bfb9a=_0x31579f['getContext']('2d');_0x1bfb9a['clearRect'](0x0,0x0,_0x31579f[_0x3287fb(0x1e1)],_0x31579f[_0x3287fb(0x202)]),_0x1bfb9a[_0x3287fb(0x18b)]=_0x3287fb(0x1bb),_0x1bfb9a[_0x3287fb(0x1bd)]=_0x3287fb(0x239),_0x1bfb9a['textAlign']=_0x3287fb(0x23e),_0x1bfb9a[_0x3287fb(0x158)](_0x3287fb(0x1ec),_0x31579f[_0x3287fb(0x1e1)]/0x2,_0x31579f[_0x3287fb(0x202)]/0x2);}});}}function exportarExcel(){const _0x59b047=_0x4852a7;try{if(!datosVehiculos||datosVehiculos[_0x59b047(0x187)]===0x0){alert('No\x20hay\x20datos\x20disponibles\x20para\x20exportar');return;}const _0x28145e=XLSX[_0x59b047(0x18a)]['book_new'](),_0x585054=datosVehiculos['map'](_0x25cf00=>{return{'ID':_0x25cf00[0x0]||'','Fecha':_0x25cf00[0x1]||'','Departamento':_0x25cf00[0x2]||'','Patente':_0x25cf00[0x3]||'','Kil√≥metros':_0x25cf00[0x4]||'','Tipo\x20Veh√≠culo':_0x25cf00[0x5]||'','Conductor':_0x25cf00[0x6]||'','Estado':_0x25cf00[0x7]||'','Observaciones':_0x25cf00[0x8]||'','Tipo\x20Falla':_0x25cf00[0x9]||'','Gravedad':_0x25cf00[0xa]||'','Descripci√≥n\x20Falla':_0x25cf00[0xb]||'','Sistema\x20Afectado':_0x25cf00[0xc]||'','Tipo\x20Servicio':_0x25cf00[0xd]||'','Costo':_0x25cf00[0xe]?'$'+formatearNumero(_0x25cf00[0xe]):'$0','Duraci√≥n\x20(d√≠as)':_0x25cf00[0xf]||'','Pr√≥xima\x20Revisi√≥n':_0x25cf00[0x10]||'','Kil√≥metros\x20Pr√≥ximo\x20Servicio':_0x25cf00[0x11]||'','Pr√≥ximo\x20Cambio\x20Aceite':_0x25cf00[0x12]||''};}),_0x167e61=XLSX[_0x59b047(0x18a)][_0x59b047(0x1d5)](_0x585054);XLSX[_0x59b047(0x18a)][_0x59b047(0x184)](_0x28145e,_0x167e61,_0x59b047(0x1be));const _0x335ab5=[{'wch':0x5},{'wch':0xc},{'wch':0xf},{'wch':0xa},{'wch':0xc},{'wch':0xf},{'wch':0x14},{'wch':0xf},{'wch':0x19},{'wch':0xf},{'wch':0xa},{'wch':0x1e},{'wch':0x14},{'wch':0xf},{'wch':0xc},{'wch':0xa},{'wch':0xf},{'wch':0x12},{'wch':0xf}];_0x167e61[_0x59b047(0x176)]=_0x335ab5,XLSX[_0x59b047(0x218)](_0x28145e,_0x59b047(0x1b5));}catch(_0x2b548f){console[_0x59b047(0x1d4)](_0x59b047(0x1b2),_0x2b548f),alert(_0x59b047(0x17a));}}function filtrarDatos(){const _0xbe25fd=_0x4852a7,_0x34879a=document['getElementById'](_0xbe25fd(0x17e))[_0xbe25fd(0x21d)]['toUpperCase'](),_0x7aefde=document[_0xbe25fd(0x20b)](_0xbe25fd(0x167))['value'][_0xbe25fd(0x1b0)](),_0x73e036=document[_0xbe25fd(0x20b)](_0xbe25fd(0x1e6))[_0xbe25fd(0x21d)][_0xbe25fd(0x1b0)](),_0x159403=document[_0xbe25fd(0x20b)](_0xbe25fd(0x18e))[_0xbe25fd(0x185)]('tr');for(let _0x4d163b=0x0;_0x4d163b<_0x159403[_0xbe25fd(0x187)];_0x4d163b++){const _0x4c2a76=_0x159403[_0x4d163b][_0xbe25fd(0x185)]('td');if(_0x4c2a76[_0xbe25fd(0x187)]>0x0){const _0x1e92d3=_0x4c2a76[0x0]['textContent']['toUpperCase'](),_0x406b09=_0x4c2a76[0x1]['textContent'][_0xbe25fd(0x1b0)](),_0x3c96c6=_0x4c2a76[0x5][_0xbe25fd(0x21f)][_0xbe25fd(0x1b0)](),_0x53a205=_0x1e92d3[_0xbe25fd(0x1ed)](_0x34879a),_0xe7ff28=_0x406b09[_0xbe25fd(0x1ed)](_0x7aefde),_0x21f992=_0x3c96c6[_0xbe25fd(0x1ed)](_0x73e036);_0x53a205&&_0xe7ff28&&_0x21f992?_0x159403[_0x4d163b]['style'][_0xbe25fd(0x1e5)]='':_0x159403[_0x4d163b][_0xbe25fd(0x178)][_0xbe25fd(0x1e5)]=_0xbe25fd(0x17c);}}}document[_0x4852a7(0x1d7)](_0x4852a7(0x1c7),function(){const _0x8c0c28=_0x4852a7;cargarDatosEstadisticas();const _0x1cd7ca=document[_0x8c0c28(0x220)](_0x8c0c28(0x191));_0x1cd7ca&&_0x1cd7ca[_0x8c0c28(0x1c4)](_0xae32e1=>{const _0x25ff20=_0x8c0c28;_0xae32e1['addEventListener'](_0x25ff20(0x15b),function(){const _0xb6046=_0x25ff20,_0xea6273=this[_0xb6046(0x1f8)](_0xb6046(0x160));_0xea6273&&(document[_0xb6046(0x20b)](_0xea6273)[_0xb6046(0x21d)]='',filtrarDatos());});});const _0x34a53e=document[_0x8c0c28(0x20b)](_0x8c0c28(0x1b9));_0x34a53e&&_0x34a53e[_0x8c0c28(0x1d7)](_0x8c0c28(0x15b),exportarExcel);const _0x111968=document['querySelectorAll'](_0x8c0c28(0x233));_0x111968&&_0x111968['forEach'](_0x3d89f1=>{const _0x33d491=_0x8c0c28;_0x3d89f1[_0x33d491(0x1d7)](_0x33d491(0x225),filtrarDatos),_0x3d89f1[_0x33d491(0x1d7)](_0x33d491(0x16e),filtrarDatos);});});function mostrarDetallesVehiculo(_0x599b95){const _0x34dc98=_0x4852a7,_0x5ec1fb=datosVehiculos[_0x34dc98(0x23d)](_0x31efb6=>_0x31efb6&&_0x31efb6[0x3]&&_0x31efb6[0x3]['toString']()['trim']()[_0x34dc98(0x1b0)]()===_0x599b95[_0x34dc98(0x1b0)]());if(_0x5ec1fb[_0x34dc98(0x187)]>0x0){let _0x2d2466=_0x34dc98(0x15e)+_0x599b95+'</h3>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22detalles-vehiculo\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-principal\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Tipo:</strong>\x20'+(_0x5ec1fb[0x0][0x5]||_0x34dc98(0x1b6))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Kil√≥metros:</strong>\x20'+formatearNumero(_0x5ec1fb[0x0][0x4])+_0x34dc98(0x193)+(_0x5ec1fb[0x0][0x7]||_0x34dc98(0x1b6))+_0x34dc98(0x235);_0x5ec1fb['forEach'](_0x3f4c89=>{const _0x4683d6=_0x34dc98;_0x2d2466+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x3f4c89[0x1]||_0x4683d6(0x169))+_0x4683d6(0x188)+(_0x3f4c89[0xd]||'N/A')+_0x4683d6(0x188)+(_0x3f4c89[0xb]||_0x4683d6(0x169))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>$'+formatearNumero(_0x3f4c89[0xe]||'0')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20';}),_0x2d2466+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0xd66500=document[_0x34dc98(0x20b)](_0x34dc98(0x16b)),_0x473404=document[_0x34dc98(0x20b)](_0x34dc98(0x198));_0x473404[_0x34dc98(0x15d)]=_0x2d2466,_0xd66500[_0x34dc98(0x178)][_0x34dc98(0x1e5)]='block';}else alert(_0x34dc98(0x1f0)+_0x599b95);}function _0x64f2(){const _0x2c3107=['warn','monthlyChart','patenteBaja','Error\x20al\x20cargar\x20el\x20gr√°fico','includes','<div\x20style=\x22font-size:48px;\x20color:green;\x22>&#10004;</div>','innerWidth','No\x20se\x20encontraron\x20registros\x20para\x20el\x20veh√≠culo:\x20','aceiteVencido-count','from','scroll','flex','split','<tr><td\x20colspan=\x226\x22\x20style=\x22text-align:\x20center;\x22>No\x20hay\x20veh√≠culos\x20registrados</td></tr>','object','getAttribute','.chart-container','size','estado-disponible','39736iGnOMr','aceite-proxima','Error\x20al\x20procesar\x20fecha\x20de\x20revisi√≥n\x20para\x20tabla:','77091VgOiXC','reload','Veh√≠culo\x20dado\x20de\x20baja\x20correctamente','height','\x20km</td>','then','?h=PD','header','remove','sort','<td>','4kqJbrw','getElementById','label','Error\x20al\x20cargar\x20datos','values','#FFCE56','proxRevision','Error\x20al\x20procesar\x20estad√≠sticas','#FF8A80','#FF9F40','data','56959414178','Sin\x20estado','Error\x20al\x20actualizar\x20estad√≠sticas:','writeFile','tipo','danger','undefined','patente','value','pie','textContent','querySelectorAll','block','Junio','target','passwordBaja','keyup','cr√≠tica','\x20veh√≠culo(s)\x20con\x20revisi√≥n\x20t√©cnica\x20vencida.','documentElement','ceil','catch','10PuPxzA','application/json','replace','Error\x20al\x20procesar\x20fecha\x20para\x20gr√°fico\x20mensual:','modalBaja','\x20veh√≠culo(s)\x20con\x20cambio\x20de\x20aceite\x20vencido.','https://script.google.com/macros/s/AKfycbwG3r3xvcwIWFJXR9fWSRRPNulRqLgbD03QDza7WTkun05ySJxaWn-5q9c1ENEwsFGv/exec','.transparency-toggle','.filtro-campo','revisionProximo-count','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4>Historial\x20de\x20Mantenimientos</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22tabla-historial\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Fecha</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Tipo</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Descripci√≥n</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Costo</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</a></td>','#B9F6CA','rev-proxima','red','</td>','reduce','_blank','filter','center','fillText','Error\x20al\x20procesar\x20fecha\x20de\x20revisi√≥n:','proxCambioAceite','click','\x20|\x20','innerHTML','\x0a\x20\x20\x20\x20\x20\x20<h3>Detalles\x20del\x20Veh√≠culo:\x20','Septiembre','data-input','isArray','Error\x20al\x20crear\x20gr√°ficos:','toggle','\x20veh√≠culo(s)\x20con\x20revisi√≥n\x20t√©cnica\x20a\x20vencer\x20en\x20los\x20pr√≥ximos\x2015\x20d√≠as.','falla-critica','Procesando...','filtroTipo','Error\x20al\x20dar\x20de\x20baja\x20el\x20veh√≠culo','N/A','Error\x20en\x20fila\x20','modalDetalles','Octubre','revision-vencida','change','blue','errorBaja','aceiteProximo-count','2292297IvRuMO','aceite-proximo','Agosto','Formato\x20de\x20datos\x20inesperado','!cols','Chart.js\x20no\x20est√°\x20disponible.\x20Los\x20gr√°ficos\x20no\x20se\x20mostrar√°n.','style','Error','Se\x20produjo\x20un\x20error\x20al\x20exportar\x20los\x20datos.\x20Por\x20favor,\x20intente\x20nuevamente.','Mayo','none','1061152UFtpez','filtroPatente','Funcionalidad\x20de\x20detalles\x20pendiente\x20de\x20implementar:\x20','estado-mantencion','fromEntries','getContext','no-cors','book_append_sheet','getElementsByTagName','revisionVencido-count','length','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','toLowerCase','utils','font','log','dat_PAT','vehicle-summary-body','open','revision-proxima','.limpiar-filtro','#FF6384','\x20km</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Estado\x20actual:</strong>\x20','classList','direccion','createElement','push','modalContenido','pageYOffset','\x20veh√≠culo(s)\x20con\x20fallas\x20cr√≠ticas\x20registradas.','https://wa.me/','baja-summary-body','fallaChart','message','#82B1FF','Error\x20de\x20red:\x20','stringify','active','855987uFzwRG','Error\x20al\x20procesar\x20fecha:','status','\x27)\x22>','resize','loadingIndicator','3406502jhogMN','mantenci√≥n','kilometros','dashboardIframe','frecuencia','appendChild','#4BC0C0','toUpperCase','add','Error\x20al\x20exportar\x20a\x20Excel:','5VgPqRJ','1785516zlZbOM','Mantenimientos_Vehiculos_Municipalidad.xlsx','No\x20especificado','144UfkAeW','estado','exportarExcel','rev-vencida','14px\x20Arial','entries','fillStyle','Mantenimientos','#8C9EFF','fecha','slice','dataset','color','forEach','<div\x20style=\x22font-size:15px;\x20color:green;\x22>&#10004;</div>','No\x20registrada','DOMContentLoaded','Error\x20al\x20obtener\x20los\x20datos:','canvas','Marzo','Error\x20al\x20procesar\x20fecha\x20de\x20cambio\x20de\x20aceite:','warning','reparaci√≥n','toString','<div\x20class=\x22loading-spinner\x22></div>','aceite-vencida','#9966FF','Abril','Cantidad\x20de\x20Fallas','error','json_to_sheet','querySelector','addEventListener','trim','<div\x20style=\x22color:purple;\x22>','aceite-vencido','Error\x20al\x20actualizar\x20tabla\x20de\x20veh√≠culos:','vehiculos-count','Febrero','Noviembre','keys','#36A2EB','width','destroy','</div>','green','display','filtroEstado','Error\x20al\x20enviar\x20datos:','right'];_0x64f2=function(){return _0x2c3107;};return _0x64f2();}function cerrarModal(){const _0x41f108=_0x4852a7,_0x40366e=document['getElementById'](_0x41f108(0x16b));_0x40366e[_0x41f108(0x178)][_0x41f108(0x1e5)]=_0x41f108(0x17c);}window[_0x4852a7(0x1d7)]('click',function(_0x175cf9){const _0xafc1e1=_0x4852a7,_0x5c3d9a=document['getElementById']('modalDetalles');_0x175cf9[_0xafc1e1(0x223)]===_0x5c3d9a&&cerrarModal();});function mostrarModalBaja(_0x4d3a16){const _0x359af9=_0x4852a7;document[_0x359af9(0x20b)](_0x359af9(0x1eb))['textContent']=_0x4d3a16,document['getElementById'](_0x359af9(0x22f))['style'][_0x359af9(0x1e5)]=_0x359af9(0x221),document[_0x359af9(0x20b)](_0x359af9(0x224))['value']='',document[_0x359af9(0x20b)](_0x359af9(0x170))[_0x359af9(0x178)][_0x359af9(0x1e5)]=_0x359af9(0x17c);}function cerrarModalBaja(){const _0x1cfc5d=_0x4852a7;document[_0x1cfc5d(0x20b)](_0x1cfc5d(0x22f))[_0x1cfc5d(0x178)][_0x1cfc5d(0x1e5)]=_0x1cfc5d(0x17c),document[_0x1cfc5d(0x20b)](_0x1cfc5d(0x224))[_0x1cfc5d(0x21d)]='',document[_0x1cfc5d(0x20b)](_0x1cfc5d(0x170))[_0x1cfc5d(0x178)][_0x1cfc5d(0x1e5)]='none';}function confirmarBaja(){const _0x5e6d4c=_0x4852a7,_0x4f0198=document[_0x5e6d4c(0x20b)](_0x5e6d4c(0x1eb))[_0x5e6d4c(0x21f)],_0x354938=document[_0x5e6d4c(0x20b)]('passwordBaja')[_0x5e6d4c(0x21d)],_0x43692a=document[_0x5e6d4c(0x20b)](_0x5e6d4c(0x170));if(_0x354938!=='160304'){_0x43692a['textContent']='Contrase√±a\x20incorrecta',_0x43692a['style'][_0x5e6d4c(0x1e5)]='block';return;}actualizarEstadoBaja(_0x4f0198);}function actualizarEstadoBaja(_0x4ed486){const _0x6e82e=_0x4852a7,_0x219f30=document[_0x6e82e(0x20b)]('errorBaja');_0x219f30[_0x6e82e(0x21f)]=_0x6e82e(0x166),_0x219f30[_0x6e82e(0x178)][_0x6e82e(0x1c3)]=_0x6e82e(0x16f),_0x219f30[_0x6e82e(0x178)][_0x6e82e(0x1e5)]=_0x6e82e(0x221);const _0x6bc363={'action':'baja_vehiculo','patente':_0x4ed486,'tipo':'N'};baul=0x0,fetch(WEB_APP_URL,{'method':'POST','mode':_0x6e82e(0x183),'headers':{'Content-Type':_0x6e82e(0x22c)},'body':JSON[_0x6e82e(0x1a1)](_0x6bc363)})[_0x6e82e(0x204)](()=>{const _0x169f56=_0x6e82e;_0x219f30[_0x169f56(0x21f)]=_0x169f56(0x201),_0x219f30[_0x169f56(0x178)]['color']=_0x169f56(0x1e4),setTimeout(()=>{const _0x20cd80=_0x169f56;cerrarModalBaja(),location[_0x20cd80(0x200)]();},0x7d0);})[_0x6e82e(0x22a)](_0x4d1876=>{const _0x1d1b9e=_0x6e82e;console[_0x1d1b9e(0x1d4)](_0x1d1b9e(0x1e7),_0x4d1876),_0x219f30[_0x1d1b9e(0x21f)]=_0x1d1b9e(0x168),_0x219f30['style'][_0x1d1b9e(0x1c3)]='red';});}function actualizarTablaVehiculos(){const _0x8708ab=_0x4852a7;try{const _0x18ab97=document['getElementById'](_0x8708ab(0x18e));_0x18ab97['innerHTML']='';const _0x318070=document['getElementById'](_0x8708ab(0x19c));_0x318070['innerHTML']='';var _0x21dd41={};datosVehiculos[_0x8708ab(0x1c4)]((_0x549006,_0x39cd35)=>{const _0x54858a=_0x8708ab;try{if(_0x549006&&_0x549006[0x0]){var _0x875de4=_0x549006[0x0][_0x54858a(0x1ce)]()[_0x54858a(0x1d8)]()[_0x54858a(0x1b0)](),_0x35f596=_0x549006[0x5]?new Date(_0x549006[0x5]):new Date(0x0);(!_0x21dd41[_0x875de4]||_0x21dd41[_0x875de4]['fecha']<_0x35f596)&&(_0x21dd41[_0x875de4]={'patente':_0x875de4,'fecha':_0x35f596,'frecuencia':_0x549006[0x2]||'N','tipo':_0x549006[0x1]||_0x54858a(0x1b6),'direccion':_0x549006[0x3]||_0x54858a(0x1b6),'kilometros':_0x549006[0x6]||'0','proxRevision':_0x549006[0x5]||_0x54858a(0x1c6),'proxCambioAceite':_0x549006[0x8]||'No\x20registrado','estado':_0x549006[0x7]||_0x54858a(0x216)},baul=0x0);}}catch(_0x2a612f){console[_0x54858a(0x1d4)](_0x54858a(0x16a)+_0x39cd35+':',_0x2a612f,_0x549006);}});const _0x2e8b60=Object[_0x8708ab(0x20e)](_0x21dd41);_0x2e8b60[_0x8708ab(0x208)]((_0x4fd4f0,_0x2000bd)=>{const _0xba24e7=_0x8708ab,_0x1d8a01=_0x4fd4f0[_0xba24e7(0x1b8)]['toLowerCase']()['includes'](_0xba24e7(0x1aa))?0x1:_0x4fd4f0[_0xba24e7(0x1b8)][_0xba24e7(0x189)]()[_0xba24e7(0x1ed)]('reparaci√≥n')?0x2:0x3,_0x1a70a3=_0x2000bd[_0xba24e7(0x1b8)]['toLowerCase']()[_0xba24e7(0x1ed)]('mantenci√≥n')?0x1:_0x2000bd[_0xba24e7(0x1b8)][_0xba24e7(0x189)]()[_0xba24e7(0x1ed)](_0xba24e7(0x1cd))?0x2:0x3;return _0x1d8a01-_0x1a70a3;}),contador1=0x0,contador2=0x0,contador3=0x0,_0x2e8b60[_0x8708ab(0x1c4)](_0x5ada97=>{const _0x488d21=_0x8708ab;if(_0x5ada97[_0x488d21(0x1ad)]!=='N'&&_0x5ada97[_0x488d21(0x1ad)]!=='n'&&_0x5ada97['frecuencia']!==''){if(contador1>0x0){const _0x1393d0=document['createElement']('tr');contador2++,claseRevTec='',claseAceite='';let _0x4c567d='';if(_0x5ada97['proxRevision']&&_0x5ada97['proxRevision']!==_0x488d21(0x1c6))try{const _0x135857=new Date(),_0x5c20f4=_0x5ada97[_0x488d21(0x210)][_0x488d21(0x1ce)]()[_0x488d21(0x1f5)]('/');if(_0x5c20f4['length']===0x3){const _0x15e187=new Date(parseInt(_0x5c20f4[0x2]),parseInt(_0x5c20f4[0x1])-0x1,parseInt(_0x5c20f4[0x0])),_0x21cbb4=_0x15e187-_0x135857,_0x625fe3=Math[_0x488d21(0x229)](_0x21cbb4/(0x3e8*0x3c*0x3c*0x18));claseRevTec='',simboRevTec='<div\x20style=\x22font-size:48px;\x20color:green;\x22>&#10004;</div>';if(_0x625fe3<0x0)claseRevTec=_0x488d21(0x16d),cont_revis_venc++;else _0x625fe3<=0x7&&(claseRevTec=_0x488d21(0x190),cont_revis_prox++);}}catch(_0x39270b){console['error'](_0x488d21(0x1fe),_0x5ada97[_0x488d21(0x210)],_0x39270b);}claseAceite='',baul1=parseInt(_0x5ada97[_0x488d21(0x1ab)][_0x488d21(0x22d)](/\D/g,''),0xa),baul2=parseInt(_0x5ada97['proxCambioAceite'][_0x488d21(0x22d)](/\D/g,''),0xa);if(baul1>=baul2)claseAceite=_0x488d21(0x1d0),cont_aceit_venc++;else baul1>=baul2-0x1f4&&(claseAceite='aceite-proxima',cont_aceit_prox++);let _0x399a09='';if(_0x5ada97['estado'][_0x488d21(0x189)]()[_0x488d21(0x1ed)](_0x488d21(0x1cd)))_0x399a09='estado-reparacion';else{if(_0x5ada97['estado'][_0x488d21(0x189)]()[_0x488d21(0x1ed)](_0x488d21(0x1aa)))_0x399a09=_0x488d21(0x180);else _0x5ada97[_0x488d21(0x1b8)]['toLowerCase']()[_0x488d21(0x1ed)]('disponible')&&(_0x399a09=_0x488d21(0x1fb));}baul_rev='';if(claseRevTec!==''&&claseAceite!=='')baul_rev=claseRevTec+_0x488d21(0x15c)+claseAceite;else(claseAceite!==''||claseRevTec!=='')&&(baul_rev=claseRevTec+claseAceite);baul_rev==''?baul_rev=_0x488d21(0x1c5):baul_rev=_0x488d21(0x1d9)+baul_rev+_0x488d21(0x1e3),baul_tab='',baul_tab+='<td>'+contador1+_0x488d21(0x23a),baul_tab+='<td><a\x20class=\x22patente-link\x22\x20onclick=\x22mostrarModalBaja(\x27'+_0x5ada97['patente']+_0x488d21(0x1a6)+_0x5ada97[_0x488d21(0x21c)]+_0x488d21(0x236),baul_tab+='<td>'+_0x5ada97[_0x488d21(0x219)]+_0x488d21(0x23a),baul_tab+=_0x488d21(0x209)+_0x5ada97[_0x488d21(0x195)]+'</td>',baul_tab+=_0x488d21(0x209)+formatearNumero(_0x5ada97[_0x488d21(0x1ab)])+'\x20km</td>',baul_tab+='<td>'+_0x5ada97[_0x488d21(0x210)]+'</td>',baul_tab+='<td>'+formatearNumero(_0x5ada97['proxCambioAceite'])+_0x488d21(0x203),baul_tab+=_0x488d21(0x209)+baul_rev+_0x488d21(0x23a),_0x1393d0[_0x488d21(0x15d)]=baul_tab,_0x18ab97['appendChild'](_0x1393d0);}contador1++;}if(_0x5ada97[_0x488d21(0x1ad)]==='N'||_0x5ada97[_0x488d21(0x1ad)]==='n'||_0x5ada97[_0x488d21(0x1ad)]===''){const _0x3aebc9=document[_0x488d21(0x196)]('tr');baul_tab='',baul_tab+=_0x488d21(0x209)+(contador3+0x1)+_0x488d21(0x23a),baul_tab+='<td>'+_0x5ada97[_0x488d21(0x21c)]+_0x488d21(0x23a),baul_tab+=_0x488d21(0x209)+_0x5ada97['tipo']+'</td>',baul_tab+='<td>'+_0x5ada97[_0x488d21(0x195)]+_0x488d21(0x23a),baul_tab+=_0x488d21(0x209)+formatearNumero(_0x5ada97[_0x488d21(0x1ab)])+'\x20km</td>',_0x3aebc9[_0x488d21(0x15d)]=baul_tab,_0x318070[_0x488d21(0x1ae)](_0x3aebc9),contador3++;}}),document[_0x8708ab(0x20b)](_0x8708ab(0x1dc))['textContent']=contador2,document[_0x8708ab(0x20b)](_0x8708ab(0x171))[_0x8708ab(0x21f)]=cont_aceit_prox,document[_0x8708ab(0x20b)]('aceiteVencido-count')[_0x8708ab(0x21f)]=cont_aceit_venc,document[_0x8708ab(0x20b)](_0x8708ab(0x234))[_0x8708ab(0x21f)]=cont_revis_prox,document['getElementById'](_0x8708ab(0x186))[_0x8708ab(0x21f)]=cont_revis_venc;}catch(_0x3c751f){console['error'](_0x8708ab(0x1db),_0x3c751f);const _0x208472=document['getElementById'](_0x8708ab(0x18e));contador1>0x1&&(_0x208472[_0x8708ab(0x15d)]=_0x8708ab(0x1f6));}}
    </script>
</body>

</html>
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Municipalidad de Arica | mejor ciudad</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loader de carga inicial -->
<div class="loader">
    <div class="loader-animation">
        <div class="loader-circle"></div>
        <img src="images.png" alt="Logo" class="loader-logo">
    </div>
</div>
    <!-- Header with logo and search -->
    <header>
        <div class="top-header">
            <div class="logo">
                <img src="images.png" alt="Logo Municipalidad de Arica">
                <div class="logo-text">
                    <h1>ARICA</h1>
                    <span>MUNICIPALIDAD | mejor ciudad</span>
                </div>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="¬øQu√© necesitas buscar?">
                <button>üîç</button>
            </div>
        </div>
        
       <!-- Transparency links as collapsible menu -->
    <div class="transparency-container">
        <button class="transparency-toggle">Transparencia <span class="toggle-icon">‚ñº</span></button>
        <div class="transparency-links">
            <a href="#">Datos abiertos</a>
            <a href="#">Transparencia activa</a>
            <a href="#">Plataforma Ley de Lobby</a>
            <a href="#">Solicitar Informaci√≥n</a>
        </div>
    </div>
</header>
    
    <!-- Main navigation -->
    <nav>
        <ul class="main-menu">
            <li><a href="index.html">INICIO</a></li>
            <li><a href="dashboard-gps.html">GPS DIMAO</a></li>
            <li><a href="dashboard-presupuesto.html">PRESUPUESTO ANUAL</a></li>
            <li><a href="dashboard-abastecimiento.html">ABASTECIMIENTO</a></li>
            <li><a href="dashboard-bodega.html">BODEGA</a></li>
        </ul>
    </nav>
    
    <!-- Hero section -->
    <section class="hero">
        <img src="fondo.jpg" alt="JUNIOR BARRERA" class="hero-image">
        <div class="hero-content">
            <h2>DIMAO</h2>
            <p>"Mejoremos Juntos"</p>
        </div>
    </section>
    
    <!-- Regular modules -->
   <!-- Secci√≥n de formularios modernizada -->
<section class="modules">
    <h2 class="fade-in">Formularios Digitales</h2>
    <div class="module-grid">
        <div class="module fade-in">
            <div class="module-icon">üìÑ</div>
            <h3>Certificados Digitales</h3>
            <p>Solicita y descarga certificados municipales de forma online con firma electr√≥nica avanzada y validaci√≥n digital.</p>
            <button class="module-button" onclick="redirectToDashboard('formulario')">
                Acceder <span class="ml-2">‚Üí</span>
            </button>
        </div>
        
        <div class="module fade-in">
            <div class="module-icon">üí≥</div>
            <h3>Sistema de Pagos Online</h3>
            <p>Paga tus cuentas y permisos con nuestra plataforma segura que acepta m√∫ltiples m√©todos de pago y monederos digitales.</p>
            <button class="module-button" onclick="redirectToDashboard('formulario')">
                Acceder <span class="ml-2">‚Üí</span>
            </button>
        </div>
        
        <div class="module fade-in">
            <div class="module-icon">üìã</div>
            <h3>Portal de Tr√°mites Digitales</h3>
            <p>Realiza solicitudes, expedientes y procesos administrativos desde cualquier dispositivo con seguimiento en tiempo real.</p>
            <button class="module-button" onclick="redirectToDashboard('formulario')">
                Acceder <span class="ml-2">‚Üí</span>
            </button>
        </div>
    </div>
</section>
<section class="dashboard-modules">
    <h2 class="animated-title">Visualizaci√≥n de M√≥dulos</h2>
    <p class="animated-subtitle">Accede a nuestros paneles de datos para conocer el funcionamiento de DIMAO</p>
    
    <div class="dashboard-grid">
        <!-- M√≥dulo 1: GPS DIMAO -->
        <div class="dashboard-card fade-in">
            <div class="dashboard-card-image" style="background-image: url(GPS.jpg)">
                <div class="image-overlay">
                    <span class="card-badge">GPS</span>
                </div>
            </div>
            <div class="dashboard-card-content">
                <h3 class="animated-heading">GPS DIMAO</h3>
                <p>Este m√≥dulo permite el seguimiento en tiempo real de los veh√≠culos recolectores, analizando rutas, tiempos de operaci√≥n y eficiencia del servicio para optimizar la gesti√≥n.</p>
                <a href="dashboard-gps.html" class="view-dashboard">
                    <span>Ver Dashboard</span>
                    <i class="dashboard-icon">‚Üí</i>
                </a>
            </div>
        </div>
        
        <!-- M√≥dulo 2: Cuentas de Presupuesto Anual -->
        <div class="dashboard-card fade-in">
            <div class="dashboard-card-image" style="background-image: url('presupuesto.webp')">
                <div class="image-overlay">
                    <span class="card-badge">Presupuesto</span>
                </div>
            </div>
            <div class="dashboard-card-content">
                <h3 class="animated-heading">Cuentas de Presupuesto Anual</h3>
                <p>Este m√≥dulo permite el seguimiento y control del presupuesto anual, analizando ingresos, egresos y su distribuci√≥n para una planificaci√≥n eficiente de los recursos.</p>
                <a href="dashboard-presupuesto.html" class="view-dashboard">
                    <span>Ver Dashboard</span>
                    <i class="dashboard-icon">‚Üí</i>
                </a>
            </div>
        </div>
        
        <!-- M√≥dulo 3: Abastecimiento de Combustible -->
        <div class="dashboard-card fade-in">
            <div class="dashboard-card-image" style="background-image: url('abastecimiento.jpg')">
                <div class="image-overlay">
                    <span class="card-badge">Combustible</span>
                </div>
            </div>
            <div class="dashboard-card-content">
                <h3 class="animated-heading">Abastecimiento de Combustible</h3>
                <p>Este m√≥dulo proporciona informaci√≥n clave sobre el abastecimiento de combustible, incluyendo consumo, tr√°mites realizados y tiempos de respuesta. Permite analizar tendencias y optimizar la gesti√≥n del suministro.</p>
                <a href="dashboard-abastecimiento.html" class="view-dashboard">
                    <span>Ver Dashboard</span>
                    <i class="dashboard-icon">‚Üí</i>
                </a>
            </div>
        </div>
        
        <!-- M√≥dulo 4: Bodega Mecanica -->
        <div class="dashboard-card fade-in">
            <div class="dashboard-card-image" style="background-image: url('bodega.avif')">
                <div class="image-overlay">
                    <span class="card-badge">Bodega</span>
                </div>
            </div>
            <div class="dashboard-card-content">
                <h3 class="animated-heading">Bodega Mecanica</h3>
                <p>Este m√≥dulo permite el control de inventario en la bodega mec√°nica, facilitando la gesti√≥n de repuestos, insumos y herramientas para un mantenimiento eficiente.</p>
                <a href="dashboard-bodega.html" class="view-dashboard">
                    <span>Ver Dashboard</span>
                    <i class="dashboard-icon">‚Üí</i>
                </a>
            </div>
        </div>
    </div>
</section>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-column">
                <h3>Municipalidad de Arica</h3>
                <p>Renato Rocca , Arica</p>
                <p>Tel√©fono: (58) 2 206300</p>
                <p>Email: contacto@muniarica.cl</p>
                <div class="social-icons">
                    <a href="#">üìò</a>
                    <a href="#">üì±</a>
                    <a href="#">üê¶</a>
                    <a href="#">üì∏</a>
                </div>
            </div>
            <div class="footer-column">
                <h3>Enlaces R√°pidos</h3>
                <ul>
                    <li><a href="#">Portal de Transparencia</a></li>
                    <li><a href="#">Trabaja con Nosotros</a></li>
                    <li><a href="#">Licitaciones</a></li>
                    <li><a href="#">Preguntas Frecuentes</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Servicios</h3>
                <ul>
                    <li><a href="#">Patentes Municipales</a></li>
                    <li><a href="#">Permisos de Circulaci√≥n</a></li>
                    <li><a href="#">Departamento Social</a></li>
                    <li><a href="#">Aseo y Ornato</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2025 Municipalidad de Arica. Todos los derechos reservados.</p
            <p> Desarrollado por Junior Barrera</p
        </div>
    </footer>
    
    <!-- Assistance button -->
    <div class="assistant-button" onclick="openAssistance()">üí¨</div>
    
    <!-- Accessibility tools -->
    <div class="accessibility">
        <div class="accessibility-button">‚ôø</div>
    </div>
    
    <script>
        // Function to redirect to Looker Studio dashboards
        function redirectToDashboard(dashboardType) {
    // Redirigir a la p√°gina del dashboard correspondiente
    if (dashboardType === 'presupuesto') {
        window.location.href = 'dashboard-gps.html';
    } else if (dashboardType === 'obras') {
        window.location.href = 'dashboard-presupuesto.html'; // Crear este archivo similar al de presupuesto
    } else if (dashboardType === 'servicios') {
        window.location.href = 'dashboard-abastecimiento.html'; // Crear este archivo similar al de presupuesto
    } else if (dashboardType === 'seguridad') {
        window.location.href = 'dashboard-seguridad.html'; // Crear este archivo similar al de presupuesto
    } else if (dashboardType === 'formulario') {
        window.location.href = 'formulario-1.html'; // Crear este archivo similar al de presupuesto
    
    }
}
            
        // Function to open assistance chat
        function openAssistance() {
            // Replace with your actual phone number for WhatsApp
            const phoneNumber = "959414178"; // Replace with your actual number
            window.open(`https://wa.me/${phoneNumber}`, '_blank');
        }
        
        // Animation for elements when they come into view
        document.addEventListener('DOMContentLoaded', function() {
            const fadeElements = document.querySelectorAll('.fade-in');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('in-view');
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.1
            });
            
            fadeElements.forEach(element => {
                observer.observe(element);
            });
            
            // Header scroll effect
            const header = document.querySelector('header');
            let lastScrollTop = 0;
            
            window.addEventListener('scroll', () => {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                if (scrollTop > 100) {
                    header.style.boxShadow = '0 5px 20px rgba(0, 0, 0, 0.1)';
                } else {
                    header.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.05)';
                }
                
                lastScrollTop = scrollTop;
            });
        });
    </script>
   
   
    <script>
        // Add this to your existing script section
        document.addEventListener('DOMContentLoaded', function() {
            const transparencyToggle = document.querySelector('.transparency-toggle');
            const transparencyLinks = document.querySelector('.transparency-links');
            
            // Check if elements exist
            if (transparencyToggle && transparencyLinks) {
                transparencyToggle.addEventListener('click', function() {
                    transparencyToggle.classList.toggle('active');
                    transparencyLinks.classList.toggle('active');
                });
                
                // Initialize menu state based on screen width
                function checkScreenWidth() {
                    if (window.innerWidth <= 768) {
                        transparencyLinks.classList.remove('active');
                    } else {
                        transparencyLinks.classList.add('active');
                    }
                }
                
                // Check on load and resize
                checkScreenWidth();
                window.addEventListener('resize', checkScreenWidth);
            }
        });
        // Loader - ocultar despu√©s de cargar la p√°gina
    window.addEventListener('load', function() {
        setTimeout(function() {
            document.querySelector('.loader').classList.add('hidden');
        }, 800);
    });
    
    // Efecto de part√≠culas para el hero
    document.addEventListener('DOMContentLoaded', function() {
        const heroSection = document.querySelector('.hero');
        
        // Crear el contenedor de part√≠culas
        const particlesContainer = document.createElement('div');
        particlesContainer.className = 'particles-container';
        heroSection.appendChild(particlesContainer);
        
        // Crear part√≠culas
        for (let i = 0; i < 50; i++) {
            createParticle(particlesContainer);
        }
        
        // Agregar botones al hero
        const heroContent = document.querySelector('.hero-content');
        const heroButtons = document.createElement('div');
        heroButtons.className = 'hero-buttons';
        heroButtons.innerHTML = `
            <button class="hero-button primary">Explorar Dashboards <span>‚Üí</span></button>
            <button class="hero-button">Conoce M√°s <span>‚Üì</span></button>
        `;
        heroContent.appendChild(heroButtons);
        
        // Agregar efecto de movimiento en el hero
        heroSection.addEventListener('mousemove', function(e) {
            const xPos = (e.clientX / window.innerWidth) - 0.5;
            const yPos = (e.clientY / window.innerHeight) - 0.5;
            
            const heroImage = document.querySelector('.hero-image');
            heroImage.style.transform = `translate(${xPos * 20}px, ${yPos * 20}px) scale(1.1)`;
            
            const heroContent = document.querySelector('.hero-content');
            heroContent.style.transform = `translate(${xPos * -30}px, ${yPos * -30}px)`;
        });
    });
    
    // Funci√≥n para crear part√≠culas
    function createParticle(container) {
        const particle = document.createElement('div');
        
        // Estilo aleatorio para cada part√≠cula
        const size = Math.random() * 5 + 1;
        const opacity = Math.random() * 0.5 + 0.1;
        
        // Posici√≥n aleatoria
        const xPos = Math.random() * 100;
        const yPos = Math.random() * 100;
        
        // Velocidad aleatoria
        const speedX = (Math.random() - 0.5) * 0.5;
        const speedY = (Math.random() - 0.5) * 0.5;
        
        // Aplicar estilos
        particle.style.cssText = `
            position: absolute;
            width: ${size}px;
            height: ${size}px;
            background-color: rgba(255, 255, 255, ${opacity});
            border-radius: 50%;
            top: ${yPos}%;
            left: ${xPos}%;
            pointer-events: none;
        `;
        
        container.appendChild(particle);
        
        // Animaci√≥n de movimiento
        let x = xPos;
        let y = yPos;
        
        function moveParticle() {
            x += speedX;
            y += speedY;
            
            // Rebote en los bordes
            if (x < 0 || x > 100) {
                x = Math.max(0, Math.min(100, x));
                speedX *= -1;
            }
            
            if (y < 0 || y > 100) {
                y = Math.max(0, Math.min(100, y));
                speedY *= -1;
            }
            
            particle.style.left = x + '%';
            particle.style.top = y + '%';
            
            requestAnimationFrame(moveParticle);
        }
        
        moveParticle();
    }
    
    // Mejorar las animaciones de scroll existentes
    const fadeElements = document.querySelectorAll('.fade-in');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('in-view');
                
                // A√±adir retraso escalonado a los elementos hijos para crear un efecto en cascada
                if (entry.target.classList.contains('module-grid')) {
                    const children = entry.target.querySelectorAll('.module');
                    children.forEach((child, index) => {
                        setTimeout(() => {
                            child.classList.add('in-view');
                        }, index * 150);
                    });
                }
                
                observer.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0.15,
        rootMargin: '0px 0px -100px 0px'
    });
    
    fadeElements.forEach(element => {
        observer.observe(element);
    });
    
    // A√±adir efecto de paralaje en movimiento
    window.addEventListener('scroll', function() {
        const scrollPosition = window.scrollY;
        
        // Paralaje para las im√°genes de dashboard
        document.querySelectorAll('.dashboard-image').forEach(function(image, index) {
            const speed = 0.05 * (index + 1);
            const yPos = scrollPosition * speed;
            image.style.transform = `translateY(${yPos}px)`;
        });
    });
    </script>
    <script>
    // Estructura para almacenar el contenido indexado del sitio
    const siteContent = [
        {
            title: "Inicio",
            url: "index.html",
            content: "Municipalidad de Arica p√°gina principal DIMAO mejor ciudad"
        },
        {
            title: "GPS DIMAO",
            url: "dashboard-gps.html",
            content: "Seguimiento en tiempo real de los veh√≠culos recolectores, an√°lisis de rutas, tiempos de operaci√≥n y eficiencia del servicio."
        },
        {
            title: "Presupuesto Anual",
            url: "dashboard-presupuesto.html",
            content: "Seguimiento y control del presupuesto anual, an√°lisis de ingresos, egresos y distribuci√≥n para planificaci√≥n eficiente de recursos."
        },
        {
            title: "Abastecimiento de Combustible",
            url: "dashboard-abastecimiento.html",
            content: "Informaci√≥n clave sobre abastecimiento de combustible, consumo, tr√°mites y tiempos de respuesta. An√°lisis de tendencias y gesti√≥n del suministro."
        },
        {
            title: "Bodega Mec√°nica",
            url: "dashboard-bodega.html",
            content: "Control de inventario en bodega mec√°nica, gesti√≥n de repuestos, insumos y herramientas para mantenimiento eficiente."
        },
        {
            title: "Certificados Digitales",
            url: "formulario-1.html",
            content: "Solicitud y descarga de certificados municipales con firma electr√≥nica avanzada y validaci√≥n digital."
        },
        {
            title: "Sistema de Pagos Online",
            url: "formulario-1.html",
            content: "Pago de cuentas y permisos con plataforma segura, m√∫ltiples m√©todos de pago y monederos digitales."
        },
        {
            title: "Portal de Tr√°mites Digitales",
            url: "formulario-1.html",
            content: "Solicitudes, expedientes y procesos administrativos con seguimiento en tiempo real."
        },
        {
            title: "Transparencia",
            url: "#",
            content: "Datos abiertos Transparencia activa Plataforma Ley de Lobby Solicitar Informaci√≥n"
        },
        {
            title: "Contacto",
            url: "#",
            content: "Municipalidad de Arica Rafael Sotomayor 415, Arica Tel√©fono: (58) 2 206300 Email: contacto@muniarica.cl"
        },
        {
            title: "Enlaces R√°pidos",
            url: "#",
            content: "Portal de Transparencia Trabaja con Nosotros Licitaciones Preguntas Frecuentes"
        },
        {
            title: "Servicios",
            url: "#",
            content: "Patentes Municipales Permisos de Circulaci√≥n Departamento Social Aseo y Ornato"
        }
    ];
    
    // Funci√≥n para mostrar los resultados de b√∫squeda
    function showSearchResults(results) {
        // Crear el contenedor de resultados si no existe
        let searchResultsContainer = document.getElementById('search-results');
        
        if (!searchResultsContainer) {
            searchResultsContainer = document.createElement('div');
            searchResultsContainer.id = 'search-results';
            searchResultsContainer.className = 'search-results';
            
            // Estilos para el contenedor de resultados
            searchResultsContainer.style.position = 'absolute';
            searchResultsContainer.style.top = '100%';
            searchResultsContainer.style.right = '0';
            searchResultsContainer.style.width = '350px';
            searchResultsContainer.style.maxHeight = '400px';
            searchResultsContainer.style.overflowY = 'auto';
            searchResultsContainer.style.backgroundColor = '#fff';
            searchResultsContainer.style.boxShadow = '0 4px 12px rgba(0,0,0,0.2)';
            searchResultsContainer.style.borderRadius = '4px';
            searchResultsContainer.style.padding = '15px';
            searchResultsContainer.style.zIndex = '1000';
            
            // A√±adir el contenedor al DOM
            document.querySelector('.search-bar').appendChild(searchResultsContainer);
        }
        
        // Limpiar resultados anteriores
        searchResultsContainer.innerHTML = '';
        
        // Crear el encabezado de resultados
        const resultsHeader = document.createElement('div');
        resultsHeader.className = 'search-results-header';
        resultsHeader.style.display = 'flex';
        resultsHeader.style.justifyContent = 'space-between';
        resultsHeader.style.alignItems = 'center';
        resultsHeader.style.marginBottom = '10px';
        
        const resultsTitle = document.createElement('h3');
        resultsTitle.style.margin = '0';
        resultsTitle.style.fontSize = '16px';
        resultsTitle.textContent = `Resultados de b√∫squeda (${results.length})`;
        
        const closeButton = document.createElement('button');
        closeButton.textContent = '‚úï';
        closeButton.style.background = 'none';
        closeButton.style.border = 'none';
        closeButton.style.cursor = 'pointer';
        closeButton.style.fontSize = '16px';
        closeButton.onclick = () => {
            searchResultsContainer.style.display = 'none';
        };
        
        resultsHeader.appendChild(resultsTitle);
        resultsHeader.appendChild(closeButton);
        searchResultsContainer.appendChild(resultsHeader);
        
        // Si no hay resultados
        if (results.length === 0) {
            const noResults = document.createElement('p');
            noResults.style.textAlign = 'center';
            noResults.style.padding = '20px 0';
            noResults.style.color = '#666';
            noResults.textContent = 'No se encontraron resultados para tu b√∫squeda';
            searchResultsContainer.appendChild(noResults);
            return;
        }
        
        // Crear la lista de resultados
        const resultsList = document.createElement('ul');
        resultsList.style.listStyle = 'none';
        resultsList.style.padding = '0';
        resultsList.style.margin = '0';
        
        results.forEach(result => {
            const listItem = document.createElement('li');
            listItem.style.padding = '10px 0';
            listItem.style.borderBottom = '1px solid #eee';
            
            const resultLink = document.createElement('a');
            resultLink.href = result.url;
            resultLink.style.textDecoration = 'none';
            resultLink.style.color = '#0066cc';
            resultLink.style.display = 'block';
            
            const resultTitle = document.createElement('div');
            resultTitle.className = 'result-title';
            resultTitle.style.fontWeight = 'bold';
            resultTitle.style.marginBottom = '5px';
            resultTitle.textContent = result.title;
            
            const resultContent = document.createElement('div');
            resultContent.className = 'result-content';
            resultContent.style.fontSize = '14px';
            resultContent.style.color = '#666';
            
            // Limitar el contenido a 100 caracteres
            let contentPreview = result.content;
            if (contentPreview.length > 100) {
                contentPreview = contentPreview.substring(0, 100) + '...';
            }
            resultContent.textContent = contentPreview;
            
            resultLink.appendChild(resultTitle);
            resultLink.appendChild(resultContent);
            listItem.appendChild(resultLink);
            resultsList.appendChild(listItem);
        });
        
        searchResultsContainer.appendChild(resultsList);
        searchResultsContainer.style.display = 'block';
    }
    
    // Funci√≥n para realizar la b√∫squeda
    function performSearch(query) {
        // Normalizar la consulta (quitar acentos, convertir a min√∫sculas)
        const normalizedQuery = query.toLowerCase()
            .normalize("NFD")
            .replace(/[\u0300-\u036f]/g, "");
        
        if (normalizedQuery.trim() === '') {
            // Si la b√∫squeda est√° vac√≠a, ocultar los resultados
            const searchResults = document.getElementById('search-results');
            if (searchResults) {
                searchResults.style.display = 'none';
            }
            return;
        }
        
        // Buscar coincidencias
        const results = siteContent.filter(item => {
            const normalizedTitle = item.title.toLowerCase()
                .normalize("NFD")
                .replace(/[\u0300-\u036f]/g, "");
            
            const normalizedContent = item.content.toLowerCase()
                .normalize("NFD")
                .replace(/[\u0300-\u036f]/g, "");
            
            return normalizedTitle.includes(normalizedQuery) || 
                   normalizedContent.includes(normalizedQuery);
        });
        
        // Mostrar resultados
        showSearchResults(results);
    }
    
    // Inicializar la funci√≥n de b√∫squeda cuando se carga el documento
    document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.querySelector('.search-bar input');
        const searchButton = document.querySelector('.search-bar button');
        
        if (searchInput && searchButton) {
            // Evento para el bot√≥n de b√∫squeda
            searchButton.addEventListener('click', function() {
                performSearch(searchInput.value);
            });
            
            // Evento para la tecla Enter en el campo de b√∫squeda
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch(searchInput.value);
                }
            });
            
            // Evento para buscar mientras se escribe (opcional)
            searchInput.addEventListener('input', function() {
                // Retraso de 300ms para no sobrecargar con cada pulsaci√≥n
                clearTimeout(this.searchTimeout);
                this.searchTimeout = setTimeout(() => {
                    performSearch(this.value);
                }, 300);
            });
            
            // Cerrar resultados al hacer clic fuera
            document.addEventListener('click', function(event) {
                const searchResults = document.getElementById('search-results');
                const searchBar = document.querySelector('.search-bar');
                
                if (searchResults && 
                    !searchResults.contains(event.target) && 
                    !searchBar.contains(event.target)) {
                    searchResults.style.display = 'none';
                }
            });
        }
        
        // Agregar estilos CSS para el buscador y los resultados
        const style = document.createElement('style');
        style.textContent = `
            .search-bar {
                position: relative;
            }
            
            .search-bar input {
                transition: width 0.3s ease;
            }
            
            .search-bar input:focus {
                width: 250px;
            }
            
            .search-results .result-title {
                color: #0066cc;
            }
            
            .search-results li:hover {
                background-color: #f5f5f5;
            }
        `;
        document.head.appendChild(style);
    });
    
    // Funci√≥n para agregar m√°s contenido al √≠ndice de b√∫squeda
    // Puedes llamar a esta funci√≥n si quieres agregar m√°s contenido din√°micamente
    function addToSearchIndex(item) {
        siteContent.push(item);
    }
    
    // Funci√≥n para expandir el √≠ndice de b√∫squeda con todo el contenido de la p√°gina
    function indexPageContent() {
        // Seleccionar todos los elementos con texto significativo
        const textElements = document.querySelectorAll('h1, h2, h3, p, a, li');
        
        textElements.forEach(element => {
            // Si es un enlace, verificar si ya est√° indexado
            if (element.tagName === 'A' && element.href) {
                const url = element.getAttribute('href');
                const alreadyIndexed = siteContent.some(item => item.url === url);
                
                if (!alreadyIndexed && element.textContent.trim() !== '') {
                    addToSearchIndex({
                        title: element.textContent.trim(),
                        url: url,
                        content: element.textContent.trim()
                    });
                }
            } 
            // Para elementos que no son enlaces pero tienen contenido significativo
            else if (element.textContent.trim().length > 10) {
                // Buscar el t√≠tulo m√°s cercano
                let closestHeading = element.previousElementSibling;
                let title = '';
                
                while (closestHeading && !title) {
                    if (['H1', 'H2', 'H3'].includes(closestHeading.tagName)) {
                        title = closestHeading.textContent.trim();
                    } else {
                        closestHeading = closestHeading.previousElementSibling;
                    }
                }
                
                // Si no se encontr√≥ un t√≠tulo, usar un t√≠tulo gen√©rico
                if (!title) {
                    title = 'Contenido de la p√°gina';
                }
                
                // Verificar si ya existe un √≠tem con este t√≠tulo y contenido similar
                const similarContent = siteContent.some(item => 
                    item.title === title && 
                    item.content.includes(element.textContent.trim().substring(0, 30))
                );
                
                if (!similarContent) {
                    addToSearchIndex({
                        title: title,
                        url: window.location.pathname,
                        content: element.textContent.trim()
                    });
                }
            }
        });
    }
    
    // Llamar a la funci√≥n de indexaci√≥n cuando la p√°gina est√© completamente cargada
    window.addEventListener('load', indexPageContent);
</script>
</body>
</html>
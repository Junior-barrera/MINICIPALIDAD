<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Municipalidad de Arica | mejor ciudad</title>
    <link rel="stylesheet" href="styles.css">
   <script src="comando_general.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css" />
</head>

<body>
    <script src="auth.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>
<div class="loader">
    <div class="loader-animation">
        <div class="loader-circle"></div>
        <img src="images.png" alt="Logo" class="loader-logo">
    </div>
</div>
    <header>
        <!-- Transparency links as collapsible menu -->
        <div class="transparency-container">
        </div>
</div>
</header>
 
                <div class="top-header">
                    <div class="logo">
                        <img src="logo_MUNI.png" alt="Logo Municipalidad de Arica">
                        <div class="logo-text">
                            <h1>ARICA</h1>
                            <span>MUNICIPALIDAD | mejor ciudad</span>
                        </div>
                    </div>
                </div>
    
    
    <!-- Main navigation -->
    <nav>
        <ul class="main-menu">
            <li><a href="index.html">INICIO</a></li>
            <li><a href="dashboard-gps.html">GPS DIMAO</a></li>
            <li><a href="dashboard-presupuesto.html">PRESUPUESTO ANUAL</a></li>
            <li><a href="dashboard-abastecimiento.html">ABASTECIMIENTO</a></li>
            <li><a href="dashboard-bodega.html">BODEGA</a></li>
        </ul>
    </nav>
    
    <!-- Hero section -->
    <section class="hero">
        <img src="fondo.jpg" alt="JUNIOR BARRERA" class="hero-image">
        <div class="hero-content">
            <h2>DIMAO</h2>
            <p>"Mejoremos Juntos"</p>
        </div>
    </section>
   
    <!-- Regular modules -->
   <!-- Sección de formularios modernizada -->
<section class="modules">
    <h2 class="fade-in">Sistema Integral de Gestión DIMAO</h2>
    <div class="module-grid">
        <div class="module fade-in">
            <div class="module-icon">📄</div>
            
            <h3>Sistema de Gestión de Presupuesto Anual de Compra</h3>
            <p>Este formulario permite planificar, registrar y gestionar el Presupuesto Anual de Compra (PAC) de materiales y servicios necesarios para el funcionamiento de DIMAO. Facilita la proyección de necesidades, el control del gasto y la programación de adquisiciones, asegurando una correcta administración de los recursos financieros durante el año.</p>
            <button class="module-button" onclick="redirectToDashboard('formulario')">
                Acceder <span class="ml-2">→</span>
                
            </button>
        </div>
        
        <div class="module fade-in">
            <div class="module-icon">🚗</div>
            <h3>Sistema de Gestión de Mantenimiento de Vehículos y Maquinaria </h3>
            <p>Este formulario está diseñado para registrar solicitudes de mantenimiento preventivo y correctivo de vehículos y maquinaria pertenecientes a la institución. Por favor, asegúrese de llenar todos los campos requeridos con información clara y precisa para facilitar una atención eficiente y oportuna por parte de la Oficina de Mantenimiento.</p>
            <button class="module-button" onclick="redirectToDashboard('formulario2')">
                Acceder <span class="ml-2">→</span>
            </button>
        </div>
        
        <div class="module fade-in">
            <div class="module-icon">💡</div>
            <h3>Sistema de Control y Mantenimiento de Iluminación Pública</h3>
            <p>Este formulario está destinado a registrar, actualizar y gestionar información relacionada con las solicitudes, reportes, y gestiones internas de la Oficina de Iluminación Pública. Permite sistematizar datos sobre mantenimiento, instalación, stock de materiales, y atención de requerimientos ciudadanos, contribuyendo a una administración más eficiente y organizada de los recursos de iluminación urbana.</p>
            <button class="module-button" onclick="redirectToDashboard('formulario3')">
                Acceder <span class="ml-2">→</span>
            </button>
        </div>
        <div class="module fade-in">
            <div class="module-icon">📄</div>
            
            <h3>Sistema de Reclamos</h3>
            <p>Plataforma para reportar y dar seguimiento a problemas relacionados con iluminación pública, áreas verdes y espacios públicos en la comunidad.</p>
            <button class="module-button" onclick="redirectToDashboard('formulario4')">
                Acceder <span class="ml-2">→</span> 
            </button>
        </div>

    </div>
</section>
<div class="container">
     <div class="container">
        <!-- Header del Foro -->
        <div class="forum-header">
            <h1 class="forum-title">🌐 DIMAO Conecta</h1>
            <p class="forum-subtitle">Foro de Comunicación Interdepartamental</p>
        </div>

        <!-- Contenedor del Chat -->
        <div class="chat-container">
            <div class="messages-area" id="messagesArea">
                <div class="welcome-message">
                    <strong>¡Bienvenido al foro DIMAO Conecta!</strong><br>
                    Este es un espacio para la comunicación entre todos los departamentos.
                </div>
            </div>
            
            <div class="input-area">
                  <div class="message-type-selector">
                    <div class="type-button active" onclick="setMessageType('general')">
                        💬 General
                    </div>
                    <div class="type-button" onclick="setMessageType('direct')">
                        📧 Directo
                    </div>
                </div>
            
                <div class="recipient-selector" id="recipientSelector">
                    <select class="recipient-select" id="recipientSelect">
                        <option value="">Seleccionar destinatario...</option>
                    </select>
                </div>
                <div class="input-container">
                    <textarea 
                        id="messageInput" 
                        class="message-input" 
                        placeholder="Escribe tu mensaje aquí..."
                        rows="1"></textarea>
                           <!-- AGREGAR ESTE BOTÓN DE EMOJIS -->
    <button id="emojiButton" class="emoji-button" title="Seleccionar emoji">
👋
    </button>
                    <button id="sendButton" class="send-button">
                        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                        </svg>
                    </button>
                </div>
                
            </div>
        </div>
<!-- AGREGAR ESTE PANEL DE EMOJIS DESPUÉS DEL input-container -->
<div id="emojiPicker" class="emoji-picker">
    <div class="emoji-header">Selecciona un emoji</div>
    <div class="emoji-search">
        <input type="text" id="emojiSearch" placeholder="Buscar emoji...">
    </div>
    <div class="emoji-categories">
        <button class="category-btn active" data-category="smileys">😀</button>
        <button class="category-btn" data-category="people">👋</button>
        <button class="category-btn" data-category="nature">🐶</button>
        <button class="category-btn" data-category="food">🍎</button>
        <button class="category-btn" data-category="activities">⚽</button>
        <button class="category-btn" data-category="travel">🚗</button>
        <button class="category-btn" data-category="objects">⌚</button>
        <button class="category-btn" data-category="symbols">❤️</button>
    </div>
    <div id="emojiGrid" class="emoji-grid">
        <!-- Los emojis se cargan aquí dinámicamente -->
    </div>
</div>
        <!-- Usuarios en línea -->
        <div class="online-users">
            <h3>
                <span class="online-indicator"></span>
                Usuarios Conectados
            </h3>
            <div class="user-list" id="userList">
                <!-- Los usuarios se cargarán dinámicamente -->
            </div>
        </div>
    </div>
</div>
<!-- Sección DIMAO 360° Modernizada -->
<section class="modules">
    <h2 class="fade-in">DIMAO 360°</h2>
    <h4>Supervisión integral operativa, táctica y estratégica en tiempo real</h4>
 <div class="widgets-grid">
        <!-- Widget Clima -->
        <div class="widget weather">
            <div class="widget-icon">🌤️</div>
            <h3 class="widget-title">Clima en Arica</h3>
            <div class="widget-data" id="weather-temp">--°C</div>
            <div class="widget-details">
                <div id="weather-desc">Cargando...</div>
                <div>💧 <span id="weather-humidity">--%</span> | 🌬️ <span id="weather-wind">-- km/h</span></div>
            </div>
            <div class="update-time" id="weather-update">Actualizado: --</div>
        </div>
    </div>
    <div class="container">

            <div class="control-panel">
                <div class="controls-row">
                    <button class="control-btn" onclick="centerMap()">
                        📍 Centrar Mapa
                    </button>
                    <button class="control-btn" onclick="toggleSatellite()">
                        🛰️ Vista Satélite
                    </button>
                </div>
            <div class="map-container">
                <div id="map"></div>
            </div>
        </div>
    </div>
<div class="module-grid">
  
      <div class="module fade-in">
        <div class="module-icon">📊</div>
        <h3>Centro de Mando DIMAO</h3>
        <p>Panel estratégico que consolida los indicadores clave de gestión de todas las áreas de DIMAO: iluminación, vehículos, áreas verdes, aseo, reclamos ciudadanos y PAC. Facilita la toma de decisiones rápidas y efectivas mediante visualización de datos en tiempo real y proyecciones inteligentes.</p>
        <button class="module-button" onclick="redirectToDashboard('centroMando')">
          Acceder <span class="ml-2">→</span>
        </button>
      </div>
  
      <div class="module fade-in">
        <div class="module-icon">🚨</div>
        <h3>Panel de Alertas Críticas</h3>
        <p>Herramienta de monitoreo proactivo que detecta, clasifica y notifica situaciones urgentes en los servicios municipales. Desde fallas en iluminación hasta vehículos fuera de servicio, el sistema prioriza incidentes y ayuda a coordinar una respuesta rápida con las unidades responsables.</p>
        <button class="module-button" onclick="redirectToDashboard('alertasCriticas')">
          Acceder <span class="ml-2">→</span>
        </button>
      </div>
    </div>

</section>

<section class="dashboard-modules">
    <h2 class="animated-title">Visualización de Módulos</h2>
    <p class="animated-subtitle">Accede a nuestros paneles de datos para conocer el funcionamiento de DIMAO</p>

    <!-- Contenedor principal -->
    <div style="background: #f9f9f9; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); text-align: center; margin-top: 40px;">

        <!-- Título Asesoría Técnica -->
        <h2>Asesoría Técnica</h2>
        <div style="height: 5px; width: 100%; background: linear-gradient(270deg, #ff0000, #ff7300, #fffb00, #00ff00, #00aaff, #a200ff, #ff00ff); background-size: 600% 600%; animation: moveGradient 10s ease infinite; margin-bottom: 40px;"></div>

        <div class="dashboard-grid">
            <!-- GPS DIMAO -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('GPS.jpg')">
                    <div class="image-overlay">
                        <span class="card-badge">GPS</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">GPS DIMAO</h3>
                    <p>Este módulo permite el seguimiento en tiempo real de los vehículos recolectores, analizando rutas, tiempos de operación y eficiencia del servicio para optimizar la gestión.</p>
                    <a href="dashboard-gps.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">→</i>
                    </a>
                </div>
            </div>

            <!-- Cuentas de Presupuesto Anual -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('presupuesto.webp')">
                    <div class="image-overlay">
                        <span class="card-badge">PAC & F1</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Cuentas de Presupuesto Anual</h3>
                    <p>Este módulo permite el seguimiento y control del presupuesto anual, analizando ingresos, egresos y su distribución para una planificación eficiente de los recursos.</p>
                    <a href="dashboard-presupuesto.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">→</i>
                    </a>
                </div>
            </div>

            <!-- Abastecimiento de Combustible -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('abastecimiento.jpg')">
                    <div class="image-overlay">
                        <span class="card-badge">Combustible</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Abastecimiento de Combustible</h3>
                    <p>Este módulo proporciona información clave sobre el abastecimiento de combustible, incluyendo consumo, trámites realizados y tiempos de respuesta. Permite analizar tendencias y optimizar la gestión del suministro.</p>
                    <a href="dashboard-abastecimiento.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">→</i>
                    </a>
                </div>
            </div>
            <!-- Cuentas de toner y tintas  -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('blog-tinta-toner.jpeg')">
                    <div class="image-overlay">
                        <span class="card-badge">Toner & Tintas</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Inventario de Toner & Tintas </h3>
                    <p>Este módulo permite visualizar y gestionar en tiempo real el stock de tóner y tintas disponibles. Ofrece un registro detallado y actualizado que facilita el control eficiente de insumos.</p>
                    <a href="toner&tintas.html" class="view-dashboard">
                        <span>Ver Inventario</span>
                        <i class="dashboard-icon">→</i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Título Oficina de Mantenimiento de Vehículos y Maquinaria -->
        <h2 style="margin-top: 60px;">Oficina de Mantenimiento de Vehículos y Maquinaria</h2>
        <div style="height: 5px; width: 100%; background: linear-gradient(270deg, #ff7300, #fffb00, #00ff00, #00aaff, #a200ff); background-size: 600% 600%; animation: moveGradient 10s ease infinite; margin-bottom: 40px;"></div>

        <div class="dashboard-grid">
            <!-- Stock de Bodega Mecánica -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('bodega.avif')">
                    <div class="image-overlay">
                        <span class="card-badge">Stock de Bodega Mecánica</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Stock de Bodega Mecánica</h3>
                    <p>Este módulo permite el control de inventario en la bodega mecánica, facilitando la gestión de repuestos, insumos y herramientas para un mantenimiento eficiente.</p>
                    <a href="dashboard-bodega.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">→</i>
                    </a>
                </div>
            </div>

            <!-- Vehículos y Maquinaria -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('vehiculo y maquinaria .jpeg')">
                    <div class="image-overlay">
                        <span class="card-badge">Vehículos y Maquinaria</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Vehículos y Maquinaria</h3>
                    <p>Este módulo proporciona información clave sobre el abastecimiento de combustible, incluyendo consumo, trámites realizados y tiempos de respuesta. Permite analizar tendencias y optimizar la gestión del suministro.</p>
                    <a href="dashboard-vehiculosymaquinaria.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">→</i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Título Iluminación Pública -->
        <h2 style="margin-top: 60px;">Iluminación Pública</h2>
        <div style="height: 5px; width: 100%; background: linear-gradient(270deg, #00c3ff, #ffff1c, #ff3c00); background-size: 600% 600%; animation: moveGradient 10s ease infinite; margin-bottom: 40px;"></div>

        <div class="dashboard-grid">
            <!-- Iluminación Pública -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('CEMAFORO.jpeg')">
                    <div class="image-overlay">
                        <span class="card-badge">Iluminación Pública</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Iluminación Pública</h3>
                    <p>Este módulo proporciona información clave sobre la gestión de solicitudes de iluminación pública, incluyendo mantenimiento de luminarias, tiempos de atención, resolución de trabajos y localización geográfica. Permite visualizar las incidencias en un mapa de calor, analizar tendencias de fallas, optimizar la asignación de recursos y mejorar la eficiencia en la atención ciudadana.</p>
                    <a href="dashboard-iluminacion.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">→</i>
                    </a>
                </div>
            </div>

            <!-- Órdenes de Trabajo de Iluminación -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('bombillas-electricas-aisladas_23-2151045845')">
                    <div class="image-overlay">
                        <span class="card-badge">Órdenes de Trabajo</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Órdenes de Trabajo de Iluminación</h3>
                    <p>Este módulo proporciona información clave sobre las órdenes de trabajo de iluminación pública, incluyendo mantenimiento de luminarias, tiempos de atención, estado de ejecución y ubicación geográfica de las solicitudes. Permite visualizar las intervenciones mediante mapas de calor, identificar patrones de fallas, optimizar la planificación de trabajos y mejorar la eficiencia operativa.</p>
                    <a href="dashboard-ordenes-trabajo-iluminacion.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">→</i>
                    </a>
                </div>
            </div>

            <!-- Stock Bodega de Iluminación -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('iluminacion-en-bodegas.1.2.jpg')">
                    <div class="image-overlay">
                        <span class="card-badge">Stock Bodega Iluminación</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Stock Bodega de Iluminación</h3>
                    <p>El módulo "Stock bodega de iluminación" permite gestionar y visualizar en tiempo real la cantidad, tipo y estado de los productos de iluminación almacenados en la bodega. Incluye el control de entradas, salidas, stock disponible, y alertas de reposición para asegurar una adecuada disponibilidad de insumos como ampolletas, tubos, reflectores, cables, entre otros artículos relacionados.</p>
                    <a href="dashboard-stock-iluminacion.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">→</i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Título Reclamos -->
        <h2 style="margin-top: 60px;">Reclamos</h2>
        <div style="height: 5px; width: 100%; background: linear-gradient(270deg, #f00000, #f4d03f, #16a085); background-size: 600% 600%; animation: moveGradient 10s ease infinite; margin-bottom: 40px;"></div>

        <div class="dashboard-grid">
            <!-- Reclamos Ciudadanos -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('reclamociudadano.jpeg')">
                    <div class="image-overlay">
                        <span class="card-badge">Reclamos Ciudadanos</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Reclamos Ciudadanos</h3>
                    <p>Este módulo proporciona información clave sobre la gestión de solicitudes de iluminación pública, incluyendo mantenimiento de luminarias, tiempos de atención, resolución de trabajos y localización geográfica. Permite visualizar las incidencias en un mapa de calor, analizar tendencias de fallas, optimizar la asignación de recursos y mejorar la eficiencia en la atención ciudadana.</p>
                    <a href="dashboard-reclamos.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">→</i>
                    </a>
                </div>
            </div>
        </div>

    </div>
</section>

<footer>
    <div class="footer-container">
        <div class="footer-column">
            <h3>Municipalidad de Arica</h3>
            <p>Renato Rocca , Arica</p>
            <p>Anexo: 6959</p>
            <p>Email: roberto.mamani@municipalidadarica.cl</p>
            <div class="social-icons">
                <a href="#">📘</a>
                <a href="#">📱</a>
                <a href="#">🐦</a>
                <a href="#">📸</a>
            </div>
        </div>
        
        <div class="footer-column">
            <h3>Colaboración Interdepartamental</h3>
            <p style="line-height: 1.6;">
                Este proyecto surge con el propósito de fortalecer la colaboración entre diversas áreas municipales, como <strong>iluminación pública</strong>, <strong>Of. Mantenimiento de Vehículos y Maquinaria</strong>, <strong>Aseo y Ornato</strong>, <strong>Asesoría Técnica</strong> y más, en un solo sistema integral. 
                Buscando consolidar la información y los procesos en un solo sistema, permitiendo un <strong>mayor control operativo</strong>, <strong>gestión por áreas</strong> y una visión integral para la <strong>mejora continua de los servicios municipales</strong>.
            </p>
        </div>
        <div class="footer-column licitaciones">
            <h3>Licitaciones</h3>
            <ul class="licitaciones-list">
                <li><a href="licitacion_agil.html">Licitación Ágil</a></li>
                <li><a href="licitacion_gran_compra.html">Gran Compra</a></li>
                <li><a href="licitacion_trato_directo.html">Trato Directo</a></li>
                <li><a href="licitacion_publica.html">Licitación Pública</a></li>
                <li><a href="licitacion_convenio_marco.html">Convenio Marco</a></li>
            </ul>
        </div>
    </div>

    <div class="footer-bottom">
        <p>© 2025 Municipalidad de Arica. Todos los derechos reservados.</p>
        <p>Desarrollado por Junior Barrera</p>
    </div>
</footer>


    <!-- Assistance button -->
    <div class="assistant-button" onclick="openAssistance()">💬</div>
      <script>
      const _0x384df4=_0x1c7f;(function(_0x4a7097,_0x2bdbfe){const _0x499c7e=_0x1c7f,_0x3aed19=_0x4a7097();while(!![]){try{const _0x3faeb5=parseInt(_0x499c7e(0x17d))/0x1+-parseInt(_0x499c7e(0x1eb))/0x2+-parseInt(_0x499c7e(0x1a3))/0x3*(-parseInt(_0x499c7e(0x208))/0x4)+parseInt(_0x499c7e(0x152))/0x5*(-parseInt(_0x499c7e(0x237))/0x6)+-parseInt(_0x499c7e(0x155))/0x7*(parseInt(_0x499c7e(0x211))/0x8)+-parseInt(_0x499c7e(0x150))/0x9*(-parseInt(_0x499c7e(0x247))/0xa)+parseInt(_0x499c7e(0x212))/0xb*(parseInt(_0x499c7e(0x16b))/0xc);if(_0x3faeb5===_0x2bdbfe)break;else _0x3aed19['push'](_0x3aed19['shift']());}catch(_0x413113){_0x3aed19['push'](_0x3aed19['shift']());}}}(_0x14bc,0xc0e1a));const _0x442889=_0x1ef5;(function(_0x332402,_0x3ad231){const _0x4cc981=_0x1c7f,_0x1a1847=_0x1ef5,_0x109901=_0x332402();while(!![]){try{const _0x2f5a07=-parseInt(_0x1a1847(0x173))/0x1+-parseInt(_0x1a1847(0x150))/0x2*(parseInt(_0x1a1847(0x1d6))/0x3)+parseInt(_0x1a1847(0x1c6))/0x4*(-parseInt(_0x1a1847(0x1c5))/0x5)+-parseInt(_0x1a1847(0x10c))/0x6+-parseInt(_0x1a1847(0x1d4))/0x7+parseInt(_0x1a1847(0x14e))/0x8*(-parseInt(_0x1a1847(0x146))/0x9)+-parseInt(_0x1a1847(0x17b))/0xa*(-parseInt(_0x1a1847(0x115))/0xb);if(_0x2f5a07===_0x3ad231)break;else _0x109901[_0x4cc981(0x22d)](_0x109901[_0x4cc981(0x1fd)]());}catch(_0x38dea1){_0x109901['push'](_0x109901[_0x4cc981(0x1fd)]());}}}(_0xefb4,0x6a675));const ARICA_COORDS=[-18.4746,-70.2979];function getCurrentTime(){const _0x5f1048=_0x1ef5;return new Date()[_0x5f1048(0xbc)](_0x5f1048(0x104),{'hour':_0x5f1048(0xf2),'minute':_0x5f1048(0xf2)});}async function updateWeather(){const _0x10568f=_0x1c7f,_0x486cd2=_0x1ef5;try{const _0x114607=await fetch(_0x486cd2(0x194)+ARICA_COORDS[0x0]+_0x486cd2(0x9e)+ARICA_COORDS[0x1]+_0x486cd2(0x10f)),_0x465c7d=await _0x114607[_0x486cd2(0x184)]();document[_0x10568f(0x17a)](_0x10568f(0x1c1))[_0x486cd2(0x1ee)]=_0x465c7d[_0x486cd2(0x118)][_0x486cd2(0xe6)]+'°C',document[_0x486cd2(0xd4)](_0x486cd2(0x131))[_0x10568f(0x158)]=_0x465c7d[_0x486cd2(0x118)][_0x486cd2(0xff)]+'%',document[_0x486cd2(0xd4)](_0x486cd2(0x12d))[_0x486cd2(0x1ee)]=_0x465c7d[_0x486cd2(0x118)][_0x486cd2(0x8b)]+_0x486cd2(0xb9),document[_0x486cd2(0xd4)](_0x10568f(0x1ac))[_0x486cd2(0x1ee)]=getWeatherDescription(_0x465c7d[_0x486cd2(0x118)][_0x10568f(0x261)]),document[_0x486cd2(0xd4)](_0x10568f(0x28b))[_0x486cd2(0x1ee)]=_0x486cd2(0x1ea)+getCurrentTime();}catch(_0xf539f3){console[_0x10568f(0x20d)](_0x486cd2(0x17a),_0xf539f3),document[_0x10568f(0x17a)](_0x10568f(0x1ac))[_0x486cd2(0x1ee)]=_0x486cd2(0x8c);}}function getWeatherDescription(_0x223e98){const _0x117baf=_0x1c7f,_0x1e13f1=_0x1ef5,_0x2000cd={0x0:_0x1e13f1(0x17e),0x1:_0x117baf(0x176),0x2:_0x117baf(0x209),0x3:'Nublado',0x2d:_0x1e13f1(0x1d3),0x3d:'Lluvia\x20ligera',0x50:_0x1e13f1(0x8e)};return _0x2000cd[_0x223e98]||_0x1e13f1(0x17e);}document['addEventListener'](_0x442889(0x103),()=>{updateWeather(),updateAirQuality(),updateAlerts(),updateTraffic(),setInterval(updateWeather,0x493e0),setInterval(updateAirQuality,0x493e0),setInterval(updateAlerts,0x493e0),setInterval(updateTraffic,0x493e0);});let map,showLighting=!![],currentBaseLayer=_0x442889(0x132),currentStatusFilter=_0x442889(0x15e),currentPriorityFilter=_0x442889(0x15e),assignments=[],satelliteTileLayer,streetTileLayer;function initMap(){const _0x4fd872=_0x1c7f,_0x334932=_0x442889;map=L[_0x334932(0x108)](_0x334932(0x108),{'attributionControl':![]})['setView']([-18.4746,-70.3045],0xd),setTimeout(removeLeafletAttribution,0x32),streetTileLayer=L[_0x334932(0x1d0)](_0x4fd872(0x24f),{'attribution':''}),satelliteTileLayer=L[_0x4fd872(0x2a4)](_0x334932(0xce),{'attribution':''}),streetTileLayer[_0x4fd872(0x1f1)](map),loadRecyclingPoints(),loadMunicipalPoints(),loadLightingZones(),updateZoneSelects(),updateStats(),setupFilters();}function _0xefb4(){const _0x1e6b57=_0x1c7f,_0x266b3d=[_0x1e6b57(0x217),_0x1e6b57(0x281),'scrollTop',_0x1e6b57(0x163),_0x1e6b57(0x262),_0x1e6b57(0x294),_0x1e6b57(0x2a3),'boxShadow',_0x1e6b57(0x1f0),_0x1e6b57(0x1dd),_0x1e6b57(0x298),_0x1e6b57(0x1c8),'dashboard-ordenes-trabajo-iluminacion',_0x1e6b57(0x2ad),_0x1e6b57(0x1a0),'dashboard-gps.html',_0x1e6b57(0x1ee),_0x1e6b57(0x20e),_0x1e6b57(0x1a4),_0x1e6b57(0x272),_0x1e6b57(0x1ae),'createElement','preventDefault',_0x1e6b57(0x1de),_0x1e6b57(0x1a1),_0x1e6b57(0x19f),_0x1e6b57(0x219),'forEach','#dc3545',_0x1e6b57(0x2ab),'masturbación','🗺️','⛹️‍♂️',_0x1e6b57(0x15f),_0x1e6b57(0x159),_0x1e6b57(0x23c),_0x1e6b57(0x265),_0x1e6b57(0x282),_0x1e6b57(0x1e6),_0x1e6b57(0x15a),_0x1e6b57(0x222),_0x1e6b57(0x220),_0x1e6b57(0x156),_0x1e6b57(0x21e),_0x1e6b57(0x244),_0x1e6b57(0x1b5),_0x1e6b57(0x227),_0x1e6b57(0x19d),_0x1e6b57(0x1d5),_0x1e6b57(0x259),'slice',_0x1e6b57(0x270),_0x1e6b57(0x23f),_0x1e6b57(0x26e),'🛳️','680KnHiqi',_0x1e6b57(0x178),'cursor',_0x1e6b57(0x18d),'username',_0x1e6b57(0x239),_0x1e6b57(0x21f),'estúpido',_0x1e6b57(0x183),_0x1e6b57(0x1a2),'formulario-3',_0x1e6b57(0x2a4),_0x1e6b57(0x16e),'exitoMessage','Niebla',_0x1e6b57(0x234),_0x1e6b57(0x253),'3WkrCzV','focus',_0x1e6b57(0x251),'number','value',_0x1e6b57(0x1f5),_0x1e6b57(0x167),_0x1e6b57(0x19c),'active','stopPropagation',_0x1e6b57(0x184),_0x1e6b57(0x22d),_0x1e6b57(0x278),_0x1e6b57(0x2a7),_0x1e6b57(0x277),_0x1e6b57(0x189),_0x1e6b57(0x1d8),_0x1e6b57(0x22e),_0x1e6b57(0x1c0),_0x1e6b57(0x260),_0x1e6b57(0x1e5),'input',_0x1e6b57(0x1d4),_0x1e6b57(0x230),'textContent','join',_0x1e6b57(0x263),_0x1e6b57(0x22c),_0x1e6b57(0x1b2),_0x1e6b57(0x218),_0x1e6b57(0x1ef),_0x1e6b57(0x162),_0x1e6b57(0x1cf),_0x1e6b57(0x21a),_0x1e6b57(0x197),_0x1e6b57(0x153),_0x1e6b57(0x154),_0x1e6b57(0x1ba),_0x1e6b57(0x27c),_0x1e6b57(0x2a0),_0x1e6b57(0x1aa),_0x1e6b57(0x1f9),_0x1e6b57(0x205),_0x1e6b57(0x143),_0x1e6b57(0x193),_0x1e6b57(0x22a),_0x1e6b57(0x238),_0x1e6b57(0x297),_0x1e6b57(0x243),_0x1e6b57(0x25d),'dimao_user_activities',_0x1e6b57(0x21b),_0x1e6b57(0x18a),_0x1e6b57(0x206),'desgraciado',_0x1e6b57(0x174),'tonto',_0x1e6b57(0x165),_0x1e6b57(0x17b),_0x1e6b57(0x179),'resize','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1e6b57(0x203),_0x1e6b57(0x14b),'zoneForm',_0x1e6b57(0x204),_0x1e6b57(0x13b),_0x1e6b57(0x256),_0x1e6b57(0x29f),_0x1e6b57(0x20f),'dashboard-bodega',_0x1e6b57(0x181),'/500\x20caracteres',_0x1e6b57(0x190),'selectionEnd','dashboard-vehiculosymaquinaria.html',_0x1e6b57(0x16a),'pocho',_0x1e6b57(0x172),_0x1e6b57(0x25c),_0x1e6b57(0x231),'module-grid',_0x1e6b57(0x1fb),'escoria',_0x1e6b57(0x2a8),_0x1e6b57(0x1f7),_0x1e6b57(0x264),'🛥️',_0x1e6b57(0x1e9),_0x1e6b57(0x229),'pointer',_0x1e6b57(0x26a),_0x1e6b57(0x1fa),'permissions',_0x1e6b57(0x250),_0x1e6b57(0x296),_0x1e6b57(0x1b9),_0x1e6b57(0x214),_0x1e6b57(0x1ec),_0x1e6b57(0x1ce),'Junior\x20Alejandro\x20Barrera\x20',_0x1e6b57(0x226),_0x1e6b57(0x241),_0x1e6b57(0x2a5),_0x1e6b57(0x191),'keypress','toLocaleString',_0x1e6b57(0x20b),_0x1e6b57(0x1bd),_0x1e6b57(0x17a),_0x1e6b57(0x202),'page','messageInput',_0x1e6b57(0x1d0),_0x1e6b57(0x225),_0x1e6b57(0x198),'🤼‍♀️',_0x1e6b57(0x276),'marihuana',_0x1e6b57(0x188),_0x1e6b57(0x257),_0x1e6b57(0x2aa),_0x1e6b57(0x2af),_0x1e6b57(0x147),_0x1e6b57(0x207),_0x1e6b57(0x201),_0x1e6b57(0x19b),_0x1e6b57(0x199),'then',_0x1e6b57(0x1b4),_0x1e6b57(0x273),_0x1e6b57(0x13f),_0x1e6b57(0x1bc),_0x1e6b57(0x1b7),_0x1e6b57(0x286),_0x1e6b57(0x1bf),_0x1e6b57(0x16d),_0x1e6b57(0x248),_0x1e6b57(0x17e),_0x1e6b57(0x1d2),'onclick',_0x1e6b57(0x245),_0x1e6b57(0x175),_0x1e6b57(0x1a5),'Enviar\x20mensaje',_0x1e6b57(0x15d),_0x1e6b57(0x1be),_0x1e6b57(0x1f6),_0x1e6b57(0x29b),'message\x20',_0x1e6b57(0x1c9),_0x1e6b57(0x2a6),_0x1e6b57(0x15e),'gringo','zonePriority',_0x1e6b57(0x236),_0x1e6b57(0x17c),'es-CL','El\x20mensaje\x20debe\x20contener\x20texto\x20válido',_0x1e6b57(0x28c),_0x1e6b57(0x24d),_0x1e6b57(0x1ea),_0x1e6b57(0x289),_0x1e6b57(0x187),_0x1e6b57(0x16f),_0x1e6b57(0x18b),'href','type',_0x1e6b57(0x15c),_0x1e6b57(0x21c),_0x1e6b57(0x18c),_0x1e6b57(0x182),_0x1e6b57(0x252),'cocaína',_0x1e6b57(0x1b8),'readyState',_0x1e6b57(0x27b),_0x1e6b57(0x24a),'masturbacion',_0x1e6b57(0x14f),_0x1e6b57(0x1e0),_0x1e6b57(0x14c),_0x1e6b57(0x177),'dashboard-reclamos',_0x1e6b57(0x2a2),_0x1e6b57(0x254),'dashboard-stock-iluminacion.html',_0x1e6b57(0x194),'toISOString',_0x1e6b57(0x185),_0x1e6b57(0x1bb),_0x1e6b57(0x287),_0x1e6b57(0x27a),'🗜️','in-view',_0x1e6b57(0x140),_0x1e6b57(0x166),_0x1e6b57(0x20d),_0x1e6b57(0x29e),_0x1e6b57(0x13d),_0x1e6b57(0x1e4),_0x1e6b57(0x295),_0x1e6b57(0x1ff),_0x1e6b57(0x284),_0x1e6b57(0x1f2),_0x1e6b57(0x2a9),'mierda','remove',_0x1e6b57(0x16c),_0x1e6b57(0x1d9),_0x1e6b57(0x164),_0x1e6b57(0x235),_0x1e6b57(0x1ad),_0x1e6b57(0x22f),_0x1e6b57(0x26d),_0x1e6b57(0x246),_0x1e6b57(0x1dc),_0x1e6b57(0x1d1),_0x1e6b57(0x1da),_0x1e6b57(0x1e2),'charAt',_0x1e6b57(0x210),'\x27)\x22>',_0x1e6b57(0x192),_0x1e6b57(0x18e),_0x1e6b57(0x23b),_0x1e6b57(0x141),_0x1e6b57(0x1b0),'add',_0x1e6b57(0x24b),'open','40pmCmFh','🏍️',_0x1e6b57(0x271),_0x1e6b57(0x186),_0x1e6b57(0x292),_0x1e6b57(0x283),_0x1e6b57(0x242),_0x1e6b57(0x1fc),'maricón',_0x1e6b57(0x29c),'scrollIntoView','scroll','dashboard-gps',_0x1e6b57(0x24c),_0x1e6b57(0x268),_0x1e6b57(0x13a),_0x1e6b57(0x27f),'parse','🕰️','0px\x200px\x20-100px\x200px',_0x1e6b57(0x249),_0x1e6b57(0x27d),_0x1e6b57(0x19e),_0x1e6b57(0x13c),_0x1e6b57(0x28e),_0x1e6b57(0x1e3),_0x1e6b57(0x2ac),_0x1e6b57(0x279),_0x1e6b57(0x293),_0x1e6b57(0x1a6),_0x1e6b57(0x1fe),_0x1e6b57(0x299),_0x1e6b57(0x1f8),_0x1e6b57(0x240),_0x1e6b57(0x23a),_0x1e6b57(0x149),'basura',_0x1e6b57(0x144),_0x1e6b57(0x1d7),_0x1e6b57(0x25f),'coca',_0x1e6b57(0x26f),_0x1e6b57(0x196),_0x1e6b57(0x1d3),_0x1e6b57(0x27e),'20270HsmgYQ','dashboard-seguridad.html',_0x1e6b57(0x1af),'Despejado',_0x1e6b57(0x29a),_0x1e6b57(0x15b),_0x1e6b57(0x1b1),_0x1e6b57(0x1c7),_0x1e6b57(0x13e),_0x1e6b57(0x25a),_0x1e6b57(0x1f4),_0x1e6b57(0x1a7),'Director',_0x1e6b57(0x20c),_0x1e6b57(0x24e),'</button>','header',_0x1e6b57(0x195),_0x1e6b57(0x170)];return _0xefb4=function(){return _0x266b3d;},_0xefb4();}function removeLeafletAttribution(){const _0x224dd8=_0x1c7f,_0x52cf72=_0x442889,_0x834ded=document[_0x224dd8(0x25d)](_0x52cf72(0x1b5));_0x834ded[_0x52cf72(0x1a9)](_0x501ece=>{const _0x3d1bf3=_0x52cf72;_0x501ece[_0x3d1bf3(0x136)]();});}function centerMap(){const _0x38805e=_0x442889;map[_0x38805e(0xe2)]([-18.4746,-70.3045],0xd);}function _0x1ef5(_0x2f3c6c,_0x8020cd){const _0x22c56e=_0xefb4();return _0x1ef5=function(_0x2278cb,_0x3942eb){_0x2278cb=_0x2278cb-0x88;let _0xeaa224=_0x22c56e[_0x2278cb];return _0xeaa224;},_0x1ef5(_0x2f3c6c,_0x8020cd);}function toggleSatellite(){const _0x349a84=_0x1c7f,_0x1eb1f9=_0x442889;currentBaseLayer===_0x1eb1f9(0x132)?(map[_0x1eb1f9(0x181)](streetTileLayer),map['addLayer'](satelliteTileLayer),currentBaseLayer=_0x1eb1f9(0x1e8)):(map[_0x349a84(0x1b1)](satelliteTileLayer),map[_0x1eb1f9(0x9b)](streetTileLayer),currentBaseLayer=_0x1eb1f9(0x132)),removeLeafletAttribution();}function showZoneForm(){const _0x1db6ab=_0x1c7f,_0x5a75bd=_0x442889;document[_0x5a75bd(0xd4)](_0x5a75bd(0xa7))[_0x5a75bd(0x1ba)][_0x5a75bd(0xec)]=_0x5a75bd(0x1a8),document[_0x5a75bd(0x98)](_0x5a75bd(0x16e))[_0x5a75bd(0x1a9)](_0x44f5a0=>{const _0x47cd53=_0x5a75bd;_0x44f5a0[_0x47cd53(0x1da)]=_0x44f5a0[_0x47cd53(0x10e)]!==_0x47cd53(0x1d9)?'':'';}),document[_0x5a75bd(0xd4)](_0x1db6ab(0x29d))[_0x5a75bd(0x1da)]=_0x5a75bd(0x18d),document[_0x5a75bd(0xd4)](_0x5a75bd(0x101))[_0x5a75bd(0x1da)]=_0x5a75bd(0x95);}document[_0x442889(0x116)]===_0x442889(0x1b2)?document[_0x442889(0xf5)](_0x384df4(0x17c),initMap):initMap();function redirectToDashboard(_0x6d8394){const _0x5c9a26=_0x384df4,_0x7df99b=_0x442889,_0x2f9136=JSON[_0x7df99b(0x15f)](localStorage[_0x7df99b(0x19c)](_0x7df99b(0xfe)));if(!_0x2f9136){window[_0x7df99b(0x90)][_0x7df99b(0x10d)]=_0x7df99b(0x17f);return;}const _0x27e861={'presupuesto':{'page':_0x7df99b(0x19d),'permission':_0x7df99b(0x15a)},'obras':{'page':_0x7df99b(0xa1),'permission':'dashboard-presupuesto'},'servicios':{'page':_0x7df99b(0xa5),'permission':_0x7df99b(0x1e7)},'seguridad':{'page':_0x7df99b(0x17c),'permission':_0x7df99b(0x1c2)},'formulario':{'page':_0x5c9a26(0x1ed),'permission':_0x7df99b(0x164)},'formulario2':{'page':_0x7df99b(0xc7),'permission':_0x7df99b(0xa9)},'formulario3':{'page':_0x7df99b(0xf4),'permission':_0x7df99b(0x1cf)},'formulario4':{'page':_0x7df99b(0xbb),'permission':_0x7df99b(0xee)},'dashboard-gps':{'page':_0x7df99b(0x19d),'permission':_0x7df99b(0x15a)},'dashboard-presupuesto':{'page':_0x7df99b(0xa1),'permission':_0x7df99b(0x1ed)},'dashboard-abastecimiento':{'page':_0x7df99b(0xa5),'permission':_0x7df99b(0x1e7)},'dashboard-bodega':{'page':_0x7df99b(0xdc),'permission':_0x7df99b(0xad)},'dashboard-reclamos':{'page':_0x7df99b(0x120),'permission':_0x7df99b(0x11e)},'dashboard-vehiculosymaquinaria':{'page':_0x7df99b(0xb2),'permission':_0x7df99b(0x193)},'dashboard-iluminacion':{'page':_0x7df99b(0x134),'permission':_0x7df99b(0xc0)},'dashboard-ordenes-trabajo-iluminacion':{'page':_0x7df99b(0x19a),'permission':_0x7df99b(0x19a)},'dashboard-stock-iluminacion':{'page':_0x7df99b(0x121),'permission':_0x7df99b(0x144)}},_0x3411bc=_0x27e861[_0x6d8394];if(!_0x3411bc){console[_0x7df99b(0x12c)]('Tipo\x20de\x20dashboard\x20no\x20reconocido:',_0x6d8394);return;}hasStrictPermission(_0x2f9136,_0x3411bc[_0x7df99b(0xbf)])?window[_0x7df99b(0x90)][_0x7df99b(0x10d)]=_0x3411bc[_0x7df99b(0xd6)]:showAccessDeniedMessage();}function hasStrictPermission(_0x52c13e,_0x162267){const _0xecd479=_0x384df4,_0x22c1a3=_0x442889;if(_0x52c13e[_0xecd479(0x227)]===_0x22c1a3(0xa8)||_0x52c13e[_0x22c1a3(0x1bc)]===_0x22c1a3(0x1f0))return!![];if(_0x52c13e[_0x22c1a3(0xc4)]){if(_0x52c13e[_0x22c1a3(0x1bc)]===_0x22c1a3(0x1bd)&&_0x162267===_0x22c1a3(0x1e7)&&_0x52c13e[_0x22c1a3(0xc4)][_0x22c1a3(0x16f)](_0x22c1a3(0x142)))return!![];if(_0x162267==='formulario-1'&&_0x52c13e[_0x22c1a3(0xc4)][_0x22c1a3(0x16f)]('pac'))return!![];if(_0x52c13e[_0x22c1a3(0xc4)][_0xecd479(0x240)](_0x162267))return!![];}return![];}function updateAccessButtonsVisibility(){const _0xf0bcd3=_0x384df4,_0xe05bbb=_0x442889,_0xa230b4=JSON[_0xe05bbb(0x15f)](localStorage[_0xe05bbb(0x19c)](_0xe05bbb(0xfe)));if(!_0xa230b4)return;const _0x5c6d1b=document[_0xf0bcd3(0x25d)](_0xe05bbb(0x1a5));_0x5c6d1b[_0xe05bbb(0x1a9)](_0xd4c102=>{const _0x19437a=_0xf0bcd3,_0x5dc856=_0xe05bbb,_0x3b5675=_0xd4c102[_0x5dc856(0x1d5)](_0x5dc856(0xf3));if(!_0x3b5675)return;const _0x3a74ea=_0x3b5675[_0x5dc856(0x198)](/redirectToDashboard\(['"]([^'"]+)['"]\)/);if(!_0x3a74ea||!_0x3a74ea[0x1])return;const _0x3e3154=_0x3a74ea[0x1],_0x10386a={'presupuesto':_0x5dc856(0x15a),'obras':_0x5dc856(0x1ed),'servicios':_0x5dc856(0x1e7),'seguridad':_0x5dc856(0x1c2),'reclamos':_0x5dc856(0x11e),'vehiculos':_0x5dc856(0x193),'formulario':_0x5dc856(0x164),'formulario2':_0x5dc856(0xa9),'formulario3':_0x19437a(0x1ca),'formulario4':_0x5dc856(0xee),'dashboard-gps':_0x5dc856(0x15a),'dashboard-presupuesto':_0x19437a(0x230),'dashboard-abastecimiento':_0x5dc856(0x1e7),'dashboard-bodega':_0x5dc856(0xad),'dashboard-reclamos':_0x19437a(0x1e7),'dashboard-vehiculosymaquinaria':_0x5dc856(0x193),'dashboard-iluminacion':_0x19437a(0x229),'dashboard-ordenes-trabajo-iluminacion':'dashboard-ordenes-trabajo-iluminacion','dashboard-stock-iluminacion':'dashboard-stock-iluminacion'},_0x2676e1=_0x10386a[_0x3e3154];!hasStrictPermission(_0xa230b4,_0x2676e1)&&(_0xd4c102[_0x5dc856(0x1a1)]=!![],_0xd4c102[_0x5dc856(0x107)][_0x5dc856(0x14b)](_0x19437a(0x290)),_0xd4c102[_0x5dc856(0x1ba)][_0x5dc856(0x178)]=_0x5dc856(0xa0),_0xd4c102[_0x5dc856(0x1ba)][_0x5dc856(0x1c7)]=_0x5dc856(0x167),_0xd4c102[_0x5dc856(0x1ba)][_0x5dc856(0xa2)]=_0x5dc856(0x1f2),_0xd4c102[_0x5dc856(0xdf)]=_0x5dc856(0x1dc));});const _0x52486a=document[_0xe05bbb(0x98)](_0xf0bcd3(0x1c6));_0x52486a[_0xf0bcd3(0x2ae)](_0x13ca66=>{const _0x2d3553=_0xf0bcd3,_0x256148=_0xe05bbb,_0x5a1efb=_0x13ca66[_0x256148(0x1d5)](_0x256148(0x10d));if(!_0x5a1efb)return;const _0x3e4e40=_0x5a1efb[_0x2d3553(0x26d)](_0x2d3553(0x1a9),'');!hasStrictPermission(_0xa230b4,_0x3e4e40)&&(_0x13ca66[_0x256148(0xf5)](_0x256148(0x166),function(_0x41de9d){const _0x59affd=_0x256148;_0x41de9d[_0x59affd(0x1a4)](),showAccessDeniedMessage();}),_0x13ca66[_0x2d3553(0x24d)][_0x2d3553(0x285)](_0x256148(0xaa)),_0x13ca66[_0x256148(0x1ba)][_0x256148(0xa2)]=_0x256148(0xd2),_0x13ca66[_0x2d3553(0x244)][_0x256148(0xe8)]=_0x256148(0x15e),_0x13ca66[_0x256148(0x1ba)][_0x2d3553(0x1b6)]=_0x256148(0x167),_0x13ca66['innerHTML']='<span>Sin\x20acceso</span>\x20<i\x20class=\x22dashboard-icon\x22>🔒</i>');});}document[_0x442889(0xf5)](_0x442889(0x103),function(){checkPagePermission(),updateAccessButtonsVisibility();});function openAssistance(){const _0x573b7a=_0x384df4,_0x47c57e=_0x442889,_0x1e3645=_0x573b7a(0x232);window[_0x47c57e(0x14d)](_0x573b7a(0x148)+_0x1e3645,_0x47c57e(0xcf));}document[_0x442889(0xf5)](_0x384df4(0x17c),function(){const _0x41261f=_0x442889,_0x4a8549=document[_0x41261f(0x98)](_0x41261f(0xe9)),_0x1c6380=new IntersectionObserver(_0x1eb837=>{const _0x59009e=_0x41261f;_0x1eb837[_0x59009e(0x1a9)](_0x47960e=>{const _0x5af79f=_0x1c7f,_0x12ecff=_0x59009e;_0x47960e[_0x12ecff(0x149)]&&(_0x47960e[_0x12ecff(0x163)][_0x12ecff(0x107)][_0x12ecff(0x14b)](_0x12ecff(0x129)),_0x1c6380[_0x12ecff(0xfa)](_0x47960e[_0x5af79f(0x27d)]));});},{'threshold':0.1});_0x4a8549['forEach'](_0x576b46=>{const _0x44b47c=_0x41261f;_0x1c6380[_0x44b47c(0x1a6)](_0x576b46);});const _0x2ca545=document[_0x41261f(0xc6)](_0x41261f(0x18b));let _0x41860f=0x0;window[_0x41261f(0xf5)](_0x41261f(0x159),()=>{const _0x38f07b=_0x1c7f,_0x508404=_0x41261f,_0xa0dd61=window[_0x508404(0x112)]||document[_0x38f07b(0x1c5)][_0x508404(0x190)];_0xa0dd61>0x64?_0x2ca545[_0x508404(0x1ba)][_0x508404(0x195)]=_0x508404(0x1af):_0x2ca545[_0x38f07b(0x244)][_0x508404(0x195)]=_0x38f07b(0x1e1),_0x41860f=_0xa0dd61;});}),document[_0x384df4(0x175)](_0x442889(0x103),function(){const _0x44324d=_0x384df4,_0x4684b6=_0x442889,_0x5141e0=document[_0x4684b6(0xc6)](_0x4684b6(0x97)),_0x5ee204=document[_0x4684b6(0xc6)](_0x4684b6(0x183));if(_0x5141e0&&_0x5ee204){_0x5141e0[_0x4684b6(0xf5)](_0x44324d(0x28e),function(){const _0x410a25=_0x44324d,_0x271325=_0x4684b6;_0x5141e0[_0x410a25(0x24d)][_0x271325(0x165)](_0x410a25(0x157)),_0x5ee204[_0x271325(0x107)][_0x271325(0x165)](_0x271325(0x1de));});function _0x222f65(){const _0x528bdb=_0x4684b6;window[_0x528bdb(0xac)]<=0x300?_0x5ee204[_0x528bdb(0x107)][_0x528bdb(0x136)](_0x528bdb(0x1de)):_0x5ee204[_0x528bdb(0x107)][_0x528bdb(0x14b)](_0x528bdb(0x1de));}_0x222f65(),window[_0x44324d(0x175)](_0x4684b6(0xa3),_0x222f65);}}),window[_0x442889(0xf5)](_0x442889(0x13f),function(){setTimeout(function(){const _0x2ca151=_0x1ef5;document[_0x2ca151(0xc6)](_0x2ca151(0x11b))['classList'][_0x2ca151(0x14b)](_0x2ca151(0x1e4));},0x320);}),document[_0x442889(0xf5)](_0x384df4(0x17c),function(){const _0x2a0e7a=_0x384df4,_0x3850e1=_0x442889,_0x2fb5ef=document[_0x3850e1(0xc6)](_0x3850e1(0x126)),_0x1c7151=document[_0x3850e1(0x1a3)](_0x3850e1(0x130));_0x1c7151[_0x3850e1(0x1b1)]=_0x3850e1(0x125),_0x2fb5ef[_0x3850e1(0x11c)](_0x1c7151);for(let _0x4be58c=0x0;_0x4be58c<0x32;_0x4be58c++){createParticle(_0x1c7151);}const _0x1b0cc4=document[_0x3850e1(0xc6)]('.hero-content'),_0x1b92bb=document[_0x3850e1(0x1a3)](_0x3850e1(0x130));_0x1b92bb[_0x3850e1(0x1b1)]='hero-buttons',_0x1b92bb[_0x3850e1(0xdf)]=_0x3850e1(0x168),_0x1b0cc4[_0x2a0e7a(0x14c)](_0x1b92bb),_0x2fb5ef[_0x3850e1(0xf5)]('mousemove',function(_0x39984c){const _0x46ed2c=_0x3850e1,_0x11fa46=_0x39984c[_0x46ed2c(0x147)]/window[_0x46ed2c(0xac)]-0.5,_0x1c7684=_0x39984c[_0x46ed2c(0x106)]/window[_0x46ed2c(0x1dd)]-0.5,_0x3c35bb=document[_0x46ed2c(0xc6)]('.hero-image');_0x3c35bb['style'][_0x46ed2c(0x1c3)]=_0x46ed2c(0x157)+_0x11fa46*0x14+'px,\x20'+_0x1c7684*0x14+_0x46ed2c(0x1a2);const _0x113faa=document[_0x46ed2c(0xc6)](_0x46ed2c(0xeb));_0x113faa[_0x46ed2c(0x1ba)][_0x46ed2c(0x1c3)]=_0x46ed2c(0x157)+_0x11fa46*-0x1e+_0x46ed2c(0x188)+_0x1c7684*-0x1e+_0x46ed2c(0x1e5);});});function _0x14bc(){const _0x2d0740=['email','messagesArea','title','formulario-3','maricon','🛢️','Administrador','🏟️','smileys','lacra','trim','2-digit','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22role-badge\x20role-','vete\x20a\x20morir','mamon','\x27)\x22>','scrollTo','joder','heroína','left','🌶️','load','El\x20mensaje\x20no\x20puede\x20estar\x20vacío','.module-button','ojete','.loader','0\x202px\x2010px\x20rgba(0,\x200,\x200,\x200.05)','combustible','not-allowed','hijo\x20de\x20puta','Actualizado:\x20','shiftKey','dashboard-reclamos','name','permission','map','1080080Cdcztr','penetracion','formulario-1.html','ojalá\x20te\x20mueras','Mensaje\x20enviado\x20correctamente\x20✓','warning','addTo','toLowerCase','content','Tu\x20mensaje\x20tiene\x20problemas.\x20¿Quieres\x20enviarlo\x20así?\x0a\x0aTexto\x20sugerido:\x20\x22','Debes\x20iniciar\x20sesión\x20para\x20acceder\x20al\x20foro','unobserve','toLocaleTimeString','.form-input,\x20.form-select','location','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#27ae60;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20Arial,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20300px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20word-wrap:\x20break-word;\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20km/h','razon','shift','perdedor','weather-humidity','other','NFD','wetback','dashboard-abastecimiento.html','director','application/json','https://script.google.com/macros/s/AKfycbws3ckXIZJebtwEdAk0nmeE1uIEaEYN4ZanWWRfJcc0ulOcG29vdfW-R8_mFPzi5w01/exec','puto','108028DwAQiV','Parcialmente\x20nublado','messageInput','#999','px,\x20','error','$1$1','innerWidth','dashboard-stock-iluminacion','8TcmRpt','22BNIXOD','⛹️‍♀️','imbecil','rata','scrollTop','none','El\x20mensaje\x20es\x20demasiado\x20corto','block','string','inútil','normalize','🎙️','errorMessage','indio','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x22>','finally','sexo','input','href','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-chip\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22online-indicator\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','role','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20','dashboard-iluminacion','data-category','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22role-badge\x20role-','dato_ua','push','dashboard-abastecimiento','\x0a\x20\x20\x20\x20\x20\x20\x20\x20/*\x20Estilos\x20para\x20el\x20sistema\x20de\x20validación\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20#messageInput.invalid\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-color:\x20#dc3545\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x200\x200.2rem\x20rgba(220,\x2053,\x2069,\x200.25)\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20#messageInput.valid\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-color:\x20#28a745\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x200\x200.2rem\x20rgba(40,\x20167,\x2069,\x200.25)\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20.content-filter-warning\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#fff3cd;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ffeaa7;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#856404;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20.message-counter\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#6c757d;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20right;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x202px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20.message-counter.warning\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#dc3545;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','dashboard-presupuesto','cssText','959414178','preventDefault','3578757BCNfst','🖥️','🛩️','6eiHpGy','Media','author','🤸‍♂️','<button\x20class=\x22emoji-item\x22\x20onclick=\x22insertEmojiToInput(\x27','className','parasito','gilipollas','dashboard-seguridad','includes','puta','timestamp','.transparency-toggle','style','formulario-3.html','contains','1915190tzAxwW','idiota','🏋️‍♂️','current','🤼‍♂️','?h=M','classList','test','https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png','🎚️','dato_ac','maldito','getAttribute','dashboard-reclamos.html','username','disabled-link','innerHTML','murete','imbécil','json','?h=MUA','negro\x20de\x20mierda','querySelectorAll','value','.dashboard-image','🏋️‍♀️','weather_code','huevon','admin','El\x20mensaje\x20contiene\x20patrones\x20no\x20permitidos\x20(spam,\x20exceso\x20de\x20mayúsculas,\x20etc.)','loading',');\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x20','🕹️','userId','😮‍💨','setItem','parásito','orgasmo','replace','transform','Enter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#e74c3c;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20Arial,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20300px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20word-wrap:\x20break-word;\x0a\x20\x20\x20\x20\x20\x20\x20\x20','1381246fGdaqb','disabled','.fade-in','createElement','head','dashboard-bodega.html','hidden','setSelectionRange','culero','%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Elementos\x20del\x20emoji\x20picker\x20no\x20encontrados','.dashboard-modules','target','Error\x20al\x20cargar\x20clima:','all','messageCounter','muérete','Por\x20favor\x20escribe\x20un\x20mensaje','.message','street','add','message-counter','.hero','parse','emojiSearch','exitoMessage','weather-update','clientY','no-cors','click','🏋️','disabled-button','😶‍🌫️','.modules','📽️','dashboard-vehiculosymaquinaria','div','querySelector','dato_ms','match','Tu\x20mensaje\x20tiene\x20problemas.\x20¿Quieres\x20enviarlo\x20así?\x0a\x0a\x22','login.html','Demasiados\x20enlaces\x20en\x20el\x20mensaje','translate(','zoneStatus','weather-wind','cocaina','Chubascos','cucaracha','random','https://api.open-meteo.com/v1/forecast?latitude=','tileLayer','https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}','currentUser','lastActivity','formulario-4.html','dashboard-iluminacion.html','px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20','.welcome-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22hero-button\x20primary\x22>Explorar\x20Dashboards\x20<span>→</span></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22hero-button\x22>Conoce\x20Más\x20<span>↓</span></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cabrón','forEach','drogas','Usuario','formulario-2','toggle','userList','.transparency-links','#007bff','El\x20mensaje\x20es\x20demasiado\x20largo\x20(máximo\x20500\x20caracteres)','isIntersecting','sudaca','substring','530685kbnByp','addedNodes','then','setView','https://wa.me/','penetración','in-view','length','appendChild','pendejo','porno','filter','54ofIctd','te\x20mato','5587550tEiSKI','🕉️','wind_speed_10m','5301037fqfjwa','🎞️','active','textContent','top','.leaflet-control-attribution','selectionStart','&current=temperature_2m,relative_humidity_2m,wind_speed_10m,weather_code&timezone=auto','🖨️','relative_humidity_2m','0\x205px\x2020px\x20rgba(0,\x200,\x200,\x200.1)','slice','🏎️','smooth','🐻‍❄️','cargandoOverlay','#ccc','🖐️','Sin\x20acceso\x20<span\x20class=\x22ml-2\x22>🔒</span>','🖲️','.module','.hero-button:not(.primary)','7889172noBMIn','scrollHeight','auto','translateY(','cerdo','Regular','ojala\x20te\x20mueras','fracasado','emojiGrid','&longitude=','addEventListener','Mayormente\x20despejado','catch','24116ZUYgDF','color','getElementById','dashboard-presupuesto.html','DOMContentLoaded','551858ThfeYT','emojiPicker','maraca','remove','Error\x20al\x20obtener\x20los\x20datos:','pageYOffset','max','huevón','🎛️','parentNode','mensajes','height','px)','addLayer','3278550bxShXZ','scrollY','El\x20mensaje\x20contiene\x20lenguaje\x20inapropiado','clientX','cabron','own','_blank','1376118DdiiHw','.hero-buttons','.hero-button.primary','now','backgroundColor','px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20255,\x20255,\x20','esValido','temperature_2m','verga','body','innerHeight','Combustible','formulario-1','%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x20','getItem','observe','beforeunload','21Tpvfjr','heroina','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-author\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','coño','emojiButton','te\x20voy\x20a\x20matar','.html','min','mamón','weather-desc','bobo','px)\x20scale(1.1)','stringify','.category-btn','removeLayer','#666','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-time\x22>','pointerEvents','fullName','cursor','display','23331kCpdCd','formulario-2.html','Datos\x20no\x20disponibles','particles-container','.hero-content','key','sendButton','formulario-4','satellite','weather-temp','<div\x20class=\x22empty-state\x22>No\x20hay\x20usuarios\x20conectados</div>','junior','scrollIntoView','documentElement','.view-dashboard'];_0x14bc=function(){return _0x2d0740;};return _0x14bc();}function createParticle(_0x1f02f5){const _0x483988=_0x384df4,_0x1c7871=_0x442889,_0x55654b=document[_0x483988(0x274)](_0x1c7871(0x130));var _0x2a09d7=Math[_0x1c7871(0x11f)]()*0x5+0x1,_0x349f5f=Math[_0x483988(0x2a2)]()*0.5+0.1,_0x94f05e=Math[_0x1c7871(0x11f)]()*0x64,_0x299745=Math[_0x1c7871(0x11f)]()*0x64,_0x16ce30=(Math['random']()-0.5)*0.5,_0x2cd82f=(Math[_0x1c7871(0x11f)]()-0.5)*0.5;_0x55654b[_0x1c7871(0x1ba)][_0x1c7871(0xb7)]=_0x483988(0x228)+_0x2a09d7+_0x1c7871(0xe0)+_0x2a09d7+_0x1c7871(0x89)+_0x349f5f+_0x483988(0x266)+_0x299745+_0x1c7871(0x1a7)+_0x94f05e+_0x1c7871(0x127),_0x1f02f5[_0x1c7871(0x11c)](_0x55654b);let _0x5d5d47=_0x94f05e,_0x261ab1=_0x299745;function _0x13ac1d(){const _0x15347a=_0x483988,_0x383316=_0x1c7871;_0x5d5d47+=_0x16ce30,_0x261ab1+=_0x2cd82f,(_0x5d5d47<0x0||_0x5d5d47>0x64)&&(_0x5d5d47=Math[_0x383316(0x1cd)](0x0,Math[_0x383316(0x8f)](0x64,_0x5d5d47)),_0x16ce30*=-0x1),(_0x261ab1<0x0||_0x261ab1>0x64)&&(_0x261ab1=Math[_0x383316(0x1cd)](0x0,Math[_0x15347a(0x1aa)](0x64,_0x261ab1)),_0x2cd82f*=-0x1),_0x55654b['style'][_0x383316(0x141)]=_0x5d5d47+'%',_0x55654b[_0x383316(0x1ba)][_0x383316(0x1b0)]=_0x261ab1+'%',requestAnimationFrame(_0x13ac1d);}_0x13ac1d();}const fadeElements=document[_0x442889(0x98)](_0x442889(0xe9)),observer=new IntersectionObserver(_0xd502e7=>{const _0x40e184=_0x442889;_0xd502e7[_0x40e184(0x1a9)](_0x25d6ee=>{const _0x39d93b=_0x1c7f,_0x481af5=_0x40e184;if(_0x25d6ee[_0x481af5(0x149)]){_0x25d6ee[_0x39d93b(0x27d)][_0x481af5(0x107)][_0x481af5(0x14b)](_0x39d93b(0x14a));if(_0x25d6ee[_0x481af5(0x163)][_0x39d93b(0x24d)][_0x39d93b(0x246)](_0x481af5(0xb8))){const _0x3a9ade=_0x25d6ee[_0x481af5(0x163)][_0x481af5(0x98)](_0x39d93b(0x169));_0x3a9ade[_0x481af5(0x1a9)]((_0x550b20,_0xb48770)=>{setTimeout(()=>{const _0x23ebe7=_0x1c7f;_0x550b20[_0x23ebe7(0x24d)][_0x23ebe7(0x285)](_0x23ebe7(0x14a));},_0xb48770*0x96);});}observer[_0x481af5(0xfa)](_0x25d6ee[_0x481af5(0x163)]);}});},{'threshold':0.15,'rootMargin':_0x442889(0x161)});fadeElements[_0x384df4(0x2ae)](_0x644a8=>{const _0x21c8e0=_0x384df4;observer[_0x21c8e0(0x1a1)](_0x644a8);}),window[_0x442889(0xf5)](_0x442889(0x159),function(){const _0x4e9e74=_0x442889,_0x4249d6=window[_0x4e9e74(0x111)];document['querySelectorAll'](_0x4e9e74(0x175))[_0x4e9e74(0x1a9)](function(_0x275384,_0x30a186){const _0x1c2866=_0x4e9e74,_0x58fe95=0.05*(_0x30a186+0x1),_0x3fcc84=_0x4249d6*_0x58fe95;_0x275384[_0x1c2866(0x1ba)][_0x1c2866(0x1c3)]=_0x1c2866(0x1d1)+_0x3fcc84+'px)';});}),document[_0x442889(0xf5)](_0x442889(0x103),function(){const _0x166f85=_0x384df4,_0x2571a5=_0x442889,_0x10a7f6=document[_0x2571a5(0xc6)](_0x2571a5(0xeb)),_0x221de9=new MutationObserver(function(_0x5d87df){const _0x1c0f5f=_0x2571a5;_0x5d87df[_0x1c0f5f(0x1a9)](function(_0x5b6b2b){const _0x128c37=_0x1c7f,_0x51b379=_0x1c0f5f;if(_0x5b6b2b[_0x128c37(0x145)][_0x51b379(0xa6)]){const _0x1e49d0=document[_0x51b379(0xc6)](_0x51b379(0x93));if(_0x1e49d0){const _0x218545=_0x1e49d0[_0x51b379(0xc6)](_0x51b379(0x122));_0x218545&&_0x218545[_0x51b379(0xf5)](_0x51b379(0x166),function(){const _0x51ee24=_0x128c37,_0x1c530e=_0x51b379,_0x2c634b=document[_0x1c530e(0xc6)](_0x51ee24(0x27c));_0x2c634b&&_0x2c634b[_0x1c530e(0x158)]({'behavior':_0x51ee24(0x162)});});const _0x1ae52b=_0x1e49d0[_0x51b379(0xc6)]('.hero-button:not(.primary)');_0x1ae52b&&_0x1ae52b[_0x51b379(0xf5)](_0x51b379(0x166),function(){const _0x5631b3=_0x128c37,_0x5bf350=_0x51b379,_0x2e9b55=document[_0x5631b3(0x296)](_0x5bf350(0x152));_0x2e9b55&&_0x2e9b55[_0x5631b3(0x1c4)]({'behavior':_0x5bf350(0x1f5)});}),_0x221de9['disconnect']();}}});});_0x221de9[_0x2571a5(0x1a6)](_0x10a7f6,{'childList':!![],'subtree':!![]});const _0x53bf63=document[_0x2571a5(0xc6)]('.hero-buttons');if(_0x53bf63){const _0x1152e0=_0x53bf63[_0x2571a5(0xc6)]('.hero-button.primary');_0x1152e0&&_0x1152e0[_0x2571a5(0xf5)](_0x166f85(0x28e),function(){const _0x48811d=_0x166f85,_0x5c8522=_0x2571a5,_0x2a36d6=document[_0x5c8522(0xc6)](_0x5c8522(0x8d));_0x2a36d6&&_0x2a36d6[_0x5c8522(0x158)]({'behavior':_0x48811d(0x162)});});const _0x45d665=_0x53bf63[_0x2571a5(0xc6)](_0x2571a5(0xb3));_0x45d665&&_0x45d665[_0x2571a5(0xf5)](_0x2571a5(0x166),function(){const _0x5a703f=_0x2571a5,_0x4dd640=document['querySelector'](_0x5a703f(0x152));_0x4dd640&&_0x4dd640[_0x5a703f(0x158)]({'behavior':_0x5a703f(0x1f5)});});}});let currentEmojiCategory=_0x384df4(0x1cf),emojiPickerVisible=![];const emojiCategories={'smileys':['😀','😃','😄','😁','😆','😅','🤣','😂','🙂','🙃','😉','😊','😇','🥰','😍','🤩','😘','😗','☺️','😚','😙','🥲','😋','😛','😜','🤪','😝','🤑','🤗','🤭','🤫','🤔','🤐','🤨','😐','😑','😶',_0x384df4(0x291),'😏','😒','🙄','😬',_0x384df4(0x269),'🤥','😔','😪','🤤','😴'],'people':['👋','🤚',_0x442889(0x12b),'✋','🖖','👌','🤌','🤏','✌️','🤞','🤟','🤘','🤙','👈','👉','👆',,'👇','☝️','👍','👎','👊','✊','🤛','🤜','👏','🙌','👐','🤲','🤝','🙏','✍️','💅','🤳','💪','🦾','🦿','🦵','🦶','👂','🦻','👃','🧠','🫀','🫁','🦷','🦴','👀'],'nature':['🐶','🐱','🐭','🐹','🐰','🦊','🐻','🐼',_0x442889(0x191),'🐨','🐯','🦁','🐮','🐷','🐸','🐵','🙈','🙉','🙊','🐒','🐔','🐧','🐦','🐤','🐣','🐥','🦆','🦅','🦉','🦇','🐺','🐗','🌱','🌿','🍀','🎍','🎋','🍃','🍂','🍁','🍄','🐚','🌾','💐','🌷','🌹','🥀','🌺'],'food':['🍎','🍐','🍊','🍋','🍌','🍉','🍇','🍓','🫐','🍈','🍒','🍑','🥭','🍍','🥥','🥝','🍅','🍆','🥑','🥦','🥬','🥒',_0x384df4(0x1db),'🫑','🌽','🥕','🫒','🧄','🧅','🥔','🍠','🥐','🥖','🍞','🥨','🥯','🧀','🥚','🍳','🧈','🥞','🧇','🥓','🥩','🍗','🍖','🦴','🌭'],'activities':['⚽','🏀','🏈','⚾','🥎','🎾','🏐','🏉','🥏','🎱','🪀','🏓','🏸','🏒','🏑','🥍','🏏','🪃','🥅','⛳','🪁','🏹','🎣','🤿','🥊','🥋','🎽','🛹','🛷','⛸️','🥌','🎿','⛷️','🏂','🪂',_0x442889(0x1e9),_0x384df4(0x28f),_0x442889(0x162),_0x442889(0xdb),'🤼',_0x442889(0x14c),'🤸‍♀️','🤸',_0x442889(0x170),_0x384df4(0x213),'⛹️',_0x442889(0x1ae),'🤺'],'travel':['🚗','🚕','🚙','🚌','🚎',_0x384df4(0x161),'🚓','🚑','🚒','🚐','🛻','🚚','🚛','🚜',_0x442889(0x14f),'🛵','🚲','🛴','🛹','🛼','🚁','🛸','✈️',_0x442889(0x102),'🪂','⛵','🚤',_0x442889(0xbe),_0x442889(0x1c4),'⛴️','🚢','⚓','⛽','🚧','🚦','🚥','🚏',_0x442889(0x1ad),'🗿','🗽','🗼','🏰','🏯',_0x442889(0xca),'🎡','🎢','🎠','⛲'],'objects':['⌚','📱','📲','💻','⌨️',_0x442889(0x13a),_0x442889(0xf8),'🖱️',_0x384df4(0x168),_0x384df4(0x267),_0x442889(0x128),'💽','💾','💿','📀','📼','📷','📸','📹','🎥',_0x442889(0x16a),_0x442889(0x1b8),'📞','☎️','📟','📠','📺','📻',_0x384df4(0x21d),_0x442889(0xc5),_0x442889(0x124),'🧭','⏱️','⏲️','⏰',_0x442889(0x160),'⌛','⏳','📡','🔋','🔌','💡','🔦','🕯️','🪔','🧯',_0x384df4(0x1cc),'💸'],'symbols':['❤️','🧡','💛','💚','💙','💜','🖤','🤍','🤎','💔','❣️','💕','💞','💓','💗','💖','💘','💝','💟','☮️','✝️','☪️',_0x442889(0x8a),'☸️','✡️','🔯','🕎','☯️','☦️','🛐','⛎','♈','♉','♊','♋','♌','♍','♎','♏','♐','♑','♒','♓','🆔','⚛️','🉑','☢️','☣️','📴','📳']};document[_0x442889(0xf5)](_0x384df4(0x17c),function(){initializeForum(),initEmojiPicker(),setupEventListeners();});function initEmojiPicker(){const _0x44a75d=_0x384df4,_0x2a1201=_0x442889,_0x1b6a2d=document[_0x2a1201(0xd4)](_0x2a1201(0x186)),_0x221cfe=document[_0x2a1201(0xd4)]('emojiPicker'),_0x852ee9=document[_0x2a1201(0x98)](_0x2a1201(0x14a)),_0x10ecf6=document[_0x44a75d(0x17a)](_0x2a1201(0x109));if(!_0x1b6a2d||!_0x221cfe){console['error'](_0x2a1201(0x117));return;}_0x1b6a2d[_0x2a1201(0xf5)](_0x2a1201(0x166),function(_0x38f98a){const _0x254b4c=_0x44a75d,_0x473e45=_0x2a1201;_0x38f98a[_0x254b4c(0x233)](),_0x38f98a[_0x473e45(0x1df)](),toggleEmojiPicker();}),_0x852ee9[_0x2a1201(0x1a9)](_0x328189=>{const _0x1e395b=_0x2a1201;_0x328189[_0x1e395b(0xf5)](_0x1e395b(0x166),function(_0x2bf0c5){const _0x58b342=_0x1e395b;_0x2bf0c5[_0x58b342(0x1a4)]();const _0x1a518c=this[_0x58b342(0x1d5)](_0x58b342(0x94));currentEmojiCategory=_0x1a518c,_0x852ee9[_0x58b342(0x1a9)](_0x4244c7=>_0x4244c7['classList'][_0x58b342(0x136)](_0x58b342(0x1de))),this[_0x58b342(0x107)]['add']('active'),loadEmojiCategory(_0x1a518c);});}),_0x10ecf6&&_0x10ecf6[_0x2a1201(0xf5)](_0x44a75d(0x223),function(){const _0x7147bf=_0x2a1201,_0x562465=this[_0x7147bf(0x1da)][_0x7147bf(0x133)]();_0x562465[_0x7147bf(0xa6)]>0x0?searchEmojis(_0x562465):loadEmojiCategory(currentEmojiCategory);}),document[_0x2a1201(0xf5)](_0x44a75d(0x28e),function(_0x2c5a14){const _0x2552ff=_0x2a1201;!_0x221cfe[_0x2552ff(0x13e)](_0x2c5a14[_0x2552ff(0x163)])&&_0x2c5a14[_0x2552ff(0x163)]!==_0x1b6a2d&&hideEmojiPicker();}),loadEmojiCategory(_0x2a1201(0x1f6));}function searchEmojis(_0x53807b){const _0x3d092e=_0x384df4,_0x42df18=_0x442889,_0x124fd0=document[_0x42df18(0xd4)](_0x3d092e(0x173));if(!_0x124fd0)return;let _0x3c3c99=[];for(const _0x398a4d in emojiCategories){emojiCategories[_0x398a4d][_0x42df18(0x1a9)](_0x5b8d5b=>{const _0x42e8cc=_0x42df18;_0x5b8d5b[_0x42e8cc(0x16f)](_0x53807b)&&_0x3c3c99[_0x42e8cc(0x1e1)](_0x5b8d5b);});}_0x124fd0[_0x42df18(0xdf)]=_0x3c3c99[_0x42df18(0x108)](_0x6d55ea=>_0x42df18(0x148)+_0x6d55ea+_0x3d092e(0x1d6)+_0x6d55ea+_0x42df18(0x18a))[_0x42df18(0x1ef)]('');}function toggleEmojiPicker(){const _0x1d8669=_0x442889,_0x52c7bf=document[_0x1d8669(0xd4)](_0x1d8669(0xf1));if(!_0x52c7bf)return;emojiPickerVisible?hideEmojiPicker():showEmojiPicker();}function showEmojiPicker(){const _0x303356=_0x384df4,_0x47471d=_0x442889,_0x263cd0=document[_0x303356(0x17a)](_0x47471d(0xf1));_0x263cd0&&(_0x263cd0[_0x47471d(0x1ba)]['display']=_0x303356(0x219),emojiPickerVisible=!![]);}function _0x1c7f(_0x41f127,_0x732c3b){const _0x14bcad=_0x14bc();return _0x1c7f=function(_0x1c7f96,_0x8bc036){_0x1c7f96=_0x1c7f96-0x13a;let _0xb6b7bf=_0x14bcad[_0x1c7f96];return _0xb6b7bf;},_0x1c7f(_0x41f127,_0x732c3b);}function hideEmojiPicker(){const _0x277b49=_0x442889,_0x406f78=document[_0x277b49(0xd4)](_0x277b49(0xf1));_0x406f78&&(_0x406f78[_0x277b49(0x1ba)][_0x277b49(0xec)]=_0x277b49(0x18e),emojiPickerVisible=![]);}function loadEmojiCategory(_0x14fb08){const _0x5f277b=_0x384df4,_0x4ef3e7=_0x442889,_0x573555=document[_0x4ef3e7(0xd4)](_0x5f277b(0x173));if(!_0x573555)return;const _0x317fb7=emojiCategories[_0x14fb08]||[];_0x573555[_0x4ef3e7(0xdf)]=_0x317fb7[_0x4ef3e7(0x108)](_0x4193f7=>_0x4ef3e7(0x148)+_0x4193f7+_0x4ef3e7(0x145)+_0x4193f7+_0x4ef3e7(0x18a))[_0x4ef3e7(0x1ef)]('');}function insertEmojiToInput(_0x118e45){const _0x4ccd63=_0x384df4,_0x485e86=_0x442889,_0xb1912a=document[_0x485e86(0xd4)](_0x485e86(0xd7));if(!_0xb1912a)return;const _0x259fb9=_0xb1912a[_0x485e86(0x180)],_0x6bbce1=_0xb1912a[_0x485e86(0xb1)];_0xb1912a[_0x485e86(0x1da)]=_0xb1912a[_0x485e86(0x1da)][_0x485e86(0x92)](0x0,_0x259fb9)+_0x118e45+_0xb1912a[_0x4ccd63(0x25e)][_0x4ccd63(0x143)](_0x6bbce1),_0xb1912a[_0x485e86(0x1d7)](),_0xb1912a[_0x485e86(0x1e2)](_0x259fb9+_0x118e45[_0x485e86(0xa6)],_0x259fb9+_0x118e45[_0x485e86(0xa6)]),hideEmojiPicker();}document[_0x442889(0xd4)](_0x442889(0xf1)),document[_0x442889(0xd4)](_0x384df4(0x17e))[_0x442889(0x1ba)][_0x442889(0xec)]=_0x442889(0x1a8);const WEB_APP_URL=_0x442889(0x9c);var dato_ms=[],dato_pp=[],mensajesLista='';cargarDatosGenerales();const userData1={'username':_0x384df4(0x1c3),'role':_0x442889(0x1f0),'fullName':_0x442889(0xcb),'permissions':[_0x442889(0x15a),_0x442889(0x1ed),_0x384df4(0x22e),_0x442889(0xad)]};let currentUser=null,messages=[],onlineUsers=[];document[_0x442889(0xf5)](_0x442889(0x103),function(){initializeForum(),setupEventListeners(),updateOnlineUsers();});function initializeForum(){const _0x43b81d=_0x384df4,_0x4bf42e=_0x442889;currentUser=JSON[_0x4bf42e(0x15f)](localStorage[_0x4bf42e(0x19c)](_0x4bf42e(0xfe)));if(!currentUser){alert(_0x4bf42e(0x1db)),window[_0x4bf42e(0x90)][_0x43b81d(0x224)]=_0x4bf42e(0x17f);return;}updateUserActivity(),agregarEstilosValidacion(),initEmojiPicker();}function setupEventListeners(){const _0x27f2ba=_0x384df4,_0x32299c=_0x442889,_0x3e6e70=document[_0x32299c(0xd4)](_0x32299c(0xd7)),_0x2c2524=document[_0x32299c(0xd4)](_0x32299c(0xf9));_0x3e6e70[_0x32299c(0xf5)](_0x32299c(0xd0),function(_0x23fd24){const _0x5a8eb1=_0x1c7f,_0x2ab69d=_0x32299c;_0x23fd24[_0x2ab69d(0xd3)]===_0x5a8eb1(0x26f)&&!_0x23fd24[_0x2ab69d(0x1b4)]&&(_0x23fd24[_0x2ab69d(0x1a4)](),sendMessage());}),_0x3e6e70[_0x32299c(0xf5)](_0x32299c(0x1eb),function(){const _0x49449c=_0x1c7f,_0x408871=_0x32299c;this[_0x49449c(0x244)][_0x408871(0xde)]=_0x408871(0xef),this[_0x408871(0x1ba)][_0x408871(0xde)]=this[_0x408871(0x137)]+'px';}),_0x2c2524[_0x32299c(0xf5)](_0x27f2ba(0x28e),sendMessage),setInterval(updateOnlineUsers,0x2710);}function sendMessage(){const _0xcd007f=_0x442889,_0x2360e6=document[_0xcd007f(0xd4)](_0xcd007f(0xd7)),_0x3c55e7=_0x2360e6[_0xcd007f(0x1da)][_0xcd007f(0x140)]();if(!_0x3c55e7){mostrarError(_0xcd007f(0x1b3));return;}const _0x376e3f=validarContenido(_0x3c55e7);if(!_0x376e3f[_0xcd007f(0xda)]){mostrarError(_0x376e3f[_0xcd007f(0x155)]);const _0x22f8e9=limpiarTexto(_0x3c55e7);if(_0x22f8e9&&_0x22f8e9!==_0x3c55e7&&_0x22f8e9[_0xcd007f(0xa6)]>0x2){if(confirm(_0xcd007f(0x16d)+_0x22f8e9+'\x22')){_0x2360e6[_0xcd007f(0x1da)]=_0x22f8e9;const _0x320bbe=validarContenido(_0x22f8e9);_0x320bbe[_0xcd007f(0xda)]&&enviarMensajeFinal(_0x22f8e9);}}return;}enviarMensajeFinal(_0x3c55e7);}function enviarMensajeFinal(_0x515d86){const _0x7b9a73=_0x384df4,_0x2bed63=_0x442889,_0x57359a=document[_0x7b9a73(0x17a)](_0x7b9a73(0x20a)),_0x3741ce={'id':Date[_0x2bed63(0x18c)](),'author':currentUser[_0x2bed63(0x1bb)],'role':currentUser[_0x7b9a73(0x227)],'content':_0x515d86,'timestamp':new Date()[_0x2bed63(0x123)](),'userId':currentUser[_0x2bed63(0x1c9)]||currentUser[_0x2bed63(0x182)]},_0x4b01f1=[_0x3741ce['id'],_0x3741ce[_0x2bed63(0x1ca)],_0x3741ce[_0x2bed63(0x1bc)],_0x3741ce[_0x7b9a73(0x1f3)],_0x3741ce[_0x2bed63(0x154)],_0x3741ce[_0x2bed63(0x15c)]];enviarDatos(_0x2bed63(0x10a),0x0,_0x4b01f1,0x1),messages[_0x2bed63(0x1e1)](_0x3741ce),saveMessages(),_0x57359a[_0x2bed63(0x1da)]='',_0x57359a[_0x2bed63(0x1ba)][_0x2bed63(0xde)]=_0x7b9a73(0x16d),renderMessages(),scrollToBottom(),mostrarExito(_0x2bed63(0x1f4));}function setupEventListeners(){const _0x141a65=_0x384df4,_0x2ffcdf=_0x442889,_0x2656f3=document[_0x2ffcdf(0xd4)](_0x141a65(0x20a)),_0x545078=document[_0x2ffcdf(0xd4)](_0x2ffcdf(0xf9));_0x2656f3[_0x2ffcdf(0xf5)]('keypress',function(_0x3c5035){const _0x2a19db=_0x2ffcdf;_0x3c5035[_0x2a19db(0xd3)]===_0x2a19db(0x177)&&!_0x3c5035[_0x2a19db(0x1b4)]&&(_0x3c5035[_0x2a19db(0x1a4)](),sendMessage());}),_0x2656f3[_0x2ffcdf(0xf5)](_0x2ffcdf(0x1eb),function(){const _0x139afc=_0x141a65,_0x44d2d0=_0x2ffcdf;this[_0x139afc(0x244)][_0x44d2d0(0xde)]='auto',this['style'][_0x44d2d0(0xde)]=this['scrollHeight']+'px';const _0x50486a=this[_0x44d2d0(0x1da)][_0x44d2d0(0x140)](),_0xe66db3=validarContenido(_0x50486a);_0xe66db3[_0x139afc(0x198)]||_0x50486a[_0x44d2d0(0xa6)]===0x0?(_0x545078[_0x44d2d0(0x1ba)][_0x139afc(0x196)]=_0x44d2d0(0xea),_0x545078[_0x139afc(0x244)][_0x44d2d0(0x1c7)]=_0x44d2d0(0xc1),_0x545078[_0x44d2d0(0x1a1)]=![],_0x545078[_0x44d2d0(0xfd)]=_0x44d2d0(0xf7)):(_0x545078[_0x44d2d0(0x1ba)][_0x44d2d0(0x178)]=_0x44d2d0(0x1aa),_0x545078[_0x44d2d0(0x1ba)][_0x44d2d0(0x1c7)]=_0x44d2d0(0x167),_0x545078[_0x44d2d0(0x1a1)]=!![],_0x545078[_0x44d2d0(0xfd)]=_0xe66db3[_0x44d2d0(0x155)]);}),_0x545078['addEventListener'](_0x2ffcdf(0x166),sendMessage),setInterval(updateOnlineUsers,0x2710);}function agregarEstilosValidacion(){const _0x32788d=_0x384df4,_0xc3af26=_0x442889,_0x2fd3ab=document[_0xc3af26(0x1a3)](_0xc3af26(0x1ba));_0x2fd3ab['textContent']=_0xc3af26(0x13c),document[_0x32788d(0x275)][_0xc3af26(0x11c)](_0x2fd3ab);}function initializeForum(){const _0x2733e9=_0x442889;currentUser=JSON[_0x2733e9(0x15f)](localStorage[_0x2733e9(0x19c)](_0x2733e9(0xfe)));if(!currentUser){alert('Debes\x20iniciar\x20sesión\x20para\x20acceder\x20al\x20foro'),window[_0x2733e9(0x90)][_0x2733e9(0x10d)]=_0x2733e9(0x17f);return;}agregarEstilosValidacion(),updateUserActivity();}function agregarContadorCaracteres(){const _0x1a4753=_0x384df4,_0x1cfcaa=_0x442889,_0x4b5b0f=document[_0x1cfcaa(0xd4)](_0x1a4753(0x20a));if(!_0x4b5b0f)return;const _0x1ea24a=document[_0x1cfcaa(0x1a3)](_0x1a4753(0x295));_0x1ea24a[_0x1a4753(0x23c)]=_0x1cfcaa(0xed),_0x1ea24a['id']=_0x1a4753(0x280),_0x4b5b0f[_0x1cfcaa(0x151)][_0x1cfcaa(0x11c)](_0x1ea24a),_0x4b5b0f[_0x1cfcaa(0xf5)](_0x1cfcaa(0x1eb),function(){const _0xf43cf=_0x1a4753,_0x5b9305=_0x1cfcaa,_0x3b5bc7=this[_0x5b9305(0x1da)][_0xf43cf(0x14b)];_0x1ea24a[_0x5b9305(0x1ee)]=_0x3b5bc7+_0x5b9305(0xaf),_0x3b5bc7>0x1c2?_0x1ea24a[_0x5b9305(0x107)][_0x5b9305(0x14b)](_0xf43cf(0x1f0)):_0x1ea24a[_0x5b9305(0x107)][_0x5b9305(0x136)](_0x5b9305(0x196));});}function loadMessages(){const _0x50d828=_0x384df4,_0xa0cdb2=mensajesLista;_0xa0cdb2&&(messages=JSON[_0x50d828(0x288)](_0xa0cdb2),renderMessages());}function saveMessages(){}function renderMessages(){const _0x8c6942=_0x384df4,_0x6d9c37=_0x442889,_0x3b18c4=document[_0x6d9c37(0xd4)](_0x6d9c37(0x199)),_0x636d2c=_0x3b18c4[_0x6d9c37(0xc6)](_0x6d9c37(0x1ab)),_0x4424be=_0x3b18c4[_0x8c6942(0x25d)](_0x6d9c37(0x153));_0x4424be[_0x6d9c37(0x1a9)](_0x1e0c8c=>_0x1e0c8c[_0x8c6942(0x180)]());const _0x101206=messages[_0x6d9c37(0x1c0)](-0x32);_0x101206[_0x8c6942(0x2ae)](_0xa5adad=>{const _0x491eb0=_0x6d9c37,_0x18a5a4=createMessageElement(_0xa5adad);_0x3b18c4[_0x491eb0(0x11c)](_0x18a5a4);}),scrollToBottom();}function createMessageElement(_0x11c013){const _0x221fd1=_0x384df4,_0x3bcd20=_0x442889,_0x8de095=document['createElement'](_0x3bcd20(0x130)),_0x4de53e=_0x11c013[_0x221fd1(0x268)]===(currentUser[_0x3bcd20(0x1c9)]||currentUser[_0x3bcd20(0x182)]);_0x8de095[_0x3bcd20(0x1b1)]=_0x3bcd20(0xfc)+(_0x4de53e?_0x3bcd20(0xb0):_0x221fd1(0x200));const _0x1e14fd=new Date(_0x11c013[_0x3bcd20(0x154)])[_0x3bcd20(0xd1)](_0x3bcd20(0x104),{'day':'2-digit','month':_0x221fd1(0x1d2),'hour':_0x3bcd20(0xf2),'minute':_0x221fd1(0x1d2)});return _0x8de095['innerHTML']=_0x3bcd20(0xf6)+_0x11c013[_0x3bcd20(0x1ca)]+_0x221fd1(0x22b)+_0x11c013[_0x221fd1(0x227)][_0x3bcd20(0x133)]()+'\x22>'+getRoleDisplayName(_0x11c013[_0x221fd1(0x227)])+_0x221fd1(0x1b3)+_0x1e14fd+_0x3bcd20(0x1b7)+escapeHtml(_0x11c013[_0x221fd1(0x1f3)])+_0x3bcd20(0xa4),_0x8de095;}function updateUserActivity(){const _0x202f0d=_0x384df4,_0x27e598=_0x442889,_0x767fb1={'userId':currentUser[_0x27e598(0x1c9)]||currentUser[_0x27e598(0x182)],'name':currentUser[_0x27e598(0x1bb)],'role':currentUser[_0x27e598(0x1bc)],'lastActivity':new Date()[_0x27e598(0x123)]()};let _0x490baa=JSON[_0x27e598(0x15f)](localStorage[_0x27e598(0x19c)](_0x27e598(0x99))||'[]');_0x490baa=_0x490baa[_0x27e598(0x11a)](_0x2ef064=>_0x2ef064[_0x27e598(0x15c)]!==_0x767fb1[_0x202f0d(0x268)]),_0x490baa[_0x27e598(0x1e1)](_0x767fb1),localStorage['setItem'](_0x27e598(0x99),JSON['stringify'](_0x490baa));}function updateOnlineUsers(){const _0x54da00=_0x442889;updateUserActivity();const _0x2bfb64=JSON[_0x54da00(0x15f)](localStorage[_0x54da00(0x19c)](_0x54da00(0x99))||'[]'),_0x435937=new Date(Date[_0x54da00(0x18c)]()-0x5*0x3c*0x3e8);onlineUsers=_0x2bfb64[_0x54da00(0x11a)](_0x223924=>new Date(_0x223924[_0x54da00(0x1e3)])>_0x435937),renderOnlineUsers();}function renderOnlineUsers(){const _0x552af3=_0x384df4,_0x38519e=_0x442889,_0x274a47=document[_0x38519e(0xd4)](_0x38519e(0x12e));if(onlineUsers[_0x38519e(0xa6)]===0x0){_0x274a47['innerHTML']=_0x552af3(0x1c2);return;}_0x274a47[_0x552af3(0x257)]=onlineUsers[_0x38519e(0x108)](_0x3c35fc=>_0x38519e(0xd9)+_0x3c35fc[_0x552af3(0x1e8)]+_0x38519e(0x179)+_0x3c35fc[_0x38519e(0x1bc)][_0x38519e(0x133)]()+'\x22>'+getRoleDisplayName(_0x3c35fc[_0x38519e(0x1bc)])+_0x38519e(0xcc))[_0x38519e(0x1ef)]('');}function getRoleDisplayName(_0x463809){const _0x518505=_0x384df4,_0x1c989f=_0x442889,_0xc02ed6={'director':_0x1c989f(0x187),'admin':_0x518505(0x1cd),'combustible':'Combustible','user':_0x1c989f(0x15d)};return _0xc02ed6[_0x463809[_0x1c989f(0x133)]()]||_0x463809;}function escapeHtml(_0x95d957){const _0x68a07b=_0x384df4,_0x57dac4=_0x442889,_0x1bcb65=document[_0x57dac4(0x1a3)](_0x57dac4(0x130));return _0x1bcb65[_0x68a07b(0x158)]=_0x95d957,_0x1bcb65[_0x57dac4(0xdf)];}function scrollToBottom(){const _0x31e58c=_0x384df4,_0x240dab=_0x442889,_0x250072=document[_0x240dab(0xd4)](_0x240dab(0x199));_0x250072[_0x31e58c(0x216)]=_0x250072[_0x240dab(0x137)];}function cleanupOldData(){const _0x55241e=_0x384df4,_0x3dd971=_0x442889,_0x17bcef=new Date(Date[_0x3dd971(0x18c)]()-0x7*0x18*0x3c*0x3c*0x3e8);messages=messages[_0x3dd971(0x11a)](_0x33dc46=>new Date(_0x33dc46[_0x3dd971(0x154)])>_0x17bcef),saveMessages();const _0x1833d5=JSON[_0x55241e(0x288)](localStorage[_0x3dd971(0x19c)](_0x3dd971(0x99))||'[]'),_0x57d7a9=new Date(Date[_0x3dd971(0x18c)]()-0x3c*0x3c*0x3e8),_0x3d2c48=_0x1833d5[_0x3dd971(0x11a)](_0x20c1fc=>new Date(_0x20c1fc[_0x3dd971(0x1e3)])>_0x57d7a9);localStorage[_0x3dd971(0xc2)](_0x3dd971(0x99),JSON[_0x3dd971(0x17d)](_0x3d2c48));}setInterval(cleanupOldData,0x3c*0x3c*0x3e8),window[_0x384df4(0x175)](_0x442889(0x1ce),function(){cleanupOldData();});function enviarDatos(_0x1b6d14,_0x2e087f,_0x1bcaf4,_0x3f4443){const _0x3401c3=_0x384df4,_0x43a04e=_0x442889;fetch(WEB_APP_URL,{'method':'POST','mode':_0x3401c3(0x28d),'headers':{'Content-Type':_0x43a04e(0x91)},'body':JSON[_0x43a04e(0x17d)]({'pagina':_0x1b6d14,'fila':_0x2e087f,'datos':_0x1bcaf4,'tipo':_0x3f4443})})[_0x3401c3(0x146)](()=>{const _0x5736dd=_0x43a04e;document[_0x5736dd(0xd4)](_0x5736dd(0x139))[_0x5736dd(0x1ba)][_0x5736dd(0xec)]=_0x5736dd(0x18e),ingresar_compra1(),window[_0x5736dd(0x174)]({'top':0x0,'behavior':_0x5736dd(0x1f5)});})[_0x43a04e(0x11d)](_0x428407=>{})[_0x3401c3(0x221)](()=>{});}function cargarDatosGenerales(){const _0x108f75=_0x384df4,_0xe4f30f=_0x442889;fetch(WEB_APP_URL+_0x108f75(0x25b))[_0xe4f30f(0xe7)](_0x4b95fc=>_0x4b95fc[_0xe4f30f(0x184)]())[_0xe4f30f(0xe7)](_0x5eadbe=>{const _0x2ed54e=_0xe4f30f;dato_ms=_0x5eadbe[_0x2ed54e(0x96)],dato_ua=_0x5eadbe[_0x2ed54e(0x1f1)],dato_ac=_0x5eadbe[_0x2ed54e(0x1d8)];const _0x32185c=dato_ms[_0x2ed54e(0x1c0)](0x1)[_0x2ed54e(0x108)](_0x265681=>({'id':Number(_0x265681[0x0]),'author':_0x265681[0x1],'role':_0x265681[0x2],'content':_0x265681[0x3],'timestamp':_0x265681[0x4],'userId':_0x265681[0x5]}));mensajesLista=JSON[_0x2ed54e(0x17d)](_0x32185c),baul=0x0,cargarMensajes();})[_0x108f75(0x177)](_0x4abf77=>{const _0x1b0b00=_0x108f75,_0x2cee3f=_0xe4f30f;console[_0x2cee3f(0x12c)](_0x1b0b00(0x181),_0x4abf77);});}function cargarMensajes(){loadMessages(),setInterval(function(){const _0x600835=_0x1c7f,_0x44be23=_0x1ef5;fetch(WEB_APP_URL+_0x44be23(0x15b))[_0x44be23(0xe7)](_0x31bae7=>_0x31bae7[_0x44be23(0x184)]())[_0x44be23(0xe7)](_0x2af621=>{const _0x31c27=_0x1c7f,_0x2c7735=_0x44be23;dato_pp=_0x2af621[_0x2c7735(0x96)],baul11=JSON[_0x31c27(0x1af)](dato_pp),baul22=JSON[_0x2c7735(0x17d)](dato_ms);if(baul11!==baul22){dato_ms=_0x2af621[_0x2c7735(0x96)];const _0x140b8e=dato_ms[_0x31c27(0x160)](0x1)[_0x2c7735(0x108)](_0x1537af=>({'id':Number(_0x1537af[0x0]),'author':_0x1537af[0x1],'role':_0x1537af[0x2],'content':_0x1537af[0x3],'timestamp':_0x1537af[0x4],'userId':_0x1537af[0x5]}));mensajesLista=JSON[_0x2c7735(0x17d)](_0x140b8e),loadMessages();}})[_0x600835(0x177)](_0x286255=>{const _0x2dc402=_0x600835,_0x382c02=_0x44be23;console[_0x2dc402(0x20d)](_0x382c02(0xae),_0x286255);});},0x1388);}const palabrasProhibidas=[_0x442889(0x135),_0x384df4(0x17f),_0x442889(0xcd),_0x442889(0xe3),_0x442889(0x19b),_0x384df4(0x18f),_0x384df4(0x14d),_0x442889(0xf0),_0x442889(0x1cc),'estupido',_0x442889(0x1bf),_0x442889(0xc8),_0x384df4(0x23e),_0x442889(0x1e6),_0x442889(0x16b),_0x442889(0x156),_0x384df4(0x1cb),_0x442889(0x169),'pinche','chingada',_0x384df4(0x19a),_0x442889(0x1e0),_0x442889(0x192),_0x384df4(0x1df),_0x384df4(0x1ab),_0x442889(0x1be),_0x442889(0x9f),_0x442889(0x13b),_0x442889(0x9a),'inutil',_0x442889(0xb5),_0x442889(0x16c),_0x442889(0x172),_0x442889(0xba),_0x442889(0x10b),_0x384df4(0x215),_0x384df4(0x2a1),_0x384df4(0x26b),_0x384df4(0x23d),_0x442889(0xd8),_0x442889(0xb6),_0x442889(0x1cb),_0x384df4(0x142),_0x442889(0x100),_0x442889(0xb4),_0x442889(0xd5),_0x384df4(0x1a8),_0x384df4(0x151),'voy\x20a\x20matarte',_0x442889(0x18f),_0x384df4(0x258),_0x442889(0x19e),_0x384df4(0x171),_0x442889(0x1ec),_0x442889(0x113),_0x442889(0x9d),_0x442889(0x12f),_0x384df4(0x14e),_0x442889(0x1b6),_0x442889(0x1ac),_0x442889(0x119),_0x384df4(0x26c),_0x442889(0x171),_0x442889(0xc9),_0x442889(0xdd),_0x442889(0x176),_0x442889(0xe1),_0x442889(0x114),_0x442889(0xab),_0x442889(0x138),_0x442889(0x1a0)],patronesProhibidos=[/(.)\1{4,}/g,/[A-Z]{5,}/g,/(.{1,3})\1{3,}/g,/^\s*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]{3,}\s*$/g];function validarContenido(_0x909457){const _0x2bdb38=_0x442889;if(!_0x909457||typeof _0x909457!==_0x2bdb38(0x88))return{'esValido':![],'razon':_0x2bdb38(0x197)};const _0x169139=_0x909457[_0x2bdb38(0x140)]();if(_0x169139[_0x2bdb38(0xa6)]<0x2)return{'esValido':![],'razon':_0x2bdb38(0x1f3)};if(_0x169139[_0x2bdb38(0xa6)]>0x1f4)return{'esValido':![],'razon':_0x2bdb38(0x12a)};const _0x37530e=_0x169139[_0x2bdb38(0x133)]()[_0x2bdb38(0x110)](_0x2bdb38(0xe4))[_0x2bdb38(0x13d)](/[\u0300-\u036f]/g,'')[_0x2bdb38(0x13d)](/[^a-z0-9\s]/gi,'\x20')[_0x2bdb38(0x13d)](/\s+/g,'\x20');for(const _0xabbdb9 of palabrasProhibidas){if(_0x37530e[_0x2bdb38(0x16f)](_0xabbdb9[_0x2bdb38(0x133)]()))return{'esValido':![],'razon':_0x2bdb38(0x1c8)};}for(const _0x4e35ca of patronesProhibidos){if(_0x4e35ca[_0x2bdb38(0x189)](_0x169139))return{'esValido':![],'razon':_0x2bdb38(0xbd)};}if(_0x37530e[_0x2bdb38(0x140)]()[_0x2bdb38(0xa6)]===0x0)return{'esValido':![],'razon':_0x2bdb38(0x105)};const _0x1f632d=/https?:\/\/[^\s]+/gi,_0x162bed=_0x169139[_0x2bdb38(0x198)](_0x1f632d);if(_0x162bed&&_0x162bed[_0x2bdb38(0xa6)]>0x2)return{'esValido':![],'razon':_0x2bdb38(0xfb)};return{'esValido':!![],'razon':null};}function limpiarTexto(_0x58d6a4){const _0x4f8713=_0x442889;if(!_0x58d6a4)return'';return _0x58d6a4[_0x4f8713(0x13d)](/(.)\1{3,}/g,_0x4f8713(0x19f))[_0x4f8713(0x13d)](/[A-Z]{4,}/g,_0x12eb06=>_0x12eb06[_0x4f8713(0x143)](0x0)+_0x12eb06[_0x4f8713(0x1c0)](0x1)[_0x4f8713(0x133)]())[_0x4f8713(0x140)]();}function sendMessageWithValidation(){const _0x36008f=_0x384df4,_0x130e48=_0x442889,_0x123e09=document[_0x36008f(0x17a)](_0x130e48(0xd7)),_0x2a3eb7=_0x123e09[_0x130e48(0x1da)]['trim']();if(!_0x2a3eb7){mostrarError(_0x130e48(0x1b3));return;}const _0x1b2c23=validarContenido(_0x2a3eb7);if(!_0x1b2c23['esValido']){mostrarError(_0x1b2c23[_0x36008f(0x1fc)]);const _0x10a4dc=limpiarTexto(_0x2a3eb7);_0x10a4dc&&_0x10a4dc!==_0x2a3eb7&&(confirm(_0x130e48(0x185)+_0x10a4dc+'\x22')&&(_0x123e09[_0x36008f(0x25e)]=_0x10a4dc));return;}const _0x36b6b9={'id':Date[_0x130e48(0x18c)](),'author':currentUser[_0x130e48(0x1bb)],'role':currentUser[_0x130e48(0x1bc)],'content':_0x2a3eb7,'timestamp':new Date()[_0x130e48(0x123)](),'userId':currentUser[_0x36008f(0x255)]||currentUser[_0x130e48(0x182)]};mensaje=[Date[_0x130e48(0x18c)](),currentUser[_0x130e48(0x1bb)],currentUser[_0x36008f(0x227)],_0x2a3eb7,new Date()[_0x130e48(0x123)](),currentUser[_0x130e48(0x1c9)]||currentUser[_0x130e48(0x182)]],enviarDatos(_0x130e48(0x10a),0x0,mensaje,0x1),messages[_0x36008f(0x22d)](_0x36b6b9),saveMessages(),_0x123e09[_0x130e48(0x1da)]='',_0x123e09[_0x130e48(0x1ba)][_0x130e48(0xde)]=_0x130e48(0xef),renderMessages(),scrollToBottom();}function mostrarError(_0x10b89a){const _0x25c386=_0x384df4,_0x4799e9=_0x442889;let _0x2c3f09=document[_0x4799e9(0xd4)](_0x4799e9(0x1b9));!_0x2c3f09&&(_0x2c3f09=document[_0x25c386(0x274)](_0x4799e9(0x130)),_0x2c3f09['id']=_0x4799e9(0x1b9),_0x2c3f09[_0x4799e9(0x1ba)][_0x4799e9(0xb7)]=_0x4799e9(0x1c1),document[_0x4799e9(0xe5)][_0x4799e9(0x11c)](_0x2c3f09)),_0x2c3f09[_0x25c386(0x158)]=_0x10b89a,_0x2c3f09[_0x4799e9(0x1ba)][_0x4799e9(0xec)]=_0x4799e9(0x1a8),setTimeout(()=>{const _0x2d6a09=_0x25c386,_0x5acec0=_0x4799e9;_0x2c3f09[_0x5acec0(0x1ba)][_0x5acec0(0xec)]=_0x2d6a09(0x217);},0xfa0);}function mostrarExito(_0x3ea541){const _0x52084c=_0x384df4,_0x505801=_0x442889;let _0x3d8571=document['getElementById'](_0x52084c(0x28a));!_0x3d8571&&(_0x3d8571=document[_0x505801(0x1a3)](_0x505801(0x130)),_0x3d8571['id']=_0x505801(0x1d2),_0x3d8571[_0x52084c(0x244)][_0x52084c(0x231)]=_0x505801(0xc3),document[_0x505801(0xe5)][_0x52084c(0x14c)](_0x3d8571)),_0x3d8571[_0x52084c(0x158)]=_0x3ea541,_0x3d8571['style'][_0x505801(0xec)]=_0x505801(0x1a8),setTimeout(()=>{const _0x58a555=_0x52084c,_0x4da14c=_0x505801;_0x3d8571[_0x4da14c(0x1ba)][_0x4da14c(0xec)]=_0x58a555(0x217);},0x7d0);}function validarTextoEnTiempoReal(){const _0x5de47e=_0x384df4,_0x3c795a=_0x442889,_0x375896=document[_0x3c795a(0xd4)](_0x3c795a(0xd7)),_0x387102=document[_0x3c795a(0xd4)](_0x3c795a(0xf9));if(!_0x375896||!_0x387102)return;_0x375896[_0x5de47e(0x175)](_0x3c795a(0x1eb),function(){const _0x2a17ec=_0x5de47e,_0x1bbfe7=_0x3c795a,_0x2c5176=this[_0x1bbfe7(0x1da)][_0x2a17ec(0x1d1)](),_0x5358e8=validarContenido(_0x2c5176);_0x5358e8[_0x2a17ec(0x198)]?(_0x387102[_0x1bbfe7(0x1ba)][_0x1bbfe7(0x178)]=_0x1bbfe7(0xea),_0x387102[_0x1bbfe7(0x1ba)][_0x1bbfe7(0x1c7)]=_0x1bbfe7(0xc1),_0x387102[_0x1bbfe7(0x1a1)]=![]):(_0x387102[_0x1bbfe7(0x1ba)][_0x1bbfe7(0x178)]=_0x1bbfe7(0x1aa),_0x387102['style'][_0x1bbfe7(0x1c7)]=_0x1bbfe7(0x167),_0x387102[_0x1bbfe7(0x1a1)]=_0x2c5176[_0x1bbfe7(0xa6)]>0x0);});}  
</script>
</body>
</html>
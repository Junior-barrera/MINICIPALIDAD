<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Municipalidad de Arica | mejor ciudad</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <script src="auth.js"></script>
    <!-- Loader de carga inicial -->
<div class="loader">
    <div class="loader-animation">
        <div class="loader-circle"></div>
        <img src="images.png" alt="Logo" class="loader-logo">
    </div>
</div>

    <!-- Header with logo and search -->
    <header>
        <!-- Transparency links as collapsible menu -->
        <div class="transparency-container">
        </div>
</div>
</header>
 
                <div class="top-header">
                    <div class="logo">
                        <img src="logo_MUNI.png" alt="Logo Municipalidad de Arica">
                        <div class="logo-text">
                            <h1>ARICA</h1>
                            <span>MUNICIPALIDAD | mejor ciudad</span>
                        </div>
                    </div>
                </div>
    
    
    <!-- Main navigation -->
    <nav>
        <ul class="main-menu">
            <li><a href="index.html">INICIO</a></li>
            <li><a href="dashboard-gps.html">GPS DIMAO</a></li>
            <li><a href="dashboard-presupuesto.html">PRESUPUESTO ANUAL</a></li>
            <li><a href="dashboard-abastecimiento.html">ABASTECIMIENTO</a></li>
            <li><a href="dashboard-bodega.html">BODEGA</a></li>
        </ul>
    </nav>
    
    <!-- Hero section -->
    <section class="hero">
        <img src="fondo.jpg" alt="JUNIOR BARRERA" class="hero-image">
        <div class="hero-content">
            <h2>DIMAO</h2>
            <p>"Mejoremos Juntos"</p>
        </div>
    </section>
    
    <!-- Regular modules -->
   <!-- Secci√≥n de formularios modernizada -->
<section class="modules">
    <h2 class="fade-in">Sistema Integral de Gesti√≥n DIMAO</h2>
    <div class="module-grid">
        <div class="module fade-in">
            <div class="module-icon">üìÑ</div>
            
            <h3>Sistema de Gesti√≥n de Presupuesto Anual de Compra</h3>
            <p>Este formulario permite planificar, registrar y gestionar el Presupuesto Anual de Compra (PAC) de materiales y servicios necesarios para el funcionamiento de DIMAO. Facilita la proyecci√≥n de necesidades, el control del gasto y la programaci√≥n de adquisiciones, asegurando una correcta administraci√≥n de los recursos financieros durante el a√±o.</p>
            <button class="module-button" onclick="redirectToDashboard('formulario')">
                Acceder <span class="ml-2">‚Üí</span>
                
            </button>
        </div>
        
        <div class="module fade-in">
            <div class="module-icon">üöó</div>
            <h3>Sistema de Gesti√≥n de Mantenimiento de Veh√≠culos y Maquinaria </h3>
            <p>Este formulario est√° dise√±ado para registrar solicitudes de mantenimiento preventivo y correctivo de veh√≠culos y maquinaria pertenecientes a la instituci√≥n. Por favor, aseg√∫rese de llenar todos los campos requeridos con informaci√≥n clara y precisa para facilitar una atenci√≥n eficiente y oportuna por parte de la Oficina de Mantenimiento.</p>
            <button class="module-button" onclick="redirectToDashboard('formulario2')">
                Acceder <span class="ml-2">‚Üí</span>
            </button>
        </div>
        
        <div class="module fade-in">
            <div class="module-icon">üí°</div>
            <h3>Sistema de Control y Mantenimiento de Iluminaci√≥n P√∫blica</h3>
            <p>Este formulario est√° destinado a registrar, actualizar y gestionar informaci√≥n relacionada con las solicitudes, reportes, y gestiones internas de la Oficina de Iluminaci√≥n P√∫blica. Permite sistematizar datos sobre mantenimiento, instalaci√≥n, stock de materiales, y atenci√≥n de requerimientos ciudadanos, contribuyendo a una administraci√≥n m√°s eficiente y organizada de los recursos de iluminaci√≥n urbana.</p>
            <button class="module-button" onclick="redirectToDashboard('formulario3')">
                Acceder <span class="ml-2">‚Üí</span>
            </button>
        </div>
        <div class="module fade-in">
            <div class="module-icon">üìÑ</div>
            
            <h3>Sistema de Reclamos</h3>
            <p>Plataforma para reportar y dar seguimiento a problemas relacionados con iluminaci√≥n p√∫blica, √°reas verdes y espacios p√∫blicos en tu comunidad.</p>
            <button class="module-button" onclick="redirectToDashboard('formulario4')">
                Acceder <span class="ml-2">‚Üí</span> 
            </button>
        </div>

    </div>
</section>
<section class="dashboard-modules">
    <h2 class="animated-title">Visualizaci√≥n de M√≥dulos</h2>
    <p class="animated-subtitle">Accede a nuestros paneles de datos para conocer el funcionamiento de DIMAO</p>

    <!-- Contenedor principal -->
    <div style="background: #f9f9f9; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); text-align: center; margin-top: 40px;">

        <!-- T√≠tulo Asesor√≠a T√©cnica -->
        <h2>Asesor√≠a T√©cnica</h2>
        <div style="height: 5px; width: 100%; background: linear-gradient(270deg, #ff0000, #ff7300, #fffb00, #00ff00, #00aaff, #a200ff, #ff00ff); background-size: 600% 600%; animation: moveGradient 10s ease infinite; margin-bottom: 40px;"></div>

        <div class="dashboard-grid">
            <!-- GPS DIMAO -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('GPS.jpg')">
                    <div class="image-overlay">
                        <span class="card-badge">GPS</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">GPS DIMAO</h3>
                    <p>Este m√≥dulo permite el seguimiento en tiempo real de los veh√≠culos recolectores, analizando rutas, tiempos de operaci√≥n y eficiencia del servicio para optimizar la gesti√≥n.</p>
                    <a href="dashboard-gps.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">‚Üí</i>
                    </a>
                </div>
            </div>

            <!-- Cuentas de Presupuesto Anual -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('presupuesto.webp')">
                    <div class="image-overlay">
                        <span class="card-badge">PAC & F1</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Cuentas de Presupuesto Anual</h3>
                    <p>Este m√≥dulo permite el seguimiento y control del presupuesto anual, analizando ingresos, egresos y su distribuci√≥n para una planificaci√≥n eficiente de los recursos.</p>
                    <a href="dashboard-presupuesto.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">‚Üí</i>
                    </a>
                </div>
            </div>

            <!-- Abastecimiento de Combustible -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('abastecimiento.jpg')">
                    <div class="image-overlay">
                        <span class="card-badge">Combustible</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Abastecimiento de Combustible</h3>
                    <p>Este m√≥dulo proporciona informaci√≥n clave sobre el abastecimiento de combustible, incluyendo consumo, tr√°mites realizados y tiempos de respuesta. Permite analizar tendencias y optimizar la gesti√≥n del suministro.</p>
                    <a href="dashboard-abastecimiento.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">‚Üí</i>
                    </a>
                </div>
            </div>
        </div>

        <!-- T√≠tulo Oficina de Mantenimiento de Veh√≠culos y Maquinaria -->
        <h2 style="margin-top: 60px;">Oficina de Mantenimiento de Veh√≠culos y Maquinaria</h2>
        <div style="height: 5px; width: 100%; background: linear-gradient(270deg, #ff7300, #fffb00, #00ff00, #00aaff, #a200ff); background-size: 600% 600%; animation: moveGradient 10s ease infinite; margin-bottom: 40px;"></div>

        <div class="dashboard-grid">
            <!-- Stock de Bodega Mec√°nica -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('bodega.avif')">
                    <div class="image-overlay">
                        <span class="card-badge">Stock de Bodega Mec√°nica</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Stock de Bodega Mec√°nica</h3>
                    <p>Este m√≥dulo permite el control de inventario en la bodega mec√°nica, facilitando la gesti√≥n de repuestos, insumos y herramientas para un mantenimiento eficiente.</p>
                    <a href="dashboard-bodega.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">‚Üí</i>
                    </a>
                </div>
            </div>

            <!-- Veh√≠culos y Maquinaria -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('vehiculo y maquinaria .jpeg')">
                    <div class="image-overlay">
                        <span class="card-badge">Veh√≠culos y Maquinaria</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Veh√≠culos y Maquinaria</h3>
                    <p>Este m√≥dulo proporciona informaci√≥n clave sobre el abastecimiento de combustible, incluyendo consumo, tr√°mites realizados y tiempos de respuesta. Permite analizar tendencias y optimizar la gesti√≥n del suministro.</p>
                    <a href="dashboard-vehiculosymaquinaria.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">‚Üí</i>
                    </a>
                </div>
            </div>
        </div>

        <!-- T√≠tulo Iluminaci√≥n P√∫blica -->
        <h2 style="margin-top: 60px;">Iluminaci√≥n P√∫blica</h2>
        <div style="height: 5px; width: 100%; background: linear-gradient(270deg, #00c3ff, #ffff1c, #ff3c00); background-size: 600% 600%; animation: moveGradient 10s ease infinite; margin-bottom: 40px;"></div>

        <div class="dashboard-grid">
            <!-- Iluminaci√≥n P√∫blica -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('CEMAFORO.jpeg')">
                    <div class="image-overlay">
                        <span class="card-badge">Iluminaci√≥n P√∫blica</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Iluminaci√≥n P√∫blica</h3>
                    <p>Este m√≥dulo proporciona informaci√≥n clave sobre la gesti√≥n de solicitudes de iluminaci√≥n p√∫blica, incluyendo mantenimiento de luminarias, tiempos de atenci√≥n, resoluci√≥n de trabajos y localizaci√≥n geogr√°fica. Permite visualizar las incidencias en un mapa de calor, analizar tendencias de fallas, optimizar la asignaci√≥n de recursos y mejorar la eficiencia en la atenci√≥n ciudadana.</p>
                    <a href="dashboard-iluminacion.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">‚Üí</i>
                    </a>
                </div>
            </div>

            <!-- √ìrdenes de Trabajo de Iluminaci√≥n -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('bombillas-electricas-aisladas_23-2151045845')">
                    <div class="image-overlay">
                        <span class="card-badge">√ìrdenes de Trabajo</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">√ìrdenes de Trabajo de Iluminaci√≥n</h3>
                    <p>Este m√≥dulo proporciona informaci√≥n clave sobre las √≥rdenes de trabajo de iluminaci√≥n p√∫blica, incluyendo mantenimiento de luminarias, tiempos de atenci√≥n, estado de ejecuci√≥n y ubicaci√≥n geogr√°fica de las solicitudes. Permite visualizar las intervenciones mediante mapas de calor, identificar patrones de fallas, optimizar la planificaci√≥n de trabajos y mejorar la eficiencia operativa.</p>
                    <a href="dashboard-ordenes-trabajo-iluminacion.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">‚Üí</i>
                    </a>
                </div>
            </div>

            <!-- Stock Bodega de Iluminaci√≥n -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('iluminacion-en-bodegas.1.2.jpg')">
                    <div class="image-overlay">
                        <span class="card-badge">Stock Bodega Iluminaci√≥n</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Stock Bodega de Iluminaci√≥n</h3>
                    <p>El m√≥dulo "Stock bodega de iluminaci√≥n" permite gestionar y visualizar en tiempo real la cantidad, tipo y estado de los productos de iluminaci√≥n almacenados en la bodega. Incluye el control de entradas, salidas, stock disponible, y alertas de reposici√≥n para asegurar una adecuada disponibilidad de insumos como ampolletas, tubos, reflectores, cables, entre otros art√≠culos relacionados.</p>
                    <a href="dashboard-stock-iluminacion.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">‚Üí</i>
                    </a>
                </div>
            </div>
        </div>

        <!-- T√≠tulo Reclamos -->
        <h2 style="margin-top: 60px;">Reclamos</h2>
        <div style="height: 5px; width: 100%; background: linear-gradient(270deg, #f00000, #f4d03f, #16a085); background-size: 600% 600%; animation: moveGradient 10s ease infinite; margin-bottom: 40px;"></div>

        <div class="dashboard-grid">
            <!-- Reclamos Ciudadanos -->
            <div class="dashboard-card fade-in">
                <div class="dashboard-card-image" style="background-image: url('reclamociudadano.jpeg')">
                    <div class="image-overlay">
                        <span class="card-badge">Reclamos Ciudadanos</span>
                    </div>
                </div>
                <div class="dashboard-card-content">
                    <h3 class="animated-heading">Reclamos Ciudadanos</h3>
                    <p>Este m√≥dulo proporciona informaci√≥n clave sobre la gesti√≥n de solicitudes de iluminaci√≥n p√∫blica, incluyendo mantenimiento de luminarias, tiempos de atenci√≥n, resoluci√≥n de trabajos y localizaci√≥n geogr√°fica. Permite visualizar las incidencias en un mapa de calor, analizar tendencias de fallas, optimizar la asignaci√≥n de recursos y mejorar la eficiencia en la atenci√≥n ciudadana.</p>
                    <a href="dashboard-reclamos.html" class="view-dashboard">
                        <span>Ver Dashboard</span>
                        <i class="dashboard-icon">‚Üí</i>
                    </a>
                </div>
            </div>
        </div>

    </div>
</section>

<footer>
    <div class="footer-container">
        <div class="footer-column">
            <h3>Municipalidad de Arica</h3>
            <p>Renato Rocca , Arica</p>
            <p>Anexo: 6959</p>
            <p>Email: roberto.mamani@municipalidadarica.cl</p>
            <div class="social-icons">
                <a href="#">üìò</a>
                <a href="#">üì±</a>
                <a href="#">üê¶</a>
                <a href="#">üì∏</a>
            </div>
        </div>
        
        <div class="footer-column">
            <h3>Colaboraci√≥n Interdepartamental</h3>
            <p style="line-height: 1.6;">
                Este proyecto surge con el prop√≥sito de fortalecer la colaboraci√≥n entre diversas √°reas municipales, como <strong>iluminaci√≥n p√∫blica</strong>, <strong>Of. Mantenimiento de Veh√≠culos y Maquinaria</strong>, <strong>Aseo y Ornato</strong>, <strong>Asesor√≠a T√©cnica</strong> y m√°s, en un solo sistema integral. 
                Buscando consolidar la informaci√≥n y los procesos en un solo sistema, permitiendo un <strong>mayor control operativo</strong>, <strong>gesti√≥n por √°reas</strong> y una visi√≥n integral para la <strong>mejora continua de los servicios municipales</strong>.
            </p>
        </div>
        <div class="footer-column licitaciones">
            <h3>Licitaciones</h3>
            <ul class="licitaciones-list">
                <li><a href="licitacion_agil.html">Licitaci√≥n √Ågil</a></li>
                <li><a href="licitacion_gran_compra.html">Gran Compra</a></li>
                <li><a href="licitacion_trato_directo.html">Trato Directo</a></li>
                <li><a href="licitacion_publica.html">Licitaci√≥n P√∫blica</a></li>
                <li><a href="licitacion_convenio_marco.html">Convenio Marco</a></li>
            </ul>
        </div>
    </div>

    <div class="footer-bottom">
        <p>¬© 2025 Municipalidad de Arica. Todos los derechos reservados.</p>
        <p>Desarrollado por Junior Barrera</p>
    </div>
</footer>


    <!-- Assistance button -->
    <div class="assistant-button" onclick="openAssistance()">üí¨</div>
    
    
    
    <script>
        // Funci√≥n para redirigir a dashboards o formularios con verificaci√≥n estricta de permisos
function redirectToDashboard(dashboardType) {
    // Primero verificamos si el usuario est√° autenticado
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    
    if (!currentUser) {
        window.location.href = 'login.html';
        return;
    }
    
    // Mapeo exacto de tipos de dashboard a p√°ginas y permisos requeridos
    const dashboardMappings = {
        'presupuesto': {
            page: 'dashboard-gps.html',
            permission: 'dashboard-gps'
        },
        'obras': {
            page: 'dashboard-presupuesto.html',
            permission: 'dashboard-presupuesto'
        },
        'servicios': {
            page: 'dashboard-abastecimiento.html',
            permission: 'dashboard-abastecimiento'
        },
        'seguridad': {
            page: 'dashboard-seguridad.html',
            permission: 'dashboard-seguridad'
        },
        'formulario': {
            page: 'formulario-1.html',
            permission: 'pac'
        },
        'formulario2': {
            page: 'formulario-2.html',
            permission: 'formulario-2'
        },
        'formulario3': {
            page: 'formulario-3.html',
            permission: 'formulario-3'
        },
        'formulario4': {
            page: 'formulario-4.html',
            permission: 'formulario-4'
        },
        // A√±adir mapeos directos para cada tipo de dashboard
        'dashboard-gps': {
            page: 'dashboard-gps.html',
            permission: 'dashboard-gps'
        },
        'dashboard-presupuesto': {
            page: 'dashboard-presupuesto.html',
            permission: 'dashboard-presupuesto'
        },
        'dashboard-abastecimiento': {
            page: 'dashboard-abastecimiento.html',
            permission: 'dashboard-abastecimiento'
        },
        'dashboard-bodega': {
            page: 'dashboard-bodega.html',
            permission: 'dashboard-bodega'
        }
    };
    
    // Obtener la configuraci√≥n para este tipo de dashboard
    const dashboardConfig = dashboardMappings[dashboardType];
    
    // Si no se identific√≥ una configuraci√≥n v√°lida, no hacer nada
    if (!dashboardConfig) {
        console.error('Tipo de dashboard no reconocido:', dashboardType);
        return;
    }
    
    // Verificar permisos de manera estricta
    if (hasStrictPermission(currentUser, dashboardConfig.permission)) {
        window.location.href = dashboardConfig.page;
    } else {
        // Mostrar mensaje de acceso denegado
        showAccessDeniedMessage();
    }
}

// Funci√≥n mejorada para verificar permisos de manera estricta
function hasStrictPermission(user, requiredPermission) {
    // Director y admin tienen acceso completo
    if (user.role === 'director' || user.role === 'admin') {
        return true;
    }
    
    // Casos especiales
    if (user.permissions) {
        // Caso especial para supervisor con permiso de combustible
        if (user.role === 'Combustible' && 
            requiredPermission === 'dashboard-abastecimiento' && 
            user.permissions.includes('combustible')) {
            return true;
        }
        
        // Caso especial para usuario con permiso pac
        if (user.role === 'user' && 
            requiredPermission === 'pac' &&
            user.permissions.includes('pac')) {
            return true;
        }
        
        // Verificaci√≥n directa del permiso
        if (user.permissions.includes(requiredPermission)) {
            return true;
        }
    }
    
    // Si no cumple ninguna condici√≥n anterior, no tiene permiso
    return false;
}



// Funci√≥n para deshabilitar visualmente los botones de acceso seg√∫n permisos
function updateAccessButtonsVisibility() {
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    
    if (!currentUser) return;
    
    // Obtener todos los botones de m√≥dulo
    const moduleButtons = document.querySelectorAll('.module-button');
    
    moduleButtons.forEach(button => {
        // Obtener el tipo de dashboard del evento onclick
        const onclickAttr = button.getAttribute('onclick');
        if (!onclickAttr) return;
        
        // Extraer el tipo de dashboard
        const match = onclickAttr.match(/redirectToDashboard\(['"]([^'"]+)['"]\)/);
        if (!match || !match[1]) return;
        
        const dashboardType = match[1];
        
        // Mapeo de tipos de dashboard a permisos requeridos
        const permissionMap = {
            'presupuesto': 'dashboard-gps',
            'obras': 'dashboard-presupuesto',
            'servicios': 'dashboard-abastecimiento',
            'seguridad': 'dashboard-seguridad',
            'formulario': 'pac',
            'formulario2': 'formulario-2',
            'dashboard-gps': 'dashboard-gps',
            'dashboard-presupuesto': 'dashboard-presupuesto',
            'dashboard-abastecimiento': 'dashboard-abastecimiento',
            'dashboard-bodega': 'dashboard-bodega'
        };
        
        const requiredPermission = permissionMap[dashboardType];
        
        // Verificar si el usuario tiene permiso
        if (!hasStrictPermission(currentUser, requiredPermission)) {
            // Deshabilitar visualmente el bot√≥n
            button.disabled = true;
            button.classList.add('disabled-button');
            button.style.backgroundColor = '#ccc';
            button.style.cursor = 'not-allowed';
            button.style.color = '#666';
            
            // Opcional: Cambiar el texto del bot√≥n
            button.innerHTML = 'Sin acceso <span class="ml-2">üîí</span>';
        }
    });
    
    // Tambi√©n actualizar los botones de dashboard
    const dashboardLinks = document.querySelectorAll('.view-dashboard');
    
    dashboardLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (!href) return;
        
        // Extraer el tipo de dashboard de la URL
        const dashboardType = href.replace('.html', '');
        
        // Verificar si el usuario tiene permiso
        if (!hasStrictPermission(currentUser, dashboardType)) {
            // Prevent default behavior
            link.addEventListener('click', function(e) {
                e.preventDefault();
                showAccessDeniedMessage();
            });
            
            // Deshabilitar visualmente el link
            link.classList.add('disabled-link');
            link.style.color = '#999';
            link.style.pointerEvents = 'all'; // Mantener habilitado para poder mostrar el mensaje
            link.style.cursor = 'not-allowed';
            
            // Opcional: Cambiar el texto
            link.innerHTML = '<span>Sin acceso</span> <i class="dashboard-icon">üîí</i>';
        }
    });
}

// Llamar a esta funci√≥n cuando se carga la p√°gina
document.addEventListener('DOMContentLoaded', function() {
    // Verificar permisos del usuario para la p√°gina actual
    checkPagePermission();
    
    // Actualizar visibilidad de botones de acceso
    updateAccessButtonsVisibility();
});   
        // Function to open assistance chat
        function openAssistance() {
            // Replace with your actual phone number for WhatsApp
            const phoneNumber = "959414178"; // Replace with your actual number
            window.open(`https://wa.me/${phoneNumber}`, '_blank');
        }
        
        // Animation for elements when they come into view
        document.addEventListener('DOMContentLoaded', function() {
            const fadeElements = document.querySelectorAll('.fade-in');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('in-view');
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.1
            });
            
            fadeElements.forEach(element => {
                observer.observe(element);
            });
            
            // Header scroll effect
            const header = document.querySelector('header');
            let lastScrollTop = 0;
            
            window.addEventListener('scroll', () => {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                if (scrollTop > 100) {
                    header.style.boxShadow = '0 5px 20px rgba(0, 0, 0, 0.1)';
                } else {
                    header.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.05)';
                }
                
                lastScrollTop = scrollTop;
            });
        });
    </script>
   
   
    <script>
        // Add this to your existing script section
        document.addEventListener('DOMContentLoaded', function() {
            const transparencyToggle = document.querySelector('.transparency-toggle');
            const transparencyLinks = document.querySelector('.transparency-links');
            
            // Check if elements exist
            if (transparencyToggle && transparencyLinks) {
                transparencyToggle.addEventListener('click', function() {
                    transparencyToggle.classList.toggle('active');
                    transparencyLinks.classList.toggle('active');
                });
                
                // Initialize menu state based on screen width
                function checkScreenWidth() {
                    if (window.innerWidth <= 768) {
                        transparencyLinks.classList.remove('active');
                    } else {
                        transparencyLinks.classList.add('active');
                    }
                }
                
                // Check on load and resize
                checkScreenWidth();
                window.addEventListener('resize', checkScreenWidth);
            }
        });
        // Loader - ocultar despu√©s de cargar la p√°gina
    window.addEventListener('load', function() {
        setTimeout(function() {
            document.querySelector('.loader').classList.add('hidden');
        }, 800);
    });
    
    // Efecto de part√≠culas para el hero
    document.addEventListener('DOMContentLoaded', function() {
        const heroSection = document.querySelector('.hero');
        
        // Crear el contenedor de part√≠culas
        const particlesContainer = document.createElement('div');
        particlesContainer.className = 'particles-container';
        heroSection.appendChild(particlesContainer);
        
        // Crear part√≠culas
        for (let i = 0; i < 50; i++) {
            createParticle(particlesContainer);
        }
        
        // Agregar botones al hero
        const heroContent = document.querySelector('.hero-content');
        const heroButtons = document.createElement('div');
        heroButtons.className = 'hero-buttons';
        heroButtons.innerHTML = `
            <button class="hero-button primary">Explorar Dashboards <span>‚Üí</span></button>
            <button class="hero-button">Conoce M√°s <span>‚Üì</span></button>
        `;
        heroContent.appendChild(heroButtons);
        
        // Agregar efecto de movimiento en el hero
        heroSection.addEventListener('mousemove', function(e) {
            const xPos = (e.clientX / window.innerWidth) - 0.5;
            const yPos = (e.clientY / window.innerHeight) - 0.5;
            
            const heroImage = document.querySelector('.hero-image');
            heroImage.style.transform = `translate(${xPos * 20}px, ${yPos * 20}px) scale(1.1)`;
            
            const heroContent = document.querySelector('.hero-content');
            heroContent.style.transform = `translate(${xPos * -30}px, ${yPos * -30}px)`;
        });
    });
    
    // Funci√≥n para crear part√≠culas
    function createParticle(container) {
        const particle = document.createElement('div');
        
        // Estilo aleatorio para cada part√≠cula
        var size = Math.random() * 5 + 1;
        var opacity = Math.random() * 0.5 + 0.1;
        
        // Posici√≥n aleatoria
        var xPos = Math.random() * 100;
        var yPos = Math.random() * 100;
        
        // Velocidad aleatoria
        var speedX = (Math.random() - 0.5) * 0.5;
        var speedY = (Math.random() - 0.5) * 0.5;
        
        // Aplicar estilos
        particle.style.cssText = `
            position: absolute;
            width: ${size}px;
            height: ${size}px;
            background-color: rgba(255, 255, 255, ${opacity});
            border-radius: 50%;
            top: ${yPos}%;
            left: ${xPos}%;
            pointer-events: none;
        `;
        
        container.appendChild(particle);
        
        // Animaci√≥n de movimiento
        let x = xPos;
        let y = yPos;
        
        function moveParticle() {
            x += speedX;
            y += speedY;
            
            // Rebote en los bordes
            if (x < 0 || x > 100) {
                x = Math.max(0, Math.min(100, x));
                speedX *= -1;
            }
            
            if (y < 0 || y > 100) {
                y = Math.max(0, Math.min(100, y));
                speedY *= -1;
            }
            
            particle.style.left = x + '%';
            particle.style.top = y + '%';
            
            requestAnimationFrame(moveParticle);
        }
        
        moveParticle();
    }
    
    // Mejorar las animaciones de scroll existentes
    const fadeElements = document.querySelectorAll('.fade-in');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('in-view');
                
                // A√±adir retraso escalonado a los elementos hijos para crear un efecto en cascada
                if (entry.target.classList.contains('module-grid')) {
                    const children = entry.target.querySelectorAll('.module');
                    children.forEach((child, index) => {
                        setTimeout(() => {
                            child.classList.add('in-view');
                        }, index * 150);
                    });
                }
                
                observer.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0.15,
        rootMargin: '0px 0px -100px 0px'
    });
    
    fadeElements.forEach(element => {
        observer.observe(element);
    });
    
    // A√±adir efecto de paralaje en movimiento
    window.addEventListener('scroll', function() {
        const scrollPosition = window.scrollY;
        
        // Paralaje para las im√°genes de dashboard
        document.querySelectorAll('.dashboard-image').forEach(function(image, index) {
            const speed = 0.05 * (index + 1);
            const yPos = scrollPosition * speed;
            image.style.transform = `translateY(${yPos}px)`;
        });
    });
    </script>
    
<script>
// A√±ade este c√≥digo al final de tu archivo JavaScript existente

document.addEventListener('DOMContentLoaded', function() {
    // Obtener referencia a los botones del h√©roe una vez que se hayan creado
    const heroContent = document.querySelector('.hero-content');
    
    // Observador para detectar cuando se a√±aden los botones al DOM
    const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
            if (mutation.addedNodes.length) {
                const heroButtons = document.querySelector('.hero-buttons');
                if (heroButtons) {
                    // Configurar el bot√≥n "Explorar Dashboards"
                    const dashboardButton = heroButtons.querySelector('.hero-button.primary');
                    if (dashboardButton) {
                        dashboardButton.addEventListener('click', function() {
                            // Desplazarse suavemente a la secci√≥n de dashboards
                            const dashboardSection = document.querySelector('.dashboard-modules');
                            if (dashboardSection) {
                                dashboardSection.scrollIntoView({ behavior: 'smooth' });
                            }
                        });
                    }
                    
                    // Configurar el bot√≥n "Conoce M√°s"
                    const moreButton = heroButtons.querySelector('.hero-button:not(.primary)');
                    if (moreButton) {
                        moreButton.addEventListener('click', function() {
                            // Desplazarse suavemente a la secci√≥n de formularios
                            const formulariosSection = document.querySelector('.modules');
                            if (formulariosSection) {
                                formulariosSection.scrollIntoView({ behavior: 'smooth' });
                            }
                        });
                    }
                    
                    // Detener el observador una vez que se hayan configurado los botones
                    observer.disconnect();
                }
            }
        });
    });
    
    // Iniciar la observaci√≥n del elemento hero-content
    observer.observe(heroContent, { childList: true, subtree: true });
    
    // En caso de que los botones ya existan en el DOM
    const existingHeroButtons = document.querySelector('.hero-buttons');
    if (existingHeroButtons) {
        const dashboardButton = existingHeroButtons.querySelector('.hero-button.primary');
        if (dashboardButton) {
            dashboardButton.addEventListener('click', function() {
                const dashboardSection = document.querySelector('.dashboard-modules');
                if (dashboardSection) {
                    dashboardSection.scrollIntoView({ behavior: 'smooth' });
                }
            });
        }
        
        const moreButton = existingHeroButtons.querySelector('.hero-button:not(.primary)');
        if (moreButton) {
            moreButton.addEventListener('click', function() {
                const formulariosSection = document.querySelector('.modules');
                if (formulariosSection) {
                    formulariosSection.scrollIntoView({ behavior: 'smooth' });
                }
            });
        }
    }
});
</script>
</body>
</html>